{"version":3,"file":"getWasmBoyTsCore.cjs.js","sources":["core.esm.js","../../core/portable/getTsCore.js"],"sourcesContent":["// Banner placed by rollup to mock out some items on our esm build\n// This is useful for things like wasmmemory\n\nconst wasmboyMemorySize = 0x8b0000;\n\n// Simply initialized to the size we need\nconst wasmByteMemory = new Uint8ClampedArray(wasmboyMemorySize);\n\n// Memory mock\nexport const memory = {\n  size: () => {\n    return wasmboyMemorySize;\n  },\n  grow: () => {},\n  wasmByteMemory: wasmByteMemory\n};\n\nconst load = offset => {\n  return wasmByteMemory[offset];\n};\n\nconst store = (offset, value) => {\n  wasmByteMemory[offset] = value;\n};\n\nconst abs = value => {\n  return Math.abs(value);\n};\n\nconst ceil = value => {\n  return Math.ceil(value);\n};\n\n// Constants that will be shared by the wasm core of the emulator\n// And libraries built around the wasm (such as the official JS), or @CryZe wasmboy-rs\n// ----------------------------------\n// Wasmboy Memory Map\n// https://docs.google.com/spreadsheets/d/17xrEzJk5-sCB9J2mMJcVnzhbE-XH_NvczVSQH9OHvRk/edit?usp=sharing\n// ----------------------------------\n// AssemblyScript\nvar ASSEMBLYSCRIPT_MEMORY_LOCATION = 0x000000;\nvar ASSEMBLYSCRIPT_MEMORY_SIZE = 0x000400;\n// WasmBoy States\nvar WASMBOY_STATE_LOCATION = ASSEMBLYSCRIPT_MEMORY_LOCATION + ASSEMBLYSCRIPT_MEMORY_SIZE;\nvar WASMBOY_STATE_SIZE = 0x000400;\n// Gameboy Internal Memory\nvar VIDEO_RAM_LOCATION = WASMBOY_STATE_LOCATION + WASMBOY_STATE_SIZE;\nvar VIDEO_RAM_SIZE = 0x004000;\nvar WORK_RAM_LOCATION = VIDEO_RAM_LOCATION + VIDEO_RAM_SIZE;\nvar WORK_RAM_SIZE = 0x008000;\nvar OTHER_GAMEBOY_INTERNAL_MEMORY_LOCATION = WORK_RAM_LOCATION + WORK_RAM_SIZE;\nvar OTHER_GAMEBOY_INTERNAL_MEMORY_SIZE = 0x004000;\n// General Gameboy Internal Memory\nvar GAMEBOY_INTERNAL_MEMORY_LOCATION = VIDEO_RAM_LOCATION;\nvar GAMEBOY_INTERNAL_MEMORY_SIZE = OTHER_GAMEBOY_INTERNAL_MEMORY_LOCATION - VIDEO_RAM_LOCATION + OTHER_GAMEBOY_INTERNAL_MEMORY_SIZE;\n// Graphics Output\nvar GBC_PALETTE_LOCATION = OTHER_GAMEBOY_INTERNAL_MEMORY_LOCATION + OTHER_GAMEBOY_INTERNAL_MEMORY_SIZE;\nvar GBC_PALETTE_SIZE = 0x000080;\nvar BG_PRIORITY_MAP_LOCATION = GBC_PALETTE_LOCATION + GBC_PALETTE_SIZE;\nvar BG_PRIORITY_MAP_SIZE = 0x005c00;\nvar FRAME_LOCATION = BG_PRIORITY_MAP_LOCATION + BG_PRIORITY_MAP_SIZE;\nvar FRAME_SIZE = 0x016c00;\nvar BACKGROUND_MAP_LOCATION = FRAME_LOCATION + FRAME_SIZE;\nvar BACKGROUND_MAP_SIZE = 0x030000;\nvar TILE_DATA_LOCATION = BACKGROUND_MAP_LOCATION + BACKGROUND_MAP_SIZE;\nvar TILE_DATA_SIZE = 0x024000;\nvar OAM_TILES_LOCATION = TILE_DATA_LOCATION + TILE_DATA_SIZE;\nvar OAM_TILES_SIZE = 0x003c00;\n// General Graphics Output\nvar GRAPHICS_OUTPUT_LOCATION = GBC_PALETTE_LOCATION;\nvar GRAPHICS_OUTPUT_SIZE = OAM_TILES_LOCATION - GBC_PALETTE_LOCATION + OAM_TILES_SIZE;\n// Audio Output\nvar CHANNEL_1_BUFFER_LOCATION = OAM_TILES_LOCATION + OAM_TILES_SIZE;\nvar CHANNEL_1_BUFFER_SIZE = 0x020000;\nvar CHANNEL_2_BUFFER_LOCATION = CHANNEL_1_BUFFER_LOCATION + CHANNEL_1_BUFFER_SIZE;\nvar CHANNEL_2_BUFFER_SIZE = 0x020000;\nvar CHANNEL_3_BUFFER_LOCATION = CHANNEL_2_BUFFER_LOCATION + CHANNEL_2_BUFFER_SIZE;\nvar CHANNEL_3_BUFFER_SIZE = 0x020000;\nvar CHANNEL_4_BUFFER_LOCATION = CHANNEL_3_BUFFER_LOCATION + CHANNEL_3_BUFFER_SIZE;\nvar CHANNEL_4_BUFFER_SIZE = 0x020000;\nvar AUDIO_BUFFER_LOCATION = CHANNEL_4_BUFFER_LOCATION + CHANNEL_4_BUFFER_SIZE;\nvar AUDIO_BUFFER_SIZE = 0x020000;\n// Catridge Ram\nvar CARTRIDGE_RAM_LOCATION = AUDIO_BUFFER_LOCATION + AUDIO_BUFFER_SIZE;\nvar CARTRIDGE_RAM_SIZE = 0x020000;\n// Boot ROM\n// http://gbdev.gg8.se/files/roms/bootroms/\n// Largest Boot rom is GBC, at 2.5KB\nvar BOOT_ROM_LOCATION = CARTRIDGE_RAM_LOCATION + CARTRIDGE_RAM_SIZE;\nvar BOOT_ROM_SIZE = 0x000a00;\n// Cartridge ROM\nvar CARTRIDGE_ROM_LOCATION = BOOT_ROM_LOCATION + BOOT_ROM_SIZE;\nvar CARTRIDGE_ROM_SIZE = 0x7e0400;\n// Debug Memory\nvar DEBUG_GAMEBOY_MEMORY_LOCATION = CARTRIDGE_ROM_LOCATION + CARTRIDGE_ROM_SIZE;\nvar DEBUG_GAMEBOY_MEMORY_SIZE = 0xffff;\n// Final General Size\nvar WASMBOY_MEMORY_LOCATION = 0x000000;\nvar WASMBOY_MEMORY_SIZE = DEBUG_GAMEBOY_MEMORY_LOCATION + DEBUG_GAMEBOY_MEMORY_SIZE + 1;\nvar WASMBOY_WASM_PAGES = ceil(WASMBOY_MEMORY_SIZE / 1024 / 64) + 1;\n\nvar Config = /** @class */ (function () {\n    function Config() {\n    }\n    // Boot Rom\n    Config.enableBootRom = false;\n    // GBC Options\n    Config.useGbcWhenAvailable = true;\n    // Batch Processing\n    Config.audioBatchProcessing = false;\n    Config.graphicsBatchProcessing = false;\n    Config.timersBatchProcessing = false;\n    // Scanline Rendering\n    Config.graphicsDisableScanlineRendering = false;\n    // Acumulate Sound Samples\n    Config.audioAccumulateSamples = false;\n    // Tile Rednering\n    Config.tileRendering = false;\n    Config.tileCaching = false;\n    // Audio Debugging\n    Config.enableAudioDebugging = false;\n    return Config;\n}());\n\n// Portable Code for JS Wasm Benchmarking\n// https://github.com/AssemblyScript/assemblyscript/wiki/Writing-portable-code\n// https://github.com/AssemblyScript/assemblyscript/blob/master/std/portable/index.js\nfunction u8Portable(param) {\n    return param & 0xff;\n}\nfunction u16Portable(param) {\n    return param & 0xffff;\n}\nfunction i8Portable(param) {\n    return (param << 24) >> 24;\n}\nfunction i32Portable(param) {\n    return param | 0;\n}\n\n// Set flag bit on on register F. For instance set zero flag to zero -> (7, 0)\nfunction setFlagBit(flagBit, flagValue) {\n    var bitwiseOperand = u8Portable(1 << flagBit);\n    if (flagValue > 0) {\n        Cpu.registerF = Cpu.registerF | bitwiseOperand;\n    }\n    else {\n        // XOR out the two ones\n        bitwiseOperand = 0xff ^ bitwiseOperand;\n        Cpu.registerF = Cpu.registerF & bitwiseOperand;\n    }\n    return Cpu.registerF;\n}\n// Overload the set flag bit for ease of use\nfunction setZeroFlag$$1(value) {\n    setFlagBit(7, value);\n}\nfunction setSubtractFlag(value) {\n    setFlagBit(6, value);\n}\nfunction setHalfCarryFlag(value) {\n    setFlagBit(5, value);\n}\nfunction setCarryFlag(value) {\n    setFlagBit(4, value);\n}\n// Getters for flags\nfunction getZeroFlag$$1() {\n    return (Cpu.registerF >> 7) & 0x01;\n}\nfunction getSubtractFlag() {\n    return (Cpu.registerF >> 6) & 0x01;\n}\nfunction getHalfCarryFlag() {\n    return (Cpu.registerF >> 5) & 0x01;\n}\nfunction getCarryFlag$$1() {\n    return (Cpu.registerF >> 4) & 0x01;\n}\n// Must be run before the register actually performs the add\n// amountToAdd i16, since max number can be an u8\nfunction checkAndSetEightBitHalfCarryFlag(value, amountToAdd) {\n    if (amountToAdd >= 0) {\n        // https://robdor.com/2016/08/10/gameboy-emulator-half-carry-flag/\n        var result = u8Portable((value & 0x0f) + (amountToAdd & 0x0f)) & 0x10;\n        setHalfCarryFlag((result !== 0x00));\n    }\n    else {\n        // From: https://github.com/djhworld/gomeboycolor/blob/master/src/cpu/index.go\n        // CTRL+F \"subBytes(a, b byte)\"\n        setHalfCarryFlag(((abs(amountToAdd) & 0x0f) > (value & 0x0f)));\n    }\n}\nfunction checkAndSetEightBitCarryFlag(value, amountToAdd) {\n    if (amountToAdd >= 0) {\n        var result = u8Portable(value + amountToAdd);\n        setCarryFlag((value > result));\n    }\n    else {\n        setCarryFlag((abs(amountToAdd) > value));\n    }\n}\n// Function to handle 16 bit addition overflow, and set the carry flags accordingly\n// i32 on valueTwo to support passing signed immedaite values\nfunction checkAndSetSixteenBitFlagsAddOverflow(valueOne, valueTwo, useStackPointerBits) {\n    // need to differentiate between HL and SP\n    // HL carries are at 11 and 15, SP carries are at 3 and 7 :p\n    if (useStackPointerBits) {\n        // Logic from : https://github.com/nakardo/node-gameboy/blob/master/lib/cpu/opcodes.js\n        // CTRL+F add_sp_n\n        // using the stack pointer bits means we can safely assume the value is signed\n        var signedValueOne = valueOne;\n        var result = signedValueOne + valueTwo;\n        var flagXor = signedValueOne ^ valueTwo ^ result;\n        setHalfCarryFlag(((flagXor & 0x10) !== 0));\n        setCarryFlag(((flagXor & 0x100) !== 0));\n    }\n    else {\n        // Logic from: https://github.com/djhworld/gomeboycolor/blob/master/src/cpu/index.go\n        // CTRL+F addWords\n        // Value two is not signed\n        var result = u16Portable(valueOne + valueTwo);\n        // Check the carry flag by allowing the overflow\n        setCarryFlag((result < valueOne));\n        // To check for half carry flag (bit 15), by XOR'ing valyes, and and'ing the bit in question\n        var halfCarryXor = valueOne ^ valueTwo ^ result;\n        var halfCarryAnd = u16Portable(halfCarryXor & 0x1000);\n        setHalfCarryFlag((halfCarryAnd !== 0x00));\n    }\n}\n\n// File for all of the colors for different GB Palletes\n// https://i.imgur.com/HupBY.png\n// https://www.libretro.com/index.php/gambatte-progress-report/\n// https://tcrf.net/Notes:Game_Boy_Color_Bootstrap_ROM\n// Our default wasmboy gb colors\nvar WasmBoyGBColors = /** @class */ (function () {\n    function WasmBoyGBColors() {\n    }\n    //Bg\n    WasmBoyGBColors.bgWhite = 0xf2f2f2;\n    WasmBoyGBColors.bgLightGrey = 0xa0a0a0;\n    WasmBoyGBColors.bgDarkGrey = 0x585858;\n    WasmBoyGBColors.bgBlack = 0x080808;\n    // Obj 0\n    WasmBoyGBColors.obj0White = 0xf2f2f2;\n    WasmBoyGBColors.obj0LightGrey = 0xa0a0a0;\n    WasmBoyGBColors.obj0DarkGrey = 0x585858;\n    WasmBoyGBColors.obj0Black = 0x080808;\n    // Obj1\n    WasmBoyGBColors.obj1White = 0xf2f2f2;\n    WasmBoyGBColors.obj1LightGrey = 0xa0a0a0;\n    WasmBoyGBColors.obj1DarkGrey = 0x585858;\n    WasmBoyGBColors.obj1Black = 0x080808;\n    return WasmBoyGBColors;\n}());\n// Action Button: Right\nvar GreenColors = /** @class */ (function () {\n    function GreenColors() {\n    }\n    //Bg\n    GreenColors.bgWhite = 0xffffff;\n    GreenColors.bgLightGrey = 0x52ff00;\n    GreenColors.bgDarkGrey = 0xff4200;\n    GreenColors.bgBlack = 0x000000;\n    // Obj 0\n    GreenColors.obj0White = 0xffffff;\n    GreenColors.obj0LightGrey = 0x52ff00;\n    GreenColors.obj0DarkGrey = 0xff4200;\n    GreenColors.obj0Black = 0x000000;\n    // Obj1\n    GreenColors.obj1White = 0xffffff;\n    GreenColors.obj1LightGrey = 0x52ff00;\n    GreenColors.obj1DarkGrey = 0xff4200;\n    GreenColors.obj1Black = 0x000000;\n    return GreenColors;\n}());\n// Action Button: A + Down\nvar OrangeColors = /** @class */ (function () {\n    function OrangeColors() {\n    }\n    //Bg\n    OrangeColors.bgWhite = 0xffffff;\n    OrangeColors.bgLightGrey = 0xffff00;\n    OrangeColors.bgDarkGrey = 0xff0000;\n    OrangeColors.bgBlack = 0x000000;\n    // Obj 0\n    OrangeColors.obj0White = 0xffffff;\n    OrangeColors.obj0LightGrey = 0xffff00;\n    OrangeColors.obj0DarkGrey = 0xff0000;\n    OrangeColors.obj0Black = 0x000000;\n    // Obj1\n    OrangeColors.obj1White = 0xffffff;\n    OrangeColors.obj1LightGrey = 0xffff00;\n    OrangeColors.obj1DarkGrey = 0xff0000;\n    OrangeColors.obj1Black = 0x000000;\n    return OrangeColors;\n}());\n// Action Button: Up\nvar BrownColors = /** @class */ (function () {\n    function BrownColors() {\n    }\n    //Bg\n    BrownColors.bgWhite = 0xffffff;\n    BrownColors.bgLightGrey = 0xffad63;\n    BrownColors.bgDarkGrey = 0x843100;\n    BrownColors.bgBlack = 0x000000;\n    // Obj 0\n    BrownColors.obj0White = 0xffffff;\n    BrownColors.obj0LightGrey = 0xffad63;\n    BrownColors.obj0DarkGrey = 0x843100;\n    BrownColors.obj0Black = 0x000000;\n    // Obj1\n    BrownColors.obj1White = 0xffffff;\n    BrownColors.obj1LightGrey = 0xffad63;\n    BrownColors.obj1DarkGrey = 0x843100;\n    BrownColors.obj1Black = 0x000000;\n    return BrownColors;\n}());\n// Action Button: B + Right\nvar InvertedColors = /** @class */ (function () {\n    function InvertedColors() {\n    }\n    //Bg\n    InvertedColors.bgWhite = 0x000000;\n    InvertedColors.bgLightGrey = 0x008484;\n    InvertedColors.bgDarkGrey = 0xffde00;\n    InvertedColors.bgBlack = 0xffffff;\n    // Obj 0\n    InvertedColors.obj0White = 0x000000;\n    InvertedColors.obj0LightGrey = 0x008484;\n    InvertedColors.obj0DarkGrey = 0xffde00;\n    InvertedColors.obj0Black = 0xffffff;\n    // Obj1\n    InvertedColors.obj1White = 0x000000;\n    InvertedColors.obj1LightGrey = 0x008484;\n    InvertedColors.obj1DarkGrey = 0xffde00;\n    InvertedColors.obj1Black = 0xffffff;\n    return InvertedColors;\n}());\n// Action Button: B + Left\nvar GrayscaleColors = /** @class */ (function () {\n    function GrayscaleColors() {\n    }\n    //Bg\n    GrayscaleColors.bgWhite = 0xffffff;\n    GrayscaleColors.bgLightGrey = 0xa5a5a5;\n    GrayscaleColors.bgDarkGrey = 0x525252;\n    GrayscaleColors.bgBlack = 0x000000;\n    // Obj 0\n    GrayscaleColors.obj0White = 0xffffff;\n    GrayscaleColors.obj0LightGrey = 0xa5a5a5;\n    GrayscaleColors.obj0DarkGrey = 0x525252;\n    GrayscaleColors.obj0Black = 0x000000;\n    // Obj1\n    GrayscaleColors.obj1White = 0xffffff;\n    GrayscaleColors.obj1LightGrey = 0xa5a5a5;\n    GrayscaleColors.obj1DarkGrey = 0x525252;\n    GrayscaleColors.obj1Black = 0x000000;\n    return GrayscaleColors;\n}());\n// Action Button: Down\nvar PastelMixColors = /** @class */ (function () {\n    function PastelMixColors() {\n    }\n    //Bg\n    PastelMixColors.bgWhite = 0xffffa5;\n    PastelMixColors.bgLightGrey = 0xff9494;\n    PastelMixColors.bgDarkGrey = 0x9494ff;\n    PastelMixColors.bgBlack = 0x000000;\n    // Obj 0\n    PastelMixColors.obj0White = 0xffffa5;\n    PastelMixColors.obj0LightGrey = 0xff9494;\n    PastelMixColors.obj0DarkGrey = 0x9494ff;\n    PastelMixColors.obj0Black = 0x000000;\n    // Obj1\n    PastelMixColors.obj1White = 0xffffa5;\n    PastelMixColors.obj1LightGrey = 0xff9494;\n    PastelMixColors.obj1DarkGrey = 0x9494ff;\n    PastelMixColors.obj1Black = 0x000000;\n    return PastelMixColors;\n}());\n// Action Button: B + Up\nvar DarkBrownColors = /** @class */ (function () {\n    function DarkBrownColors() {\n    }\n    //Bg\n    DarkBrownColors.bgWhite = 0xffe6c5;\n    DarkBrownColors.bgLightGrey = 0xce9c84;\n    DarkBrownColors.bgDarkGrey = 0x846b29;\n    DarkBrownColors.bgBlack = 0x5a3108;\n    // Obj 0\n    DarkBrownColors.obj0White = 0xffffff;\n    DarkBrownColors.obj0LightGrey = 0xffad63;\n    DarkBrownColors.obj0DarkGrey = 0x843100;\n    DarkBrownColors.obj0Black = 0x000000;\n    // Obj1\n    DarkBrownColors.obj1White = 0xffffff;\n    DarkBrownColors.obj1LightGrey = 0xffad63;\n    DarkBrownColors.obj1DarkGrey = 0x843100;\n    DarkBrownColors.obj1Black = 0x000000;\n    return DarkBrownColors;\n}());\n// Action Button: A + Right\nvar DarkGreenColors = /** @class */ (function () {\n    function DarkGreenColors() {\n    }\n    //Bg\n    DarkGreenColors.bgWhite = 0xffffff;\n    DarkGreenColors.bgLightGrey = 0x7bff31;\n    DarkGreenColors.bgDarkGrey = 0x0063c5;\n    DarkGreenColors.bgBlack = 0x000000;\n    // Obj 0\n    DarkGreenColors.obj0White = 0xffffff;\n    DarkGreenColors.obj0LightGrey = 0xff8484;\n    DarkGreenColors.obj0DarkGrey = 0x943a3a;\n    DarkGreenColors.obj0Black = 0x000000;\n    // Obj1\n    DarkGreenColors.obj1White = 0xffffff;\n    DarkGreenColors.obj1LightGrey = 0xff8484;\n    DarkGreenColors.obj1DarkGrey = 0x943a3a;\n    DarkGreenColors.obj1Black = 0x000000;\n    return DarkGreenColors;\n}());\n// Action Button: A + Left\nvar DarkBlueColors = /** @class */ (function () {\n    function DarkBlueColors() {\n    }\n    //Bg\n    DarkBlueColors.bgWhite = 0xffffff;\n    DarkBlueColors.bgLightGrey = 0x8c8cde;\n    DarkBlueColors.bgDarkGrey = 0x52528c;\n    DarkBlueColors.bgBlack = 0x000000;\n    // Obj 0\n    DarkBlueColors.obj0White = 0xffffff;\n    DarkBlueColors.obj0LightGrey = 0xff8484;\n    DarkBlueColors.obj0DarkGrey = 0x943a3a;\n    DarkBlueColors.obj0Black = 0x000000;\n    // Obj1\n    DarkBlueColors.obj1White = 0xffffff;\n    DarkBlueColors.obj1LightGrey = 0xffad63;\n    DarkBlueColors.obj1DarkGrey = 0x843100;\n    DarkBlueColors.obj1Black = 0x000000;\n    return DarkBlueColors;\n}());\n// Action Button: A + Up\nvar RedColors = /** @class */ (function () {\n    function RedColors() {\n    }\n    //Bg\n    RedColors.bgWhite = 0xffffff;\n    RedColors.bgLightGrey = 0xff8484;\n    RedColors.bgDarkGrey = 0x943a3a;\n    RedColors.bgBlack = 0x000000;\n    // Obj 0\n    RedColors.obj0White = 0xffffff;\n    RedColors.obj0LightGrey = 0x7bff31;\n    RedColors.obj0DarkGrey = 0x008400;\n    RedColors.obj0Black = 0x000000;\n    // Obj1\n    RedColors.obj1White = 0xffffff;\n    RedColors.obj1LightGrey = 0x63a5ff;\n    RedColors.obj1DarkGrey = 0x0000ff;\n    RedColors.obj1Black = 0x000000;\n    return RedColors;\n}());\n// Action Button: Left\nvar BlueColors = /** @class */ (function () {\n    function BlueColors() {\n    }\n    //Bg\n    BlueColors.bgWhite = 0xffffff;\n    BlueColors.bgLightGrey = 0x63a5ff;\n    BlueColors.bgDarkGrey = 0x0000ff;\n    BlueColors.bgBlack = 0x000000;\n    // Obj 0\n    BlueColors.obj0White = 0xffffff;\n    BlueColors.obj0LightGrey = 0xff8484;\n    BlueColors.obj0DarkGrey = 0x943a3a;\n    BlueColors.obj0Black = 0x000000;\n    // Obj1\n    BlueColors.obj1White = 0xffffff;\n    BlueColors.obj1LightGrey = 0x7bff31;\n    BlueColors.obj1DarkGrey = 0x008400;\n    BlueColors.obj1Black = 0x000000;\n    return BlueColors;\n}());\n// Action Button: B + Down\nvar YellowColors = /** @class */ (function () {\n    function YellowColors() {\n    }\n    //Bg\n    YellowColors.bgWhite = 0xffffff;\n    YellowColors.bgLightGrey = 0xffff00;\n    YellowColors.bgDarkGrey = 0x7b4a00;\n    YellowColors.bgBlack = 0x000000;\n    // Obj 0\n    YellowColors.obj0White = 0xffffff;\n    YellowColors.obj0LightGrey = 0x63a5ff;\n    YellowColors.obj0DarkGrey = 0x0000ff;\n    YellowColors.obj0Black = 0x000000;\n    // Obj1\n    YellowColors.obj1White = 0xffffff;\n    YellowColors.obj1LightGrey = 0x7bff31;\n    YellowColors.obj1DarkGrey = 0x008400;\n    YellowColors.obj1Black = 0x000000;\n    return YellowColors;\n}());\n// Assigned Color Palettes\n// Alleyway\nvar Table00Entry08Colors = /** @class */ (function () {\n    function Table00Entry08Colors() {\n    }\n    //Bg\n    Table00Entry08Colors.bgWhite = 0xa59cff;\n    Table00Entry08Colors.bgLightGrey = 0xffff00;\n    Table00Entry08Colors.bgDarkGrey = 0x006300;\n    Table00Entry08Colors.bgBlack = 0x000000;\n    // Obj 0\n    Table00Entry08Colors.obj0White = 0xa59cff;\n    Table00Entry08Colors.obj0LightGrey = 0xffff00;\n    Table00Entry08Colors.obj0DarkGrey = 0x006300;\n    Table00Entry08Colors.obj0Black = 0x000000;\n    // Obj1\n    Table00Entry08Colors.obj1White = 0xa59cff;\n    Table00Entry08Colors.obj1LightGrey = 0xffff00;\n    Table00Entry08Colors.obj1DarkGrey = 0x006300;\n    Table00Entry08Colors.obj1Black = 0x000000;\n    return Table00Entry08Colors;\n}());\n// Pokemon Blue\nvar Table01Entry0BColors = /** @class */ (function () {\n    function Table01Entry0BColors() {\n    }\n    //Bg\n    Table01Entry0BColors.bgWhite = 0xffffff;\n    Table01Entry0BColors.bgLightGrey = 0x63a5ff;\n    Table01Entry0BColors.bgDarkGrey = 0x0000ff;\n    Table01Entry0BColors.bgBlack = 0x000000;\n    // Obj 0\n    Table01Entry0BColors.obj0White = 0xffffff;\n    Table01Entry0BColors.obj0LightGrey = 0xff8484;\n    Table01Entry0BColors.obj0DarkGrey = 0x943a3a;\n    Table01Entry0BColors.obj0Black = 0x000000;\n    // Obj1\n    Table01Entry0BColors.obj1White = 0xffffff;\n    Table01Entry0BColors.obj1LightGrey = 0x63a5ff;\n    Table01Entry0BColors.obj1DarkGrey = 0x0000ff;\n    Table01Entry0BColors.obj1Black = 0x000000;\n    return Table01Entry0BColors;\n}());\n// Pokemon Red\nvar Table01Entry10Colors = /** @class */ (function () {\n    function Table01Entry10Colors() {\n    }\n    //Bg\n    Table01Entry10Colors.bgWhite = 0xffffff;\n    Table01Entry10Colors.bgLightGrey = 0xff8484;\n    Table01Entry10Colors.bgDarkGrey = 0x943a3a;\n    Table01Entry10Colors.bgBlack = 0x000000;\n    // Obj 0\n    Table01Entry10Colors.obj0White = 0xffffff;\n    Table01Entry10Colors.obj0LightGrey = 0x7bff31;\n    Table01Entry10Colors.obj0DarkGrey = 0x008400;\n    Table01Entry10Colors.obj0Black = 0x000000;\n    // Obj1\n    Table01Entry10Colors.obj1White = 0xffffff;\n    Table01Entry10Colors.obj1LightGrey = 0xff8484;\n    Table01Entry10Colors.obj1DarkGrey = 0x943a3a;\n    Table01Entry10Colors.obj1Black = 0x000000;\n    return Table01Entry10Colors;\n}());\n// Super Mario Land\nvar Table03Entry0AColors = /** @class */ (function () {\n    function Table03Entry0AColors() {\n    }\n    //Bg\n    Table03Entry0AColors.bgWhite = 0xb5b5ff;\n    Table03Entry0AColors.bgLightGrey = 0xffff94;\n    Table03Entry0AColors.bgDarkGrey = 0xad5a42;\n    Table03Entry0AColors.bgBlack = 0x000000;\n    // Obj 0\n    Table03Entry0AColors.obj0White = 0x000000;\n    Table03Entry0AColors.obj0LightGrey = 0xffffff;\n    Table03Entry0AColors.obj0DarkGrey = 0xff8484;\n    Table03Entry0AColors.obj0Black = 0x943a3a;\n    // Obj1\n    Table03Entry0AColors.obj1White = 0x000000;\n    Table03Entry0AColors.obj1LightGrey = 0xffffff;\n    Table03Entry0AColors.obj1DarkGrey = 0xff8484;\n    Table03Entry0AColors.obj1Black = 0x943a3a;\n    return Table03Entry0AColors;\n}());\n// Super Mario Land 3 - WarioLand\nvar Table05Entry00Colors = /** @class */ (function () {\n    function Table05Entry00Colors() {\n    }\n    //Bg\n    Table05Entry00Colors.bgWhite = 0xffffff;\n    Table05Entry00Colors.bgLightGrey = 0xadad84;\n    Table05Entry00Colors.bgDarkGrey = 0x42737b;\n    Table05Entry00Colors.bgBlack = 0x000000;\n    // Obj 0\n    Table05Entry00Colors.obj0White = 0xffffff;\n    Table05Entry00Colors.obj0LightGrey = 0xff7300;\n    Table05Entry00Colors.obj0DarkGrey = 0x944200;\n    Table05Entry00Colors.obj0Black = 0x000000;\n    // Obj1\n    Table05Entry00Colors.obj1White = 0xffffff;\n    Table05Entry00Colors.obj1LightGrey = 0x5abdff;\n    Table05Entry00Colors.obj1DarkGrey = 0xff0000;\n    Table05Entry00Colors.obj1Black = 0x0000ff;\n    return Table05Entry00Colors;\n}());\n// Donkey Kong\nvar Table05Entry01Colors = /** @class */ (function () {\n    function Table05Entry01Colors() {\n    }\n    //Bg\n    Table05Entry01Colors.bgWhite = 0xffff9c;\n    Table05Entry01Colors.bgLightGrey = 0x94b5ff;\n    Table05Entry01Colors.bgDarkGrey = 0x639473;\n    Table05Entry01Colors.bgBlack = 0x003a3a;\n    // Obj 0\n    Table05Entry01Colors.obj0White = 0xffc542;\n    Table05Entry01Colors.obj0LightGrey = 0xffd600;\n    Table05Entry01Colors.obj0DarkGrey = 0x943a00;\n    Table05Entry01Colors.obj0Black = 0x4a0000;\n    // Obj1\n    Table05Entry01Colors.obj1White = 0xffffff;\n    Table05Entry01Colors.obj1LightGrey = 0xff8484;\n    Table05Entry01Colors.obj1DarkGrey = 0x943a3a;\n    Table05Entry01Colors.obj1Black = 0x000000;\n    return Table05Entry01Colors;\n}());\n// Tennis\nvar Table05Entry02Colors = /** @class */ (function () {\n    function Table05Entry02Colors() {\n    }\n    //Bg\n    Table05Entry02Colors.bgWhite = 0x6bff00;\n    Table05Entry02Colors.bgLightGrey = 0xffffff;\n    Table05Entry02Colors.bgDarkGrey = 0xff524a;\n    Table05Entry02Colors.bgBlack = 0x000000;\n    // Obj 0\n    Table05Entry02Colors.obj0White = 0xffffff;\n    Table05Entry02Colors.obj0LightGrey = 0xffffff;\n    Table05Entry02Colors.obj0DarkGrey = 0x63a5ff;\n    Table05Entry02Colors.obj0Black = 0x0000ff;\n    // Obj1\n    Table05Entry02Colors.obj1White = 0xffffff;\n    Table05Entry02Colors.obj1LightGrey = 0xffad63;\n    Table05Entry02Colors.obj1DarkGrey = 0x843100;\n    Table05Entry02Colors.obj1Black = 0x000000;\n    return Table05Entry02Colors;\n}());\n// Kirby's Dream Land\nvar Table05Entry08Colors = /** @class */ (function () {\n    function Table05Entry08Colors() {\n    }\n    //Bg\n    Table05Entry08Colors.bgWhite = 0xa59cff;\n    Table05Entry08Colors.bgLightGrey = 0xffff00;\n    Table05Entry08Colors.bgDarkGrey = 0x006300;\n    Table05Entry08Colors.bgBlack = 0x000000;\n    // Obj 0\n    Table05Entry08Colors.obj0White = 0xff6352;\n    Table05Entry08Colors.obj0LightGrey = 0xd60000;\n    Table05Entry08Colors.obj0DarkGrey = 0x630000;\n    Table05Entry08Colors.obj0Black = 0x000000;\n    // Obj1\n    Table05Entry08Colors.obj1White = 0x0000ff;\n    Table05Entry08Colors.obj1LightGrey = 0xffffff;\n    Table05Entry08Colors.obj1DarkGrey = 0xffff7b;\n    Table05Entry08Colors.obj1Black = 0x0084ff;\n    return Table05Entry08Colors;\n}());\n// Super Mario Land 2 BAYYYBEEE\nvar Table05Entry09Colors = /** @class */ (function () {\n    function Table05Entry09Colors() {\n    }\n    //Bg\n    Table05Entry09Colors.bgWhite = 0xffffce;\n    Table05Entry09Colors.bgLightGrey = 0x63efef;\n    Table05Entry09Colors.bgDarkGrey = 0x9c8431;\n    Table05Entry09Colors.bgBlack = 0x5a5a5a;\n    // Obj 0\n    Table05Entry09Colors.obj0White = 0xffffff;\n    Table05Entry09Colors.obj0LightGrey = 0xff7300;\n    Table05Entry09Colors.obj0DarkGrey = 0x944200;\n    Table05Entry09Colors.obj0Black = 0x000000;\n    // Obj1\n    Table05Entry09Colors.obj1White = 0xffffff;\n    Table05Entry09Colors.obj1LightGrey = 0x63a5ff;\n    Table05Entry09Colors.obj1DarkGrey = 0x0000ff;\n    Table05Entry09Colors.obj1Black = 0x000000;\n    return Table05Entry09Colors;\n}());\n// Link's Awakening\nvar Table05Entry11Colors = /** @class */ (function () {\n    function Table05Entry11Colors() {\n    }\n    // Bg\n    Table05Entry11Colors.bgWhite = 0xffffff;\n    Table05Entry11Colors.bgLightGrey = 0xff8484;\n    Table05Entry11Colors.bgDarkGrey = 0x943a3a;\n    Table05Entry11Colors.bgBlack = 0x000000;\n    // Obj 0\n    Table05Entry11Colors.obj0White = 0xffffff;\n    Table05Entry11Colors.obj0LightGrey = 0x00ff00;\n    Table05Entry11Colors.obj0DarkGrey = 0x318400;\n    Table05Entry11Colors.obj0Black = 0x004a00;\n    // Obj1\n    Table05Entry11Colors.obj1White = 0xffffff;\n    Table05Entry11Colors.obj1LightGrey = 0x63a5ff;\n    Table05Entry11Colors.obj1DarkGrey = 0x0000ff;\n    Table05Entry11Colors.obj1Black = 0x000000;\n    return Table05Entry11Colors;\n}());\n// Metroid 2\nvar Table05Entry14Colors = /** @class */ (function () {\n    function Table05Entry14Colors() {\n    }\n    //Bg\n    Table05Entry14Colors.bgWhite = 0xffffff;\n    Table05Entry14Colors.bgLightGrey = 0x63a5ff;\n    Table05Entry14Colors.bgDarkGrey = 0x0000ff;\n    Table05Entry14Colors.bgBlack = 0x000000;\n    // Obj 0\n    Table05Entry14Colors.obj0White = 0xffff00;\n    Table05Entry14Colors.obj0LightGrey = 0xff0000;\n    Table05Entry14Colors.obj0DarkGrey = 0x630000;\n    Table05Entry14Colors.obj0Black = 0x000000;\n    // Obj1\n    Table05Entry14Colors.obj1White = 0xffffff;\n    Table05Entry14Colors.obj1LightGrey = 0x7bff31;\n    Table05Entry14Colors.obj1DarkGrey = 0x008400;\n    Table05Entry14Colors.obj1Black = 0x000000;\n    return Table05Entry14Colors;\n}());\n// WarioLand 2\nvar Table05Entry15Colors = /** @class */ (function () {\n    function Table05Entry15Colors() {\n    }\n    //Bg\n    Table05Entry15Colors.bgWhite = 0xffffff;\n    Table05Entry15Colors.bgLightGrey = 0xadad84;\n    Table05Entry15Colors.bgDarkGrey = 0x42737b;\n    Table05Entry15Colors.bgBlack = 0x000000;\n    // Obj 0\n    Table05Entry15Colors.obj0White = 0xffffff;\n    Table05Entry15Colors.obj0LightGrey = 0xffad63;\n    Table05Entry15Colors.obj0DarkGrey = 0xffad63;\n    Table05Entry15Colors.obj0Black = 0x000000;\n    // Obj1\n    Table05Entry15Colors.obj1White = 0xffffff;\n    Table05Entry15Colors.obj1LightGrey = 0x63a5ff;\n    Table05Entry15Colors.obj1DarkGrey = 0x0000ff;\n    Table05Entry15Colors.obj1Black = 0x000000;\n    return Table05Entry15Colors;\n}());\n\n// File for all of the logic of setting gameboy color plaettes\n// Current / exported color\nvar Colors = /** @class */ (function () {\n    function Colors() {\n    }\n    //Bg\n    Colors.bgWhite = WasmBoyGBColors.bgWhite;\n    Colors.bgLightGrey = WasmBoyGBColors.bgLightGrey;\n    Colors.bgDarkGrey = WasmBoyGBColors.bgDarkGrey;\n    Colors.bgBlack = WasmBoyGBColors.bgBlack;\n    // Obj 0\n    Colors.obj0White = WasmBoyGBColors.obj0White;\n    Colors.obj0LightGrey = WasmBoyGBColors.obj0LightGrey;\n    Colors.obj0DarkGrey = WasmBoyGBColors.obj0DarkGrey;\n    Colors.obj0Black = WasmBoyGBColors.obj0Black;\n    // Obj1\n    Colors.obj1White = WasmBoyGBColors.obj1White;\n    Colors.obj1LightGrey = WasmBoyGBColors.obj1LightGrey;\n    Colors.obj1DarkGrey = WasmBoyGBColors.obj1DarkGrey;\n    Colors.obj1Black = WasmBoyGBColors.obj1Black;\n    return Colors;\n}());\n// Inlined because closure compiler inlines\nfunction initializeColors() {\n    setManualColorizationPalette(0);\n    if (Cpu.GBCEnabled) {\n        // Don't need to continue this if a GBC game\n        return;\n    }\n    if (Cpu.BootROMEnabled) {\n        if (!Cpu.GBCEnabled) {\n            // GB\n            return;\n        }\n    }\n    // Do some automatic color palette swapping if we have a loaded ROM\n    var titleChecksum = 0x00;\n    for (var i = 0x0134; i <= 0x0143; i++) {\n        titleChecksum += eightBitLoadFromGBMemory(i);\n    }\n    // Set the colorization for the game automatically if assigned\n    // https://tcrf.net/Notes:Game_Boy_Color_Bootstrap_ROM\n    var hash = titleChecksum & 0xff;\n    setHashColorizationPalette(hash);\n}\nfunction getRedFromHexColor(color) {\n    return (color & 0xff0000) >> 16;\n}\nfunction getGreenFromHexColor(color) {\n    return (color & 0x00ff00) >> 8;\n}\nfunction getBlueFromHexColor(color) {\n    return color & 0x0000ff;\n}\n// Function to set the colorization\n// By manually pressing buttons\nfunction setManualColorizationPalette(colorizationId) {\n    // Set the colorizationId clockwise according to:\n    // https://en.wikipedia.org/wiki/Game_Boy_Color\n    switch (colorizationId) {\n        case 0:\n            Colors.bgWhite = WasmBoyGBColors.bgWhite;\n            Colors.bgLightGrey = WasmBoyGBColors.bgLightGrey;\n            Colors.bgDarkGrey = WasmBoyGBColors.bgDarkGrey;\n            Colors.bgBlack = WasmBoyGBColors.bgBlack;\n            Colors.obj0White = WasmBoyGBColors.obj0White;\n            Colors.obj0LightGrey = WasmBoyGBColors.obj0LightGrey;\n            Colors.obj0DarkGrey = WasmBoyGBColors.obj0DarkGrey;\n            Colors.obj0Black = WasmBoyGBColors.obj0Black;\n            Colors.obj1White = WasmBoyGBColors.obj1White;\n            Colors.obj1LightGrey = WasmBoyGBColors.obj1LightGrey;\n            Colors.obj1DarkGrey = WasmBoyGBColors.obj1DarkGrey;\n            Colors.obj1Black = WasmBoyGBColors.obj1Black;\n            break;\n        case 1:\n            // Up, Brown\n            Colors.bgWhite = BrownColors.bgWhite;\n            Colors.bgLightGrey = BrownColors.bgLightGrey;\n            Colors.bgDarkGrey = BrownColors.bgDarkGrey;\n            Colors.bgBlack = BrownColors.bgBlack;\n            Colors.obj0White = BrownColors.obj0White;\n            Colors.obj0LightGrey = BrownColors.obj0LightGrey;\n            Colors.obj0DarkGrey = BrownColors.obj0DarkGrey;\n            Colors.obj0Black = BrownColors.obj0Black;\n            Colors.obj1White = BrownColors.obj1White;\n            Colors.obj1LightGrey = BrownColors.obj1LightGrey;\n            Colors.obj1DarkGrey = BrownColors.obj1DarkGrey;\n            Colors.obj1Black = BrownColors.obj1Black;\n            break;\n        case 2:\n            // Up + A, Red\n            Colors.bgWhite = RedColors.bgWhite;\n            Colors.bgLightGrey = RedColors.bgLightGrey;\n            Colors.bgDarkGrey = RedColors.bgDarkGrey;\n            Colors.bgBlack = RedColors.bgBlack;\n            Colors.obj0White = RedColors.obj0White;\n            Colors.obj0LightGrey = RedColors.obj0LightGrey;\n            Colors.obj0DarkGrey = RedColors.obj0DarkGrey;\n            Colors.obj0Black = RedColors.obj0Black;\n            Colors.obj1White = RedColors.obj1White;\n            Colors.obj1LightGrey = RedColors.obj1LightGrey;\n            Colors.obj1DarkGrey = RedColors.obj1DarkGrey;\n            Colors.obj1Black = RedColors.obj1Black;\n            break;\n        case 3:\n            // Up + B, DarkBrown\n            Colors.bgWhite = DarkBrownColors.bgWhite;\n            Colors.bgLightGrey = DarkBrownColors.bgLightGrey;\n            Colors.bgDarkGrey = DarkBrownColors.bgDarkGrey;\n            Colors.bgBlack = DarkBrownColors.bgBlack;\n            Colors.obj0White = DarkBrownColors.obj0White;\n            Colors.obj0LightGrey = DarkBrownColors.obj0LightGrey;\n            Colors.obj0DarkGrey = DarkBrownColors.obj0DarkGrey;\n            Colors.obj0Black = DarkBrownColors.obj0Black;\n            Colors.obj1White = DarkBrownColors.obj1White;\n            Colors.obj1LightGrey = DarkBrownColors.obj1LightGrey;\n            Colors.obj1DarkGrey = DarkBrownColors.obj1DarkGrey;\n            Colors.obj1Black = DarkBrownColors.obj1Black;\n            break;\n        case 4:\n            // Right, Green\n            Colors.bgWhite = GreenColors.bgWhite;\n            Colors.bgLightGrey = GreenColors.bgLightGrey;\n            Colors.bgDarkGrey = GreenColors.bgDarkGrey;\n            Colors.bgBlack = GreenColors.bgBlack;\n            Colors.obj0White = GreenColors.obj0White;\n            Colors.obj0LightGrey = GreenColors.obj0LightGrey;\n            Colors.obj0DarkGrey = GreenColors.obj0DarkGrey;\n            Colors.obj0Black = GreenColors.obj0Black;\n            Colors.obj1White = GreenColors.obj1White;\n            Colors.obj1LightGrey = GreenColors.obj1LightGrey;\n            Colors.obj1DarkGrey = GreenColors.obj1DarkGrey;\n            Colors.obj1Black = GreenColors.obj1Black;\n            break;\n        case 5:\n            // Right + A, DarkGreenColors\n            Colors.bgWhite = DarkGreenColors.bgWhite;\n            Colors.bgLightGrey = DarkGreenColors.bgLightGrey;\n            Colors.bgDarkGrey = DarkGreenColors.bgDarkGrey;\n            Colors.bgBlack = DarkGreenColors.bgBlack;\n            Colors.obj0White = DarkGreenColors.obj0White;\n            Colors.obj0LightGrey = DarkGreenColors.obj0LightGrey;\n            Colors.obj0DarkGrey = DarkGreenColors.obj0DarkGrey;\n            Colors.obj0Black = DarkGreenColors.obj0Black;\n            Colors.obj1White = DarkGreenColors.obj1White;\n            Colors.obj1LightGrey = DarkGreenColors.obj1LightGrey;\n            Colors.obj1DarkGrey = DarkGreenColors.obj1DarkGrey;\n            Colors.obj1Black = DarkGreenColors.obj1Black;\n            break;\n        case 6:\n            // Right + B, InvertedColors\n            Colors.bgWhite = InvertedColors.bgWhite;\n            Colors.bgLightGrey = InvertedColors.bgLightGrey;\n            Colors.bgDarkGrey = InvertedColors.bgDarkGrey;\n            Colors.bgBlack = InvertedColors.bgBlack;\n            Colors.obj0White = InvertedColors.obj0White;\n            Colors.obj0LightGrey = InvertedColors.obj0LightGrey;\n            Colors.obj0DarkGrey = InvertedColors.obj0DarkGrey;\n            Colors.obj0Black = InvertedColors.obj0Black;\n            Colors.obj1White = InvertedColors.obj1White;\n            Colors.obj1LightGrey = InvertedColors.obj1LightGrey;\n            Colors.obj1DarkGrey = InvertedColors.obj1DarkGrey;\n            Colors.obj1Black = InvertedColors.obj1Black;\n            break;\n        case 7:\n            // Down, PastelMixColors\n            Colors.bgWhite = PastelMixColors.bgWhite;\n            Colors.bgLightGrey = PastelMixColors.bgLightGrey;\n            Colors.bgDarkGrey = PastelMixColors.bgDarkGrey;\n            Colors.bgBlack = PastelMixColors.bgBlack;\n            Colors.obj0White = PastelMixColors.obj0White;\n            Colors.obj0LightGrey = PastelMixColors.obj0LightGrey;\n            Colors.obj0DarkGrey = PastelMixColors.obj0DarkGrey;\n            Colors.obj0Black = PastelMixColors.obj0Black;\n            Colors.obj1White = PastelMixColors.obj1White;\n            Colors.obj1LightGrey = PastelMixColors.obj1LightGrey;\n            Colors.obj1DarkGrey = PastelMixColors.obj1DarkGrey;\n            Colors.obj1Black = PastelMixColors.obj1Black;\n            break;\n        case 8:\n            // Down + A, Orange\n            Colors.bgWhite = OrangeColors.bgWhite;\n            Colors.bgLightGrey = OrangeColors.bgLightGrey;\n            Colors.bgDarkGrey = OrangeColors.bgDarkGrey;\n            Colors.bgBlack = OrangeColors.bgBlack;\n            Colors.obj0White = OrangeColors.obj0White;\n            Colors.obj0LightGrey = OrangeColors.obj0LightGrey;\n            Colors.obj0DarkGrey = OrangeColors.obj0DarkGrey;\n            Colors.obj0Black = OrangeColors.obj0Black;\n            Colors.obj1White = OrangeColors.obj1White;\n            Colors.obj1LightGrey = OrangeColors.obj1LightGrey;\n            Colors.obj1DarkGrey = OrangeColors.obj1DarkGrey;\n            Colors.obj1Black = OrangeColors.obj1Black;\n            break;\n        case 9:\n            // Down + B, Yellow\n            Colors.bgWhite = YellowColors.bgWhite;\n            Colors.bgLightGrey = YellowColors.bgLightGrey;\n            Colors.bgDarkGrey = YellowColors.bgDarkGrey;\n            Colors.bgBlack = YellowColors.bgBlack;\n            Colors.obj0White = YellowColors.obj0White;\n            Colors.obj0LightGrey = YellowColors.obj0LightGrey;\n            Colors.obj0DarkGrey = YellowColors.obj0DarkGrey;\n            Colors.obj0Black = YellowColors.obj0Black;\n            Colors.obj1White = YellowColors.obj1White;\n            Colors.obj1LightGrey = YellowColors.obj1LightGrey;\n            Colors.obj1DarkGrey = YellowColors.obj1DarkGrey;\n            Colors.obj1Black = YellowColors.obj1Black;\n            break;\n        case 10:\n            // Left, Blue\n            Colors.bgWhite = BlueColors.bgWhite;\n            Colors.bgLightGrey = BlueColors.bgLightGrey;\n            Colors.bgDarkGrey = BlueColors.bgDarkGrey;\n            Colors.bgBlack = BlueColors.bgBlack;\n            Colors.obj0White = BlueColors.obj0White;\n            Colors.obj0LightGrey = BlueColors.obj0LightGrey;\n            Colors.obj0DarkGrey = BlueColors.obj0DarkGrey;\n            Colors.obj0Black = BlueColors.obj0Black;\n            Colors.obj1White = BlueColors.obj1White;\n            Colors.obj1LightGrey = BlueColors.obj1LightGrey;\n            Colors.obj1DarkGrey = BlueColors.obj1DarkGrey;\n            Colors.obj1Black = BlueColors.obj1Black;\n            break;\n        case 11:\n            // Left + A, Dark Blue\n            Colors.bgWhite = DarkBlueColors.bgWhite;\n            Colors.bgLightGrey = DarkBlueColors.bgLightGrey;\n            Colors.bgDarkGrey = DarkBlueColors.bgDarkGrey;\n            Colors.bgBlack = DarkBlueColors.bgBlack;\n            Colors.obj0White = DarkBlueColors.obj0White;\n            Colors.obj0LightGrey = DarkBlueColors.obj0LightGrey;\n            Colors.obj0DarkGrey = DarkBlueColors.obj0DarkGrey;\n            Colors.obj0Black = DarkBlueColors.obj0Black;\n            Colors.obj1White = DarkBlueColors.obj1White;\n            Colors.obj1LightGrey = DarkBlueColors.obj1LightGrey;\n            Colors.obj1DarkGrey = DarkBlueColors.obj1DarkGrey;\n            Colors.obj1Black = DarkBlueColors.obj1Black;\n            break;\n        case 12:\n            // Left + B, GrayScale\n            Colors.bgWhite = GrayscaleColors.bgWhite;\n            Colors.bgLightGrey = GrayscaleColors.bgLightGrey;\n            Colors.bgDarkGrey = GrayscaleColors.bgDarkGrey;\n            Colors.bgBlack = GrayscaleColors.bgBlack;\n            Colors.obj0White = GrayscaleColors.obj0White;\n            Colors.obj0LightGrey = GrayscaleColors.obj0LightGrey;\n            Colors.obj0DarkGrey = GrayscaleColors.obj0DarkGrey;\n            Colors.obj0Black = GrayscaleColors.obj0Black;\n            Colors.obj1White = GrayscaleColors.obj1White;\n            Colors.obj1LightGrey = GrayscaleColors.obj1LightGrey;\n            Colors.obj1DarkGrey = GrayscaleColors.obj1DarkGrey;\n            Colors.obj1Black = GrayscaleColors.obj1Black;\n            break;\n    }\n}\n// Function to set the colorization\n// By checksum of the title\n// https://forums.nesdev.com/viewtopic.php?f=20&t=10226\n// TODO: torch2424 need to find how to get the \"disambiguation\"\n// Inlined because closure compiler inlines\nfunction setHashColorizationPalette(hash) {\n    switch (hash) {\n        case 0x88:\n            Colors.bgWhite = Table00Entry08Colors.bgWhite;\n            Colors.bgLightGrey = Table00Entry08Colors.bgLightGrey;\n            Colors.bgDarkGrey = Table00Entry08Colors.bgDarkGrey;\n            Colors.bgBlack = Table00Entry08Colors.bgBlack;\n            Colors.obj0White = Table00Entry08Colors.obj0White;\n            Colors.obj0LightGrey = Table00Entry08Colors.obj0LightGrey;\n            Colors.obj0DarkGrey = Table00Entry08Colors.obj0DarkGrey;\n            Colors.obj0Black = Table00Entry08Colors.obj0Black;\n            Colors.obj1White = Table00Entry08Colors.obj1White;\n            Colors.obj1LightGrey = Table00Entry08Colors.obj1LightGrey;\n            Colors.obj1DarkGrey = Table00Entry08Colors.obj1DarkGrey;\n            Colors.obj1Black = Table00Entry08Colors.obj1Black;\n            break;\n        case 0x61:\n            Colors.bgWhite = Table01Entry0BColors.bgWhite;\n            Colors.bgLightGrey = Table01Entry0BColors.bgLightGrey;\n            Colors.bgDarkGrey = Table01Entry0BColors.bgDarkGrey;\n            Colors.bgBlack = Table01Entry0BColors.bgBlack;\n            Colors.obj0White = Table01Entry0BColors.obj0White;\n            Colors.obj0LightGrey = Table01Entry0BColors.obj0LightGrey;\n            Colors.obj0DarkGrey = Table01Entry0BColors.obj0DarkGrey;\n            Colors.obj0Black = Table01Entry0BColors.obj0Black;\n            Colors.obj1White = Table01Entry0BColors.obj1White;\n            Colors.obj1LightGrey = Table01Entry0BColors.obj1LightGrey;\n            Colors.obj1DarkGrey = Table01Entry0BColors.obj1DarkGrey;\n            Colors.obj1Black = Table01Entry0BColors.obj1Black;\n            break;\n        case 0x14:\n            Colors.bgWhite = Table01Entry10Colors.bgWhite;\n            Colors.bgLightGrey = Table01Entry10Colors.bgLightGrey;\n            Colors.bgDarkGrey = Table01Entry10Colors.bgDarkGrey;\n            Colors.bgBlack = Table01Entry10Colors.bgBlack;\n            Colors.obj0White = Table01Entry10Colors.obj0White;\n            Colors.obj0LightGrey = Table01Entry10Colors.obj0LightGrey;\n            Colors.obj0DarkGrey = Table01Entry10Colors.obj0DarkGrey;\n            Colors.obj0Black = Table01Entry10Colors.obj0Black;\n            Colors.obj1White = Table01Entry10Colors.obj1White;\n            Colors.obj1LightGrey = Table01Entry10Colors.obj1LightGrey;\n            Colors.obj1DarkGrey = Table01Entry10Colors.obj1DarkGrey;\n            Colors.obj1Black = Table01Entry10Colors.obj1Black;\n            break;\n        case 0x46:\n            Colors.bgWhite = Table03Entry0AColors.bgWhite;\n            Colors.bgLightGrey = Table03Entry0AColors.bgLightGrey;\n            Colors.bgDarkGrey = Table03Entry0AColors.bgDarkGrey;\n            Colors.bgBlack = Table03Entry0AColors.bgBlack;\n            Colors.obj0White = Table03Entry0AColors.obj0White;\n            Colors.obj0LightGrey = Table03Entry0AColors.obj0LightGrey;\n            Colors.obj0DarkGrey = Table03Entry0AColors.obj0DarkGrey;\n            Colors.obj0Black = Table03Entry0AColors.obj0Black;\n            Colors.obj1White = Table03Entry0AColors.obj1White;\n            Colors.obj1LightGrey = Table03Entry0AColors.obj1LightGrey;\n            Colors.obj1DarkGrey = Table03Entry0AColors.obj1DarkGrey;\n            Colors.obj1Black = Table03Entry0AColors.obj1Black;\n            break;\n        case 0x59:\n        case 0xc6:\n            Colors.bgWhite = Table05Entry00Colors.bgWhite;\n            Colors.bgLightGrey = Table05Entry00Colors.bgLightGrey;\n            Colors.bgDarkGrey = Table05Entry00Colors.bgDarkGrey;\n            Colors.bgBlack = Table05Entry00Colors.bgBlack;\n            Colors.obj0White = Table05Entry00Colors.obj0White;\n            Colors.obj0LightGrey = Table05Entry00Colors.obj0LightGrey;\n            Colors.obj0DarkGrey = Table05Entry00Colors.obj0DarkGrey;\n            Colors.obj0Black = Table05Entry00Colors.obj0Black;\n            Colors.obj1White = Table05Entry00Colors.obj1White;\n            Colors.obj1LightGrey = Table05Entry00Colors.obj1LightGrey;\n            Colors.obj1DarkGrey = Table05Entry00Colors.obj1DarkGrey;\n            Colors.obj1Black = Table05Entry00Colors.obj1Black;\n            break;\n        case 0x86:\n        case 0xa8:\n            Colors.bgWhite = Table05Entry01Colors.bgWhite;\n            Colors.bgLightGrey = Table05Entry01Colors.bgLightGrey;\n            Colors.bgDarkGrey = Table05Entry01Colors.bgDarkGrey;\n            Colors.bgBlack = Table05Entry01Colors.bgBlack;\n            Colors.obj0White = Table05Entry01Colors.obj0White;\n            Colors.obj0LightGrey = Table05Entry01Colors.obj0LightGrey;\n            Colors.obj0DarkGrey = Table05Entry01Colors.obj0DarkGrey;\n            Colors.obj0Black = Table05Entry01Colors.obj0Black;\n            Colors.obj1White = Table05Entry01Colors.obj1White;\n            Colors.obj1LightGrey = Table05Entry01Colors.obj1LightGrey;\n            Colors.obj1DarkGrey = Table05Entry01Colors.obj1DarkGrey;\n            Colors.obj1Black = Table05Entry01Colors.obj1Black;\n            break;\n        case 0xbf:\n        case 0xce:\n        case 0xd1:\n        case 0xf0:\n            Colors.bgWhite = Table05Entry02Colors.bgWhite;\n            Colors.bgLightGrey = Table05Entry02Colors.bgLightGrey;\n            Colors.bgDarkGrey = Table05Entry02Colors.bgDarkGrey;\n            Colors.bgBlack = Table05Entry02Colors.bgBlack;\n            Colors.obj0White = Table05Entry02Colors.obj0White;\n            Colors.obj0LightGrey = Table05Entry02Colors.obj0LightGrey;\n            Colors.obj0DarkGrey = Table05Entry02Colors.obj0DarkGrey;\n            Colors.obj0Black = Table05Entry02Colors.obj0Black;\n            Colors.obj1White = Table05Entry02Colors.obj1White;\n            Colors.obj1LightGrey = Table05Entry02Colors.obj1LightGrey;\n            Colors.obj1DarkGrey = Table05Entry02Colors.obj1DarkGrey;\n            Colors.obj1Black = Table05Entry02Colors.obj1Black;\n            break;\n        case 0x27:\n        case 0x49:\n        case 0x5c:\n        case 0xb3:\n            Colors.bgWhite = Table05Entry08Colors.bgWhite;\n            Colors.bgLightGrey = Table05Entry08Colors.bgLightGrey;\n            Colors.bgDarkGrey = Table05Entry08Colors.bgDarkGrey;\n            Colors.bgBlack = Table05Entry08Colors.bgBlack;\n            Colors.obj0White = Table05Entry08Colors.obj0White;\n            Colors.obj0LightGrey = Table05Entry08Colors.obj0LightGrey;\n            Colors.obj0DarkGrey = Table05Entry08Colors.obj0DarkGrey;\n            Colors.obj0Black = Table05Entry08Colors.obj0Black;\n            Colors.obj1White = Table05Entry08Colors.obj1White;\n            Colors.obj1LightGrey = Table05Entry08Colors.obj1LightGrey;\n            Colors.obj1DarkGrey = Table05Entry08Colors.obj1DarkGrey;\n            Colors.obj1Black = Table05Entry08Colors.obj1Black;\n            break;\n        case 0xc9:\n            Colors.bgWhite = Table05Entry09Colors.bgWhite;\n            Colors.bgLightGrey = Table05Entry09Colors.bgLightGrey;\n            Colors.bgDarkGrey = Table05Entry09Colors.bgDarkGrey;\n            Colors.bgBlack = Table05Entry09Colors.bgBlack;\n            Colors.obj0White = Table05Entry09Colors.obj0White;\n            Colors.obj0LightGrey = Table05Entry09Colors.obj0LightGrey;\n            Colors.obj0DarkGrey = Table05Entry09Colors.obj0DarkGrey;\n            Colors.obj0Black = Table05Entry09Colors.obj0Black;\n            Colors.obj1White = Table05Entry09Colors.obj1White;\n            Colors.obj1LightGrey = Table05Entry09Colors.obj1LightGrey;\n            Colors.obj1DarkGrey = Table05Entry09Colors.obj1DarkGrey;\n            Colors.obj1Black = Table05Entry09Colors.obj1Black;\n            break;\n        case 0x70:\n            Colors.bgWhite = Table05Entry11Colors.bgWhite;\n            Colors.bgLightGrey = Table05Entry11Colors.bgLightGrey;\n            Colors.bgDarkGrey = Table05Entry11Colors.bgDarkGrey;\n            Colors.bgBlack = Table05Entry11Colors.bgBlack;\n            Colors.obj0White = Table05Entry11Colors.obj0White;\n            Colors.obj0LightGrey = Table05Entry11Colors.obj0LightGrey;\n            Colors.obj0DarkGrey = Table05Entry11Colors.obj0DarkGrey;\n            Colors.obj0Black = Table05Entry11Colors.obj0Black;\n            Colors.obj1White = Table05Entry11Colors.obj1White;\n            Colors.obj1LightGrey = Table05Entry11Colors.obj1LightGrey;\n            Colors.obj1DarkGrey = Table05Entry11Colors.obj1DarkGrey;\n            Colors.obj1Black = Table05Entry11Colors.obj1Black;\n            break;\n        case 0x46:\n            Colors.bgWhite = Table05Entry14Colors.bgWhite;\n            Colors.bgLightGrey = Table05Entry14Colors.bgLightGrey;\n            Colors.bgDarkGrey = Table05Entry14Colors.bgDarkGrey;\n            Colors.bgBlack = Table05Entry14Colors.bgBlack;\n            Colors.obj0White = Table05Entry14Colors.obj0White;\n            Colors.obj0LightGrey = Table05Entry14Colors.obj0LightGrey;\n            Colors.obj0DarkGrey = Table05Entry14Colors.obj0DarkGrey;\n            Colors.obj0Black = Table05Entry14Colors.obj0Black;\n            Colors.obj1White = Table05Entry14Colors.obj1White;\n            Colors.obj1LightGrey = Table05Entry14Colors.obj1LightGrey;\n            Colors.obj1DarkGrey = Table05Entry14Colors.obj1DarkGrey;\n            Colors.obj1Black = Table05Entry14Colors.obj1Black;\n            break;\n        case 0xd3:\n            Colors.bgWhite = Table05Entry15Colors.bgWhite;\n            Colors.bgLightGrey = Table05Entry15Colors.bgLightGrey;\n            Colors.bgDarkGrey = Table05Entry15Colors.bgDarkGrey;\n            Colors.bgBlack = Table05Entry15Colors.bgBlack;\n            Colors.obj0White = Table05Entry15Colors.obj0White;\n            Colors.obj0LightGrey = Table05Entry15Colors.obj0LightGrey;\n            Colors.obj0DarkGrey = Table05Entry15Colors.obj0DarkGrey;\n            Colors.obj0Black = Table05Entry15Colors.obj0Black;\n            Colors.obj1White = Table05Entry15Colors.obj1White;\n            Colors.obj1LightGrey = Table05Entry15Colors.obj1LightGrey;\n            Colors.obj1DarkGrey = Table05Entry15Colors.obj1DarkGrey;\n            Colors.obj1Black = Table05Entry15Colors.obj1Black;\n            break;\n    }\n}\n\n// Grouped registers\n// possible overload these later to performace actions\n// AF, BC, DE, HL\nfunction concatenateBytes(highByte, lowByte) {\n    //https://stackoverflow.com/questions/38298412/convert-two-bytes-into-signed-16-bit-integer-in-javascript\n    return ((highByte & 0xff) << 8) | (lowByte & 0xff);\n}\nfunction splitHighByte(groupedByte) {\n    return (groupedByte & 0xff00) >> 8;\n}\nfunction splitLowByte(groupedByte) {\n    return groupedByte & 0x00ff;\n}\nfunction rotateByteLeft(value) {\n    // Rotate left\n    // https://stackoverflow.com/questions/19204750/how-do-i-perform-a-circular-rotation-of-a-byte\n    // 4-bit example:\n    // 1010 -> 0100 | 0001\n    return u8Portable((value << 1) | (value >> 7));\n}\nfunction rotateByteLeftThroughCarry(value) {\n    // Example: https://github.com/nakardo/node-gameboy/blob/master/lib/cpu/opcodes.js\n    // Through carry meaning, instead of raotating the bit that gets dropped off, but the carry there instead\n    return u8Portable((value << 1) | getCarryFlag$$1());\n}\nfunction rotateByteRight(value) {\n    // Rotate right\n    // 4-bit example:\n    // 1010 -> 0101 | 0000\n    return u8Portable((value >> 1) | (value << 7));\n}\nfunction rotateByteRightThroughCarry(value) {\n    // Example: https://github.com/nakardo/node-gameboy/blob/master/lib/cpu/opcodes.js\n    // Through carry meaning, instead of raotating the bit that gets dropped off, put the carry there instead\n    return u8Portable((value >> 1) | (getCarryFlag$$1() << 7));\n}\nfunction setBitOnByte(bitPosition, byte) {\n    return byte | (0x01 << bitPosition);\n}\nfunction resetBitOnByte(bitPosition, byte) {\n    return byte & ~(0x01 << bitPosition);\n}\nfunction checkBitOnByte(bitPosition, byte) {\n    // Perforamnce improvements\n    // https://github.com/AssemblyScript/assemblyscript/issues/40\n    return (byte & (1 << bitPosition)) != 0;\n}\n\n// Class for GBC Color palletes\n// http://gbdev.gg8.se/wiki/articles/Video_Display#FF68_-_BCPS.2FBGPI_-_CGB_Mode_Only_-_Background_Palette_Index\nvar Palette = /** @class */ (function () {\n    function Palette() {\n    }\n    Palette.memoryLocationBackgroundPaletteIndex = 0xff68;\n    Palette.memoryLocationBackgroundPaletteData = 0xff69;\n    Palette.memoryLocationSpritePaletteIndex = 0xff6a;\n    Palette.memoryLocationSpritePaletteData = 0xff6b;\n    // Palettes\n    Palette.memoryLocationBackgroundPalette = 0xff47;\n    Palette.memoryLocationSpritePaletteOne = 0xff48;\n    Palette.memoryLocationSpritePaletteTwo = 0xff49;\n    return Palette;\n}());\n// Inlined because closure compiler inlines\nfunction initializePalette() {\n    if (Cpu.GBCEnabled) {\n        // GBC Palettes\n        eightBitStoreIntoGBMemory(0xff68, 0xc0);\n        eightBitStoreIntoGBMemory(0xff69, 0xff);\n        eightBitStoreIntoGBMemory(0xff6a, 0xc1);\n        eightBitStoreIntoGBMemory(0xff6b, 0x0d);\n    }\n    else {\n        // GBC Palettes\n        eightBitStoreIntoGBMemory(0xff68, 0xff);\n        eightBitStoreIntoGBMemory(0xff69, 0xff);\n        eightBitStoreIntoGBMemory(0xff6a, 0xff);\n        eightBitStoreIntoGBMemory(0xff6b, 0xff);\n    }\n    // Override some values if using the bootrom\n    if (Cpu.BootROMEnabled && Cpu.GBCEnabled) {\n        // GBC Palettes\n        eightBitStoreIntoGBMemory(0xff69, 0x20);\n        eightBitStoreIntoGBMemory(0xff6b, 0x8a);\n    }\n}\n// Simple get pallete color or monochrome GB\n// shouldRepresentColorByColorId is good for debugging tile data for GBC games that don't have\n// monochromePalettes\n// Inlined because closure compiler inlines\nfunction getMonochromeColorFromPalette(colorId, paletteMemoryLocation, shouldRepresentColorByColorId) {\n    if (shouldRepresentColorByColorId === void 0) { shouldRepresentColorByColorId = false; }\n    // Shift our paletteByte, 2 times for each color ID\n    // And off any extra bytes\n    // Return our Color (00 - white, 01 - light grey, 10 Dark grey, or 11 - Black)\n    var color = colorId;\n    if (!shouldRepresentColorByColorId) {\n        color = (eightBitLoadFromGBMemory(paletteMemoryLocation) >> (colorId << 1)) & 0x03;\n    }\n    // Since our max is 254, and max is 3.\n    // monochrome color palette is modified from bgb\n    // TODO: Make these colors into a constant\n    var rgbColor = 242;\n    switch (color) {\n        case 0:\n            break;\n        case 1:\n            rgbColor = 160;\n            break;\n        case 2:\n            rgbColor = 88;\n            break;\n        case 3:\n            rgbColor = 8;\n            break;\n    }\n    return rgbColor;\n}\n// Function to returns the Colorized color for a GB games\nfunction getColorizedGbHexColorFromPalette(colorId, paletteMemoryLocation) {\n    // Shift our paletteByte, 2 times for each color ID\n    // And off any extra bytes\n    // Return our Color (00 - white, 01 - light grey, 10 Dark grey, or 11 - Black)\n    var color = (eightBitLoadFromGBMemory(paletteMemoryLocation) >> (colorId * 2)) & 0x03;\n    // Check which palette we got, to apply the right color layer\n    var hexColor = 0;\n    if (paletteMemoryLocation === Palette.memoryLocationSpritePaletteOne) {\n        hexColor = Colors.obj0White;\n        switch (color) {\n            case 0:\n                break;\n            case 1:\n                hexColor = Colors.obj0LightGrey;\n                break;\n            case 2:\n                hexColor = Colors.obj0DarkGrey;\n                break;\n            case 3:\n                hexColor = Colors.obj0Black;\n                break;\n        }\n    }\n    else if (paletteMemoryLocation === Palette.memoryLocationSpritePaletteTwo) {\n        hexColor = Colors.obj1White;\n        switch (color) {\n            case 0:\n                break;\n            case 1:\n                hexColor = Colors.obj1LightGrey;\n                break;\n            case 2:\n                hexColor = Colors.obj1DarkGrey;\n                break;\n            case 3:\n                hexColor = Colors.obj1Black;\n                break;\n        }\n    }\n    else {\n        hexColor = Colors.bgWhite;\n        switch (color) {\n            case 0:\n                break;\n            case 1:\n                hexColor = Colors.bgLightGrey;\n                break;\n            case 2:\n                hexColor = Colors.bgDarkGrey;\n                break;\n            case 3:\n                hexColor = Colors.bgBlack;\n                break;\n        }\n    }\n    return hexColor;\n}\n// Inlined because closure compiler inlines\nfunction writeColorPaletteToMemory(offset, value) {\n    // FF68\n    //  Bit 0-5   Index (00-3F)\n    var memoryLocationSpritePaletteData = Palette.memoryLocationSpritePaletteData;\n    if (offset === Palette.memoryLocationBackgroundPaletteData || offset === memoryLocationSpritePaletteData) {\n        // Get the palette index\n        var paletteIndex = eightBitLoadFromGBMemory(offset - 1);\n        // Clear the 6th bit, as it does nothing\n        paletteIndex = resetBitOnByte(6, paletteIndex);\n        // Check if we are changing the sprite pallete data\n        var isSprite = offset === memoryLocationSpritePaletteData;\n        storePaletteByteInWasmMemory(paletteIndex, value, isSprite);\n        incrementPaletteIndexIfSet(paletteIndex, offset - 1);\n    }\n}\n// Functions to Handle Write to pallete data registers\n// http://gbdev.gg8.se/wiki/articles/Video_Display#FF68_-_BCPS.2FBGPI_-_CGB_Mode_Only_-_Background_Palette_Index\n// Function to handle incrementing the pallete index if required\n// Inlined because closure compiler inlines\nfunction incrementPaletteIndexIfSet(paletteIndex, offset) {\n    // Check ther auto increment box\n    if (checkBitOnByte(7, paletteIndex)) {\n        // Increment the index, and return the value before the increment\n        // Ensure we don't ouverflow our auto increment bit\n        paletteIndex += 1;\n        paletteIndex = setBitOnByte(7, paletteIndex);\n        eightBitStoreIntoGBMemory(offset, paletteIndex);\n    }\n}\n// FF68\n// Bit 0-5   Index (00-3F)\n// Bit 7     Auto Increment  (0=Disabled, 1=Increment after Writing)\n// Index is 00-0x3F because the means 0 - 63 (64),\n// and apparently there are 8 bytes per pallete to describe Color 0-3 (4 colors),\n// and 0-7 (8 palltetes). Therefore, 64!\nfunction getRgbColorFromPalette(paletteId, colorId, isSprite) {\n    // Each Pallete takes 8 bytes, so multiply by 8 to get the pallete\n    // And Each color takes 2 bytes, therefore, multiple by 2 for the correct color bytes in the palette\n    var paletteIndex = paletteId * 8 + colorId * 2;\n    // Load the Color that is seperated into two bytes\n    var paletteHighByte = loadPaletteByteFromWasmMemory(paletteIndex + 1, isSprite);\n    var paletteLowByte = loadPaletteByteFromWasmMemory(paletteIndex, isSprite);\n    // Return the concatenated color byte\n    return concatenateBytes(paletteHighByte, paletteLowByte);\n}\n// Function to return the color from a passed 16 bit color pallette\nfunction getColorComponentFromRgb(colorId, colorRgb) {\n    // Get our bitmask for the color ID\n    // bit mask tested good :)\n    colorId *= 5;\n    var bitMask = 0x1f << colorId;\n    var colorValue = (colorRgb & bitMask) >> colorId;\n    // Goal is to reach 254 for each color, so 255 / 31 (0x1F) ~8 TODO: Make exact\n    // Want 5 bits for each\n    return colorValue * 8;\n}\n// Function to load a byte from our Gbc Palette memory\nfunction loadPaletteByteFromWasmMemory(paletteIndexByte, isSprite) {\n    // Clear the top two bits to just get the bottom palette Index\n    var paletteIndex = paletteIndexByte & 0x3f;\n    // Move over the palette index to not overlap the background has 0x3F, so Zero for Sprites is 0x40)\n    if (isSprite) {\n        paletteIndex += 0x40;\n    }\n    return load(GBC_PALETTE_LOCATION + paletteIndex);\n}\n// Function to store a byte to our Gbc Palette memory\n// Inlined because closure compiler inlines\nfunction storePaletteByteInWasmMemory(paletteIndexByte, value, isSprite) {\n    // Clear the top two bits to just get the bottom palette Index\n    var paletteIndex = paletteIndexByte & 0x3f;\n    // Move over the palette index to not overlap the background (has 0x3F, so Zero for Sprites is 0x40)\n    if (isSprite) {\n        paletteIndex += 0x40;\n    }\n    store(GBC_PALETTE_LOCATION + paletteIndex, value);\n}\n\n// https://github.com/torch2424/wasmBoy/issues/51\nfunction addPriorityforPixel(x, y, colorId, hasGbcBgPriority) {\n    if (colorId === void 0) { colorId = 0; }\n    if (hasGbcBgPriority === void 0) { hasGbcBgPriority = false; }\n    var bgPriorityByte = colorId & 0x03;\n    if (hasGbcBgPriority) {\n        bgPriorityByte = setBitOnByte(2, bgPriorityByte);\n    }\n    store(BG_PRIORITY_MAP_LOCATION + getPixelStart(x, y), bgPriorityByte);\n}\n// Inlined because closure compiler inlines\nfunction getPriorityforPixel(x, y) {\n    return load(BG_PRIORITY_MAP_LOCATION + getPixelStart(x, y));\n}\n// Inlined because closure compiler inlines\nfunction clearPriorityMap() {\n    for (var y = 0; y < 144; ++y) {\n        for (var x = 0; x < 160; ++x) {\n            store(BG_PRIORITY_MAP_LOCATION + getPixelStart(x, y), 0);\n        }\n    }\n}\n// Inlined because closure compiler inlines\nfunction getPixelStart(x, y) {\n    // Get the pixel number\n    return y * 160 + x;\n}\n\n// Functions for performance hacks, and debugging tiles\nvar TileCache = /** @class */ (function () {\n    function TileCache() {\n    }\n    TileCache.tileId = -1;\n    TileCache.horizontalFlip = false;\n    TileCache.nextXIndexToPerformCacheCheck = -1;\n    return TileCache;\n}());\n// Inlined because closure compiler inlines\nfunction resetTileCache() {\n    TileCache.tileId = -1;\n    TileCache.nextXIndexToPerformCacheCheck = -1;\n}\nfunction drawPixelsFromLineOfTile(tileId, tileDataMemoryLocation, vramBankId, tileLineXStart, tileLineXEnd, tileLineY, outputLineX, outputLineY, outputWidth, wasmMemoryStart, shouldRepresentMonochromeColorByColorId, paletteLocation, bgMapAttributes, spriteAttributes) {\n    // Get our number of pixels drawn\n    var pixelsDrawn = 0;\n    // Get our tile data address\n    var tileDataAddress = getTileDataAddress(tileDataMemoryLocation, tileId);\n    // Get the bytes for our tile\n    var byteOneForLineOfTilePixels = loadFromVramBank(tileDataAddress + tileLineY * 2, vramBankId);\n    var byteTwoForLineOfTilePixels = loadFromVramBank(tileDataAddress + tileLineY * 2 + 1, vramBankId);\n    // Loop through our X values to draw\n    for (var x = tileLineXStart; x <= tileLineXEnd; ++x) {\n        // First find where we are going to do our final output x\n        // And don't allow any width overflow\n        var iteratedOutputX = outputLineX + (x - tileLineXStart);\n        if (iteratedOutputX < outputWidth) {\n            // However, We need to reverse our byte (if not horizontally flipped),\n            // As pixel 0 is on byte 7, and pixel 1 is on byte 6, etc...\n            // Therefore, is pixelX was 2, then really is need to be 5\n            // So 2 - 7 = -5, * 1 = 5\n            // Or to simplify, 7 - 2 = 5 haha!\n            var pixelXInTile = x;\n            if (bgMapAttributes < 0 || !checkBitOnByte(5, bgMapAttributes)) {\n                pixelXInTile = 7 - pixelXInTile;\n            }\n            // Get our pallete colors for the tile\n            var paletteColorId = 0;\n            if (checkBitOnByte(pixelXInTile, byteTwoForLineOfTilePixels)) {\n                // Byte one represents the second bit in our color id, so bit shift\n                paletteColorId += 1;\n                paletteColorId = paletteColorId << 1;\n            }\n            if (checkBitOnByte(pixelXInTile, byteOneForLineOfTilePixels)) {\n                paletteColorId += 1;\n            }\n            // Get the pallete\n            var red = 0;\n            var green = 0;\n            var blue = 0;\n            // Check if we should draw color or not\n            if (Cpu.GBCEnabled && (bgMapAttributes >= 0 || spriteAttributes >= 0)) {\n                // Draw C O L O R\n                var isSprite = spriteAttributes >= 0;\n                // Call the helper function to grab the correct color from the palette\n                // Get the palette index byte\n                var bgPalette = bgMapAttributes & 0x07;\n                if (isSprite) {\n                    bgPalette = spriteAttributes & 0x07;\n                }\n                var rgbColorPalette = getRgbColorFromPalette(bgPalette, paletteColorId, isSprite);\n                // Split off into red green and blue\n                red = getColorComponentFromRgb(0, rgbColorPalette);\n                green = getColorComponentFromRgb(1, rgbColorPalette);\n                blue = getColorComponentFromRgb(2, rgbColorPalette);\n            }\n            else {\n                // Draw Monochrome\n                // Get the default palette if none\n                if (paletteLocation <= 0) {\n                    paletteLocation = Graphics.memoryLocationBackgroundPalette;\n                }\n                if (shouldRepresentMonochromeColorByColorId) {\n                    var monochromeColor = getMonochromeColorFromPalette(paletteColorId, paletteLocation, shouldRepresentMonochromeColorByColorId);\n                    red = monochromeColor;\n                    green = monochromeColor;\n                    blue = monochromeColor;\n                }\n                else {\n                    var hexColor = getColorizedGbHexColorFromPalette(paletteColorId, paletteLocation);\n                    red = getRedFromHexColor(hexColor);\n                    green = getGreenFromHexColor(hexColor);\n                    blue = getBlueFromHexColor(hexColor);\n                }\n            }\n            // Finally Lets place a pixel in memory\n            // Find where our tile line would start\n            var pixelStart = getTilePixelStart(iteratedOutputX, outputLineY, outputWidth);\n            // Can not optimize wasmMemoryStart any further, as this is in a loop.\n            store(wasmMemoryStart + pixelStart + 0, red);\n            store(wasmMemoryStart + pixelStart + 1, green);\n            store(wasmMemoryStart + pixelStart + 2, blue);\n            var gbcBgPriority = false;\n            if (bgMapAttributes >= 0) {\n                gbcBgPriority = checkBitOnByte(7, bgMapAttributes);\n            }\n            // Lastly, add the pixel to our background priority map\n            // https://github.com/torch2424/wasmBoy/issues/51\n            // Bits 0 & 1 will represent the color Id drawn by the BG/Window\n            // Bit 2 will represent if the Bg/Window has GBC priority.\n            addPriorityforPixel(iteratedOutputX, outputLineY, paletteColorId, gbcBgPriority);\n            pixelsDrawn++;\n        }\n    }\n    return pixelsDrawn;\n}\n// Inlined because closure compiler inlines\nfunction getTilePixelStart(outputLineX, outputLineY, outputWidth) {\n    // Finally Lets place a pixel in memory\n    var pixelStart = outputLineY * outputWidth + outputLineX;\n    // Each pixel takes 3 slots, therefore, multiply by 3!\n    return pixelStart * 3;\n}\nfunction getTileDataAddress(tileDataMemoryLocation, tileIdFromTileMap) {\n    // Watch this part of The ultimate gameboy talk: https://youtu.be/HyzD8pNlpwI?t=30m50s\n    // A line of 8 pixels on a single tile, is represented by 2 bytes.\n    // since a single tile is 8x8 pixels, 8 * 2 = 16 bytes\n    // Get the tile ID's tile addess from tile data.\n    // For instance, let's say our first line of tile data represents tiles for letters:\n    // a b c d e f g\n    // And we have tileId 0x02. That means we want the tile for the 'c' character\n    // Since each tile is 16 bytes, it would be the starting tileDataAddress + (tileId * tileSize), to skip over tiles we dont want\n    // The whole signed thing is weird, and has something to do how the second set of tile data is stored :p\n    if (tileDataMemoryLocation === Graphics.memoryLocationTileDataSelectZeroStart) {\n        // Treat the tile Id as a signed int, subtract an offset of 128\n        // if the tileId was 0 then the tile would be in memory region 0x9000-0x900F\n        if (checkBitOnByte(7, tileIdFromTileMap)) {\n            tileIdFromTileMap -= 128;\n        }\n        else {\n            tileIdFromTileMap += 128;\n        }\n    }\n    // if the background layout gave us the tileId 0, then the tile data would be between 0x8000-0x800F.\n    return tileDataMemoryLocation + tileIdFromTileMap * 16;\n}\n\n// Functions to help with Handling Duty on Square Channels\n// Since there are no 2d arrays, we will use a byte to represent duty cycles (wave form from percentages)\nfunction isDutyCycleClockPositiveOrNegativeForWaveform(channelDuty, waveFormPositionOnDuty) {\n    // Get our Wave Form According to the Duty\n    // Default to a duty of 1\n    // http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware#Square_Wave\n    switch (channelDuty) {\n        case 0x01:\n            // 1000 0001\n            return checkBitOnByte(waveFormPositionOnDuty, 0x81);\n        case 0x02:\n            // 1000 0111\n            return checkBitOnByte(waveFormPositionOnDuty, 0x87);\n        case 0x03:\n            // 0111 1110\n            return checkBitOnByte(waveFormPositionOnDuty, 0x7e);\n        default:\n            // 0000 0001\n            return checkBitOnByte(waveFormPositionOnDuty, 0x01);\n    }\n}\n\n// NOTE: Tons of Copy-pasta btween channels, because Classes cannot be instantiated yet in assemblyscript\nvar Channel1 = /** @class */ (function () {\n    function Channel1() {\n    }\n    Channel1.updateNRx0 = function (value) {\n        var oldSweepNegate = Channel1.NRx0Negate;\n        Channel1.NRx0SweepPeriod = (value & 0x70) >> 4;\n        Channel1.NRx0Negate = checkBitOnByte(3, value);\n        Channel1.NRx0SweepShift = value & 0x07;\n        // Obscure Behavior\n        // http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware\n        // Clearing the sweep negate mode bit in NR10 after at least one sweep calculation has been made,\n        // using the negate mode since the last trigger causes the channel to be immediately disabled.\n        // This prevents you from having the sweep lower the frequency then raise the frequency without a trigger inbetween.\n        if (oldSweepNegate && !Channel1.NRx0Negate && Channel1.sweepNegateShouldDisableChannelOnClear) {\n            Channel1.isEnabled = false;\n        }\n    };\n    Channel1.updateNRx1 = function (value) {\n        Channel1.NRx1Duty = (value >> 6) & 0x03;\n        Channel1.NRx1LengthLoad = value & 0x3f;\n        // Also need to set our length counter. Taken from the old, setChannelLengthCounter\n        // Channel length is determined by 64 (or 256 if channel 3), - the length load\n        // http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware#Registers\n        // Note, this will be different for channel 3\n        Channel1.lengthCounter = Channel1.MAX_LENGTH - Channel1.NRx1LengthLoad;\n    };\n    Channel1.updateNRx2 = function (value) {\n        // Handle \"Zombie Mode\" Obscure behavior\n        // https://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware#Obscure_Behavior\n        if (Channel1.isEnabled) {\n            // If the old envelope period was zero and the envelope is still doing automatic updates,\n            // volume is incremented by 1, otherwise if the envelope was in subtract mode,\n            // volume is incremented by 2.\n            // NOTE: However, from my testing, it ALWAYS increments by one. This was determined\n            // by my testing for prehistoric man\n            if (Channel1.NRx2EnvelopePeriod === 0 && Channel1.isEnvelopeAutomaticUpdating) {\n                // Volume can't be more than 4 bits\n                Channel1.volume = (Channel1.volume + 1) & 0x0f;\n            }\n            // If the mode was changed (add to subtract or subtract to add),\n            // volume is set to 16-volume. But volume cant be more than 4 bits\n            if (Channel1.NRx2EnvelopeAddMode !== checkBitOnByte(3, value)) {\n                Channel1.volume = (16 - Channel1.volume) & 0x0f;\n            }\n        }\n        // Handle the regular write\n        Channel1.NRx2StartingVolume = (value >> 4) & 0x0f;\n        Channel1.NRx2EnvelopeAddMode = checkBitOnByte(3, value);\n        Channel1.NRx2EnvelopePeriod = value & 0x07;\n        // Also, get our channel is dac enabled\n        var isDacEnabled = (value & 0xf8) > 0;\n        Channel1.isDacEnabled = isDacEnabled;\n        // Blargg length test\n        // Disabling DAC should disable channel immediately\n        if (!isDacEnabled) {\n            Channel1.isEnabled = false;\n        }\n    };\n    Channel1.updateNRx3 = function (value) {\n        Channel1.NRx3FrequencyLSB = value;\n        // Update Channel Frequency\n        Channel1.frequency = (Channel1.NRx4FrequencyMSB << 8) | value;\n    };\n    // NOTE: Order in which these events happen are very particular\n    // And globals can be affected by other functions\n    // Thus, optimizations here should be extremely careful\n    Channel1.updateNRx4 = function (value) {\n        // Handle our Channel frequency first\n        // As this is modified if we trigger for length.\n        var frequencyMSB = value & 0x07;\n        Channel1.NRx4FrequencyMSB = frequencyMSB;\n        Channel1.frequency = (frequencyMSB << 8) | Channel1.NRx3FrequencyLSB;\n        // Obscure behavior\n        // http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware#Obscure_Behavior\n        // Also see blargg's cgb sound test\n        // Extra length clocking occurs when writing to NRx4,\n        // when the frame sequencer's next step is one that,\n        // doesn't clock the length counter.\n        var frameSequencer = Sound.frameSequencer;\n        var doesNextFrameSequencerUpdateLength = (frameSequencer & 1) === 1;\n        var isBeingLengthEnabled = !Channel1.NRx4LengthEnabled && checkBitOnByte(6, value);\n        if (!doesNextFrameSequencerUpdateLength) {\n            // Check lengthEnable\n            if (Channel1.lengthCounter > 0 && isBeingLengthEnabled) {\n                Channel1.lengthCounter -= 1;\n                if (!checkBitOnByte(7, value) && Channel1.lengthCounter === 0) {\n                    Channel1.isEnabled = false;\n                }\n            }\n        }\n        // Set the length enabled from the value\n        Channel1.NRx4LengthEnabled = checkBitOnByte(6, value);\n        // Trigger out channel, unfreeze length if frozen\n        // Triggers should happen after obscure behavior\n        // See test 11 for trigger\n        if (checkBitOnByte(7, value)) {\n            Channel1.trigger();\n            // When we trigger on the obscure behavior, and we reset the length Counter to max\n            // We need to clock\n            if (!doesNextFrameSequencerUpdateLength && Channel1.lengthCounter === Channel1.MAX_LENGTH && Channel1.NRx4LengthEnabled) {\n                Channel1.lengthCounter -= 1;\n            }\n        }\n    };\n    // Function to save the state of the class\n    Channel1.saveState = function () {\n        // Cycle Counter\n        store(getSaveStateMemoryOffset(0x00, Channel1.saveStateSlot), Channel1.cycleCounter);\n        // NRx0\n        store(getSaveStateMemoryOffset(0x04, Channel1.saveStateSlot), Channel1.NRx0SweepPeriod);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x05, Channel1.saveStateSlot), Channel1.NRx0Negate);\n        store(getSaveStateMemoryOffset(0x06, Channel1.saveStateSlot), Channel1.NRx0SweepShift);\n        // NRx1\n        store(getSaveStateMemoryOffset(0x07, Channel1.saveStateSlot), Channel1.NRx1Duty);\n        store(getSaveStateMemoryOffset(0x09, Channel1.saveStateSlot), Channel1.NRx1LengthLoad);\n        // NRx2\n        store(getSaveStateMemoryOffset(0x0a, Channel1.saveStateSlot), Channel1.NRx2StartingVolume);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x0b, Channel1.saveStateSlot), Channel1.NRx2EnvelopeAddMode);\n        store(getSaveStateMemoryOffset(0x0c, Channel1.saveStateSlot), Channel1.NRx2EnvelopePeriod);\n        // NRx3\n        store(getSaveStateMemoryOffset(0x0d, Channel1.saveStateSlot), Channel1.NRx3FrequencyLSB);\n        // NRx4\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x0e, Channel1.saveStateSlot), Channel1.NRx4LengthEnabled);\n        store(getSaveStateMemoryOffset(0x0f, Channel1.saveStateSlot), Channel1.NRx4FrequencyMSB);\n        // Channel Properties\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x10, Channel1.saveStateSlot), Channel1.isEnabled);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x11, Channel1.saveStateSlot), Channel1.isDacEnabled);\n        store(getSaveStateMemoryOffset(0x12, Channel1.saveStateSlot), Channel1.frequency);\n        store(getSaveStateMemoryOffset(0x16, Channel1.saveStateSlot), Channel1.frequencyTimer);\n        store(getSaveStateMemoryOffset(0x1a, Channel1.saveStateSlot), Channel1.envelopeCounter);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x1e, Channel1.saveStateSlot), Channel1.isEnvelopeAutomaticUpdating);\n        store(getSaveStateMemoryOffset(0x1f, Channel1.saveStateSlot), Channel1.lengthCounter);\n        store(getSaveStateMemoryOffset(0x23, Channel1.saveStateSlot), Channel1.volume);\n        // Square Duty\n        store(getSaveStateMemoryOffset(0x27, Channel1.saveStateSlot), Channel1.dutyCycle);\n        store(getSaveStateMemoryOffset(0x28, Channel1.saveStateSlot), Channel1.waveFormPositionOnDuty);\n        // Square Sweep\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x29, Channel1.saveStateSlot), Channel1.isSweepEnabled);\n        store(getSaveStateMemoryOffset(0x2a, Channel1.saveStateSlot), Channel1.sweepCounter);\n        store(getSaveStateMemoryOffset(0x2e, Channel1.saveStateSlot), Channel1.sweepShadowFrequency);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x31, Channel1.saveStateSlot), Channel1.sweepNegateShouldDisableChannelOnClear);\n    };\n    // Function to load the save state from memory\n    Channel1.loadState = function () {\n        // Cycle Counter\n        Channel1.cycleCounter = load(getSaveStateMemoryOffset(0x00, Channel1.cycleCounter));\n        // NRx0\n        Channel1.NRx0SweepPeriod = load(getSaveStateMemoryOffset(0x04, Channel1.saveStateSlot));\n        Channel1.NRx0Negate = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x05, Channel1.saveStateSlot));\n        Channel1.NRx0SweepShift = load(getSaveStateMemoryOffset(0x06, Channel1.saveStateSlot));\n        // NRx1\n        Channel1.NRx1Duty = load(getSaveStateMemoryOffset(0x07, Channel1.saveStateSlot));\n        Channel1.NRx1LengthLoad = load(getSaveStateMemoryOffset(0x09, Channel1.saveStateSlot));\n        // NRx2\n        Channel1.NRx2StartingVolume = load(getSaveStateMemoryOffset(0x0a, Channel1.saveStateSlot));\n        Channel1.NRx2EnvelopeAddMode = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x0b, Channel1.saveStateSlot));\n        Channel1.NRx2EnvelopePeriod = load(getSaveStateMemoryOffset(0x0c, Channel1.saveStateSlot));\n        // NRx3\n        Channel1.NRx3FrequencyLSB = load(getSaveStateMemoryOffset(0x0d, Channel1.saveStateSlot));\n        // NRx4\n        Channel1.NRx4LengthEnabled = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x0e, Channel1.saveStateSlot));\n        Channel1.NRx4FrequencyMSB = load(getSaveStateMemoryOffset(0x0f, Channel1.saveStateSlot));\n        // Channel Properties\n        Channel1.isEnabled = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x10, Channel1.saveStateSlot));\n        Channel1.isDacEnabled = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x11, Channel1.saveStateSlot));\n        Channel1.frequency = load(getSaveStateMemoryOffset(0x12, Channel1.saveStateSlot));\n        Channel1.frequencyTimer = load(getSaveStateMemoryOffset(0x16, Channel1.saveStateSlot));\n        Channel1.envelopeCounter = load(getSaveStateMemoryOffset(0x1a, Channel1.saveStateSlot));\n        Channel1.isEnvelopeAutomaticUpdating = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x1e, Channel1.saveStateSlot));\n        Channel1.lengthCounter = load(getSaveStateMemoryOffset(0x1f, Channel1.saveStateSlot));\n        Channel1.volume = load(getSaveStateMemoryOffset(0x23, Channel1.saveStateSlot));\n        // Square Duty\n        Channel1.dutyCycle = load(getSaveStateMemoryOffset(0x27, Channel1.saveStateSlot));\n        Channel1.waveFormPositionOnDuty = load(getSaveStateMemoryOffset(0x28, Channel1.saveStateSlot));\n        // Square Sweep\n        Channel1.isSweepEnabled = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x29, Channel1.saveStateSlot));\n        Channel1.sweepCounter = load(getSaveStateMemoryOffset(0x2a, Channel1.saveStateSlot));\n        Channel1.sweepShadowFrequency = load(getSaveStateMemoryOffset(0x2e, Channel1.saveStateSlot));\n        Channel1.sweepNegateShouldDisableChannelOnClear = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x31, Channel1.saveStateSlot));\n    };\n    Channel1.initialize = function () {\n        eightBitStoreIntoGBMemory(Channel1.memoryLocationNRx0, 0x80);\n        eightBitStoreIntoGBMemory(Channel1.memoryLocationNRx1, 0xbf);\n        eightBitStoreIntoGBMemory(Channel1.memoryLocationNRx2, 0xf3);\n        eightBitStoreIntoGBMemory(Channel1.memoryLocationNRx3, 0xc1);\n        eightBitStoreIntoGBMemory(Channel1.memoryLocationNRx4, 0xbf);\n        // Override/reset some variables if the boot ROM is enabled\n        // For GBC and GB\n        if (Cpu.BootROMEnabled) {\n            eightBitStoreIntoGBMemory(Channel1.memoryLocationNRx1, 0x3f);\n            eightBitStoreIntoGBMemory(Channel1.memoryLocationNRx2, 0x00);\n            eightBitStoreIntoGBMemory(Channel1.memoryLocationNRx3, 0x00);\n            eightBitStoreIntoGBMemory(Channel1.memoryLocationNRx4, 0xb8);\n        }\n    };\n    // Function to get a sample using the cycle counter on the channel\n    Channel1.getSampleFromCycleCounter = function () {\n        var accumulatedCycles = Channel1.cycleCounter;\n        Channel1.cycleCounter = 0;\n        return Channel1.getSample(accumulatedCycles);\n    };\n    // Function to reset our timer, useful for GBC double speed mode\n    Channel1.resetTimer = function () {\n        var frequencyTimer = (2048 - Channel1.frequency) << 2;\n        // TODO: Ensure this is correct for GBC Double Speed Mode\n        if (Cpu.GBCDoubleSpeed) {\n            frequencyTimer = frequencyTimer << 2;\n        }\n        Channel1.frequencyTimer = frequencyTimer;\n    };\n    Channel1.getSample = function (numberOfCycles) {\n        // Decrement our channel timer\n        var frequencyTimer = Channel1.frequencyTimer;\n        frequencyTimer -= numberOfCycles;\n        while (frequencyTimer <= 0) {\n            // Get the amount that overflowed so we don't drop cycles\n            var overflowAmount = abs(frequencyTimer);\n            // Reset our timer\n            // A square channel's frequency timer period is set to (2048-frequency)*4.\n            // Four duty cycles are available, each waveform taking 8 frequency timer clocks to cycle through:\n            Channel1.resetTimer();\n            frequencyTimer = Channel1.frequencyTimer;\n            frequencyTimer -= overflowAmount;\n            // Also increment our duty cycle\n            // What is duty? https://en.wikipedia.org/wiki/Duty_cycle\n            // Duty cycle for square wave: http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware#Square_Wave\n            Channel1.waveFormPositionOnDuty = (Channel1.waveFormPositionOnDuty + 1) & 7;\n        }\n        Channel1.frequencyTimer = frequencyTimer;\n        // Get our ourput volume\n        var outputVolume = 0;\n        // Finally to set our output volume, the channel must be enabled,\n        // Our channel DAC must be enabled, and we must be in an active state\n        // Of our duty cycle\n        if (Channel1.isEnabled && Channel1.isDacEnabled) {\n            // Volume can't be more than 4 bits.\n            // Volume should never be more than 4 bits, but doing a check here\n            outputVolume = Channel1.volume & 0x0f;\n        }\n        else {\n            // Return silence\n            // Since range from -15 - 15, or 0 to 30 for our unsigned\n            return 15;\n        }\n        // Get the current sampleValue\n        var sample = 1;\n        if (!isDutyCycleClockPositiveOrNegativeForWaveform(Channel1.NRx1Duty, Channel1.waveFormPositionOnDuty)) {\n            sample = -sample;\n        }\n        sample *= outputVolume;\n        // Square Waves Can range from -15 - 15. Therefore simply add 15\n        sample += 15;\n        return sample;\n    };\n    // http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware#Trigger_Event\n    Channel1.trigger = function () {\n        Channel1.isEnabled = true;\n        // Set length to maximum done in write\n        if (Channel1.lengthCounter === 0) {\n            Channel1.lengthCounter = Channel1.MAX_LENGTH;\n        }\n        // Reset our timer\n        // A square channel's frequency timer period is set to (2048-frequency)*4.\n        // Four duty cycles are available, each waveform taking 8 frequency timer clocks to cycle through:\n        Channel1.resetTimer();\n        // The volume envelope and sweep timers treat a period of 0 as 8.\n        // Meaning, if the period is zero, set it to the max (8).\n        if (Channel1.NRx2EnvelopePeriod === 0) {\n            Channel1.envelopeCounter = 8;\n        }\n        else {\n            Channel1.envelopeCounter = Channel1.NRx2EnvelopePeriod;\n        }\n        Channel1.isEnvelopeAutomaticUpdating = true;\n        Channel1.volume = Channel1.NRx2StartingVolume;\n        // Handle Channel Sweep\n        // http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware\n        Channel1.sweepShadowFrequency = Channel1.frequency;\n        // Reset back to the sweep period\n        // Obscure behavior\n        // Sweep timers treat a period o 0 as 8\n        if (Channel1.NRx0SweepPeriod === 0) {\n            Channel1.sweepCounter = 8;\n        }\n        else {\n            Channel1.sweepCounter = Channel1.NRx0SweepPeriod;\n        }\n        // The internal enabled flag is set if either the sweep period or shift are non-zero, cleared otherwise.\n        Channel1.isSweepEnabled = Channel1.NRx0SweepPeriod > 0 || Channel1.NRx0SweepShift > 0;\n        Channel1.sweepNegateShouldDisableChannelOnClear = false;\n        // If the sweep shift is non-zero, frequency calculation and the overflow check are performed immediately.\n        // NOTE: The double calculation thing for the sweep does not happen here.\n        if (Channel1.NRx0SweepShift > 0 && didCalculatedSweepOverflow(calculateSweep())) {\n            Channel1.isEnabled = false;\n        }\n        // Finally if DAC is off, channel is still disabled\n        if (!Channel1.isDacEnabled) {\n            Channel1.isEnabled = false;\n        }\n    };\n    // Function to determine if the current channel would update when getting the sample\n    // This is used to accumulate samples\n    Channel1.willChannelUpdate = function (numberOfCycles) {\n        //Increment our cycle counter\n        var cycleCounter = Channel1.cycleCounter + numberOfCycles;\n        Channel1.cycleCounter = cycleCounter;\n        // Dac enabled status cached by accumulator\n        return !(Channel1.frequencyTimer - cycleCounter > 0);\n    };\n    Channel1.updateSweep = function () {\n        // Dont update period if not enabled\n        if (!Channel1.isEnabled || !Channel1.isSweepEnabled) {\n            return;\n        }\n        // Decrement the sweep counter\n        var sweepCounter = Channel1.sweepCounter - 1;\n        if (sweepCounter <= 0) {\n            // Reset back to the sweep period\n            // Obscure behavior\n            // Sweep timers treat a period of 0 as 8 (They reset back to the max)\n            if (Channel1.NRx0SweepPeriod === 0) {\n                // Sweep isn't calculated when the period is 0\n                Channel1.sweepCounter = 8;\n            }\n            else {\n                // Reset our sweep counter to its period\n                Channel1.sweepCounter = Channel1.NRx0SweepPeriod;\n                // Calculate our sweep\n                // http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware\n                // When it generates a clock and the sweep's internal enabled flag is set and the sweep period is not zero,\n                // a new frequency is calculated and the overflow check is performed. If the new frequency is 2047 or less,\n                // and the sweep shift is not zero, this new frequency is written back to the shadow frequency,\n                // and square 1's frequency in NR13 and NR14, then frequency calculation,\n                // and overflow check are run AGAIN immediately using this new value,\n                // but this second new frequency is not written back.\n                var newFrequency = calculateSweep();\n                if (didCalculatedSweepOverflow(newFrequency)) {\n                    Channel1.isEnabled = false;\n                }\n                if (Channel1.NRx0SweepShift > 0) {\n                    Channel1.setFrequency(newFrequency);\n                    if (didCalculatedSweepOverflow(calculateSweep())) {\n                        Channel1.isEnabled = false;\n                    }\n                }\n            }\n        }\n        else {\n            Channel1.sweepCounter = sweepCounter;\n        }\n    };\n    Channel1.updateLength = function () {\n        var lengthCounter = Channel1.lengthCounter;\n        if (lengthCounter > 0 && Channel1.NRx4LengthEnabled) {\n            lengthCounter -= 1;\n            if (lengthCounter === 0) {\n                Channel1.isEnabled = false;\n            }\n        }\n        Channel1.lengthCounter = lengthCounter;\n    };\n    Channel1.updateEnvelope = function () {\n        var envelopeCounter = Channel1.envelopeCounter - 1;\n        if (envelopeCounter <= 0) {\n            // Reset back to the sweep period\n            // Obscure behavior\n            // Envelopes treat a period of 0 as 8 (They reset back to the max)\n            if (Channel1.NRx2EnvelopePeriod === 0) {\n                envelopeCounter = 8;\n            }\n            else {\n                envelopeCounter = Channel1.NRx2EnvelopePeriod;\n                // When the timer generates a clock and the envelope period is NOT zero, a new volume is calculated\n                // NOTE: There is some weiirrdd obscure behavior where zero can equal 8, so watch out for that\n                // If notes are sustained for too long, this is probably why\n                if (envelopeCounter !== 0 && Channel1.isEnvelopeAutomaticUpdating) {\n                    var volume = Channel1.volume;\n                    // Increment the volume\n                    if (Channel1.NRx2EnvelopeAddMode) {\n                        volume += 1;\n                    }\n                    else {\n                        volume -= 1;\n                    }\n                    // Don't allow the volume to go above 4 bits.\n                    volume = volume & 0x0f;\n                    // Check if we are below the max\n                    if (volume < 15) {\n                        Channel1.volume = volume;\n                    }\n                    else {\n                        Channel1.isEnvelopeAutomaticUpdating = false;\n                    }\n                }\n            }\n        }\n        Channel1.envelopeCounter = envelopeCounter;\n    };\n    Channel1.setFrequency = function (frequency) {\n        // Set our shadowFrequency\n        Channel1.sweepShadowFrequency = frequency;\n        // Get the high and low bits\n        var passedFrequencyHighBits = (frequency >> 8) & 0x07;\n        var passedFrequencyLowBits = frequency & 0xff;\n        // Get the new register 4\n        var register4 = eightBitLoadFromGBMemory(Channel1.memoryLocationNRx4);\n        // Knock off lower 3 bits, and Or on our high bits\n        var newRegister4 = register4 & 0xf8;\n        newRegister4 = newRegister4 | passedFrequencyHighBits;\n        // Set the registers\n        eightBitStoreIntoGBMemory(Channel1.memoryLocationNRx3, passedFrequencyLowBits);\n        eightBitStoreIntoGBMemory(Channel1.memoryLocationNRx4, newRegister4);\n        // Save the frequency for ourselves without triggering memory traps\n        Channel1.NRx3FrequencyLSB = passedFrequencyLowBits;\n        Channel1.NRx4FrequencyMSB = passedFrequencyHighBits;\n        Channel1.frequency = (Channel1.NRx4FrequencyMSB << 8) | Channel1.NRx3FrequencyLSB;\n    };\n    // Cycle Counter for our sound accumulator\n    Channel1.cycleCounter = 0;\n    // Max Length of our Length Load\n    Channel1.MAX_LENGTH = 64;\n    // Squarewave channel with volume envelope and frequency sweep functions.\n    // NR10 -> Sweep Register R/W\n    Channel1.memoryLocationNRx0 = 0xff10;\n    // -PPP NSSS Sweep period, negate, shift\n    Channel1.NRx0SweepPeriod = 0;\n    Channel1.NRx0Negate = false;\n    Channel1.NRx0SweepShift = 0;\n    // NR11 -> Sound length/Wave pattern duty (R/W)\n    Channel1.memoryLocationNRx1 = 0xff11;\n    // DDLL LLLL Duty, Length load (64-L)\n    Channel1.NRx1Duty = 0;\n    Channel1.NRx1LengthLoad = 0;\n    // NR12 -> Volume Envelope (R/W)\n    Channel1.memoryLocationNRx2 = 0xff12;\n    // VVVV APPP Starting volume, Envelope add mode, period\n    Channel1.NRx2StartingVolume = 0;\n    Channel1.NRx2EnvelopeAddMode = false;\n    Channel1.NRx2EnvelopePeriod = 0;\n    // NR13 -> Frequency lo (W)\n    Channel1.memoryLocationNRx3 = 0xff13;\n    // FFFF FFFF Frequency LSB\n    Channel1.NRx3FrequencyLSB = 0;\n    // NR14 -> Frequency hi (R/W)\n    Channel1.memoryLocationNRx4 = 0xff14;\n    // TL-- -FFF Trigger, Length enable, Frequency MSB\n    Channel1.NRx4LengthEnabled = false;\n    Channel1.NRx4FrequencyMSB = 0;\n    // Channel Properties\n    Channel1.channelNumber = 1;\n    Channel1.isEnabled = false;\n    Channel1.isDacEnabled = false;\n    Channel1.frequency = 0;\n    Channel1.frequencyTimer = 0x00;\n    Channel1.envelopeCounter = 0x00;\n    Channel1.isEnvelopeAutomaticUpdating = false;\n    Channel1.lengthCounter = 0x00;\n    Channel1.volume = 0x00;\n    // Square Wave properties\n    Channel1.dutyCycle = 0x00;\n    Channel1.waveFormPositionOnDuty = 0x00;\n    // Channel 1 Sweep\n    Channel1.isSweepEnabled = false;\n    Channel1.sweepCounter = 0x00;\n    Channel1.sweepShadowFrequency = 0x00;\n    Channel1.sweepNegateShouldDisableChannelOnClear = false;\n    // Save States\n    Channel1.saveStateSlot = 7;\n    return Channel1;\n}());\n// Sweep Specific functions\n// Function to determing a new sweep in the current context\nfunction calculateSweep() {\n    // Start our new frequency, by making it equal to the \"shadow frequency\"\n    var oldFrequency = Channel1.sweepShadowFrequency;\n    var newFrequency = oldFrequency >> Channel1.NRx0SweepShift;\n    // Check for sweep negation\n    if (Channel1.NRx0Negate) {\n        Channel1.sweepNegateShouldDisableChannelOnClear = true;\n        newFrequency = oldFrequency - newFrequency;\n    }\n    else {\n        newFrequency = oldFrequency + newFrequency;\n    }\n    return newFrequency;\n}\n// Function to check if a calculated sweep overflowed\nfunction didCalculatedSweepOverflow(calculatedSweep) {\n    // 7FF is the highest value of the frequency: 111 1111 1111\n    // if it overflows, should disable the channel (handled by the caller)\n    if (calculatedSweep > 0x7ff) {\n        return true;\n    }\n    return false;\n}\n\n// NOTE: Tons of Copy-pasta btween channels, because Classes cannot be instantiated yet in assemblyscript\nvar Channel2 = /** @class */ (function () {\n    function Channel2() {\n    }\n    Channel2.updateNRx1 = function (value) {\n        Channel2.NRx1Duty = (value >> 6) & 0x03;\n        Channel2.NRx1LengthLoad = value & 0x3f;\n        // Also need to set our length counter. Taken from the old, setChannelLengthCounter\n        // Channel length is determined by 64 (or 256 if channel 3), - the length load\n        // http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware#Registers\n        // Note, this will be different for channel 3\n        Channel2.lengthCounter = Channel2.MAX_LENGTH - Channel2.NRx1LengthLoad;\n    };\n    Channel2.updateNRx2 = function (value) {\n        // Handle \"Zombie Mode\" Obscure behavior\n        // https://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware#Obscure_Behavior\n        if (Channel2.isEnabled) {\n            // If the old envelope period was zero and the envelope is still doing automatic updates,\n            // volume is incremented by 1, otherwise if the envelope was in subtract mode,\n            // volume is incremented by 2.\n            // NOTE: However, from my testing, it ALWAYS increments by one. This was determined\n            // by my testing for prehistoric man\n            if (Channel2.NRx2EnvelopePeriod === 0 && Channel2.isEnvelopeAutomaticUpdating) {\n                // Volume can't be more than 4 bits\n                Channel2.volume = (Channel2.volume + 1) & 0x0f;\n            }\n            // If the mode was changed (add to subtract or subtract to add),\n            // volume is set to 16-volume. But volume cant be more than 4 bits\n            if (Channel2.NRx2EnvelopeAddMode !== checkBitOnByte(3, value)) {\n                Channel2.volume = (16 - Channel2.volume) & 0x0f;\n            }\n        }\n        Channel2.NRx2StartingVolume = (value >> 4) & 0x0f;\n        Channel2.NRx2EnvelopeAddMode = checkBitOnByte(3, value);\n        Channel2.NRx2EnvelopePeriod = value & 0x07;\n        // Also, get our channel is dac enabled\n        var isDacEnabled = (value & 0xf8) > 0;\n        Channel2.isDacEnabled = isDacEnabled;\n        // Blargg length test\n        // Disabling DAC should disable channel immediately\n        if (!isDacEnabled) {\n            Channel2.isEnabled = isDacEnabled;\n        }\n    };\n    Channel2.updateNRx3 = function (value) {\n        Channel2.NRx3FrequencyLSB = value;\n        // Update Channel Frequency\n        Channel2.frequency = (Channel2.NRx4FrequencyMSB << 8) | value;\n    };\n    Channel2.updateNRx4 = function (value) {\n        // Handle our Channel frequency first\n        // As this is modified if we trigger for length.\n        var frequencyMSB = value & 0x07;\n        Channel2.NRx4FrequencyMSB = frequencyMSB;\n        Channel2.frequency = (frequencyMSB << 8) | Channel2.NRx3FrequencyLSB;\n        // Obscure behavior\n        // http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware#Obscure_Behavior\n        // Also see blargg's cgb sound test\n        // Extra length clocking occurs when writing to NRx4,\n        // when the frame sequencer's next step is one that,\n        // doesn't clock the length counter.\n        var frameSequencer = Sound.frameSequencer;\n        var doesNextFrameSequencerUpdateLength = (frameSequencer & 1) === 1;\n        var isBeingLengthEnabled = !Channel2.NRx4LengthEnabled && checkBitOnByte(6, value);\n        if (!doesNextFrameSequencerUpdateLength) {\n            if (Channel2.lengthCounter > 0 && isBeingLengthEnabled) {\n                Channel2.lengthCounter -= 1;\n                if (!checkBitOnByte(7, value) && Channel2.lengthCounter === 0) {\n                    Channel2.isEnabled = false;\n                }\n            }\n        }\n        // Set the length enabled from the value\n        Channel2.NRx4LengthEnabled = checkBitOnByte(6, value);\n        // Trigger out channel, unfreeze length if frozen\n        // Triggers should happen after obscure behavior\n        // See test 11 for trigger\n        if (checkBitOnByte(7, value)) {\n            Channel2.trigger();\n            // When we trigger on the obscure behavior, and we reset the length Counter to max\n            // We need to clock\n            if (!doesNextFrameSequencerUpdateLength && Channel2.lengthCounter === Channel2.MAX_LENGTH && Channel2.NRx4LengthEnabled) {\n                Channel2.lengthCounter -= 1;\n            }\n        }\n    };\n    // Function to save the state of the class\n    Channel2.saveState = function () {\n        // Cycle Counter\n        store(getSaveStateMemoryOffset(0x00, Channel2.saveStateSlot), Channel2.cycleCounter);\n        // NRx0\n        // No NRx0 Properties\n        // NRx1\n        store(getSaveStateMemoryOffset(0x07, Channel2.saveStateSlot), Channel2.NRx1Duty);\n        store(getSaveStateMemoryOffset(0x08, Channel2.saveStateSlot), Channel2.NRx1LengthLoad);\n        // NRx2\n        store(getSaveStateMemoryOffset(0x0a, Channel2.saveStateSlot), Channel2.NRx2StartingVolume);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x0b, Channel2.saveStateSlot), Channel2.NRx2EnvelopeAddMode);\n        store(getSaveStateMemoryOffset(0x0c, Channel2.saveStateSlot), Channel2.NRx2EnvelopePeriod);\n        // NRx3\n        store(getSaveStateMemoryOffset(0x0d, Channel2.saveStateSlot), Channel2.NRx3FrequencyLSB);\n        // NRx4\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x0e, Channel2.saveStateSlot), Channel2.NRx4LengthEnabled);\n        store(getSaveStateMemoryOffset(0x0f, Channel2.saveStateSlot), Channel2.NRx4FrequencyMSB);\n        // Channel Properties\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x10, Channel2.saveStateSlot), Channel2.isEnabled);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x11, Channel2.saveStateSlot), Channel2.isDacEnabled);\n        store(getSaveStateMemoryOffset(0x12, Channel2.saveStateSlot), Channel2.frequency);\n        store(getSaveStateMemoryOffset(0x16, Channel2.saveStateSlot), Channel2.frequencyTimer);\n        store(getSaveStateMemoryOffset(0x1a, Channel2.saveStateSlot), Channel2.envelopeCounter);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x1e, Channel2.saveStateSlot), Channel2.isEnvelopeAutomaticUpdating);\n        store(getSaveStateMemoryOffset(0x1f, Channel2.saveStateSlot), Channel2.lengthCounter);\n        store(getSaveStateMemoryOffset(0x23, Channel2.saveStateSlot), Channel2.volume);\n        // Square Duty\n        store(getSaveStateMemoryOffset(0x27, Channel2.saveStateSlot), Channel2.dutyCycle);\n        store(getSaveStateMemoryOffset(0x28, Channel2.saveStateSlot), Channel2.waveFormPositionOnDuty);\n    };\n    // Function to load the save state from memory\n    Channel2.loadState = function () {\n        // Cycle Counter\n        Channel2.cycleCounter = load(getSaveStateMemoryOffset(0x00, Channel2.cycleCounter));\n        // NRx0\n        // No NRx0\n        // NRx1\n        Channel2.NRx1Duty = load(getSaveStateMemoryOffset(0x07, Channel2.saveStateSlot));\n        Channel2.NRx1LengthLoad = load(getSaveStateMemoryOffset(0x08, Channel2.saveStateSlot));\n        // NRx2\n        Channel2.NRx2StartingVolume = load(getSaveStateMemoryOffset(0xa, Channel2.saveStateSlot));\n        Channel2.NRx2EnvelopeAddMode = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x0b, Channel2.saveStateSlot));\n        Channel2.NRx2EnvelopePeriod = load(getSaveStateMemoryOffset(0x0c, Channel2.saveStateSlot));\n        // NRx3\n        Channel2.NRx3FrequencyLSB = load(getSaveStateMemoryOffset(0x0d, Channel2.saveStateSlot));\n        // NRx4\n        Channel2.NRx4LengthEnabled = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x0e, Channel2.saveStateSlot));\n        Channel2.NRx4FrequencyMSB = load(getSaveStateMemoryOffset(0x0f, Channel2.saveStateSlot));\n        // Channel Properties\n        Channel2.isEnabled = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x10, Channel2.saveStateSlot));\n        Channel2.isDacEnabled = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x11, Channel2.saveStateSlot));\n        Channel2.frequency = load(getSaveStateMemoryOffset(0x12, Channel2.saveStateSlot));\n        Channel2.frequencyTimer = load(getSaveStateMemoryOffset(0x16, Channel2.saveStateSlot));\n        Channel2.envelopeCounter = load(getSaveStateMemoryOffset(0x1a, Channel2.saveStateSlot));\n        Channel2.isEnvelopeAutomaticUpdating = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x1e, Channel2.saveStateSlot));\n        Channel2.lengthCounter = load(getSaveStateMemoryOffset(0x1f, Channel2.saveStateSlot));\n        Channel2.volume = load(getSaveStateMemoryOffset(0x23, Channel2.saveStateSlot));\n        // Square Duty\n        Channel2.dutyCycle = load(getSaveStateMemoryOffset(0x27, Channel2.saveStateSlot));\n        Channel2.waveFormPositionOnDuty = load(getSaveStateMemoryOffset(0x28, Channel2.saveStateSlot));\n    };\n    Channel2.initialize = function () {\n        eightBitStoreIntoGBMemory(Channel2.memoryLocationNRx1 - 1, 0xff);\n        eightBitStoreIntoGBMemory(Channel2.memoryLocationNRx1, 0x3f);\n        eightBitStoreIntoGBMemory(Channel2.memoryLocationNRx2, 0x00);\n        eightBitStoreIntoGBMemory(Channel2.memoryLocationNRx3, 0x00);\n        eightBitStoreIntoGBMemory(Channel2.memoryLocationNRx4, 0xb8);\n    };\n    // Function to get a sample using the cycle counter on the channel\n    Channel2.getSampleFromCycleCounter = function () {\n        var accumulatedCycles = Channel2.cycleCounter;\n        Channel2.cycleCounter = 0;\n        return Channel2.getSample(accumulatedCycles);\n    };\n    // Function to reset our timer, useful for GBC double speed mode\n    Channel2.resetTimer = function () {\n        var frequencyTimer = (2048 - Channel2.frequency) << 2;\n        // TODO: Ensure this is correct for GBC Double Speed Mode\n        Channel2.frequencyTimer = frequencyTimer << Cpu.GBCDoubleSpeed;\n    };\n    Channel2.getSample = function (numberOfCycles) {\n        // Decrement our channel timer\n        var frequencyTimer = Channel2.frequencyTimer;\n        frequencyTimer -= numberOfCycles;\n        while (frequencyTimer <= 0) {\n            // Get the amount that overflowed so we don't drop cycles\n            var overflowAmount = abs(frequencyTimer);\n            // Reset our timer\n            // A square channel's frequency timer period is set to (2048-frequency)*4.\n            // Four duty cycles are available, each waveform taking 8 frequency timer clocks to cycle through:\n            Channel2.resetTimer();\n            frequencyTimer = Channel2.frequencyTimer;\n            frequencyTimer -= overflowAmount;\n            // Also increment our duty cycle\n            // What is duty? https://en.wikipedia.org/wiki/Duty_cycle\n            // Duty cycle for square wave: http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware#Square_Wave\n            Channel2.waveFormPositionOnDuty = (Channel2.waveFormPositionOnDuty + 1) & 7;\n        }\n        Channel2.frequencyTimer = frequencyTimer;\n        // Get our ourput volume\n        var outputVolume = 0;\n        // Finally to set our output volume, the channel must be enabled,\n        // Our channel DAC must be enabled, and we must be in an active state\n        // Of our duty cycle\n        if (Channel2.isEnabled && Channel2.isDacEnabled) {\n            // Volume can't be more than 4 bits.\n            // Volume should never be more than 4 bits, but doing a check here\n            outputVolume = Channel2.volume & 0x0f;\n        }\n        else {\n            // Return silence\n            // Since range from -15 - 15, or 0 to 30 for our unsigned\n            return 15;\n        }\n        // Get the current sampleValue\n        var sample = 1;\n        if (!isDutyCycleClockPositiveOrNegativeForWaveform(Channel2.NRx1Duty, Channel2.waveFormPositionOnDuty)) {\n            sample = -sample;\n        }\n        sample = sample * outputVolume;\n        // Square Waves Can range from -15 - 15. Therefore simply add 15\n        sample += 15;\n        return sample;\n    };\n    //http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware#Trigger_Event\n    Channel2.trigger = function () {\n        Channel2.isEnabled = true;\n        // Set length to maximum done in write\n        if (Channel2.lengthCounter === 0) {\n            Channel2.lengthCounter = Channel2.MAX_LENGTH;\n        }\n        // Reset our timer\n        // A square channel's frequency timer period is set to (2048-frequency)*4.\n        // Four duty cycles are available, each waveform taking 8 frequency timer clocks to cycle through:\n        Channel2.resetTimer();\n        // The volume envelope and sweep timers treat a period of 0 as 8.\n        // Meaning, if the period is zero, set it to the max (8).\n        if (Channel2.NRx2EnvelopePeriod === 0) {\n            Channel2.envelopeCounter = 8;\n        }\n        else {\n            Channel2.envelopeCounter = Channel2.NRx2EnvelopePeriod;\n        }\n        Channel2.isEnvelopeAutomaticUpdating = true;\n        Channel2.volume = Channel2.NRx2StartingVolume;\n        // Finally if DAC is off, channel is still disabled\n        if (!Channel2.isDacEnabled) {\n            Channel2.isEnabled = false;\n        }\n    };\n    // Function to determine if the current channel would update when getting the sample\n    // This is used to accumulate samples\n    Channel2.willChannelUpdate = function (numberOfCycles) {\n        //Increment our cycle counter\n        var cycleCounter = Channel2.cycleCounter + numberOfCycles;\n        Channel2.cycleCounter = cycleCounter;\n        // Dac enabled status cached by accumulator\n        return !(Channel2.frequencyTimer - cycleCounter > 0);\n    };\n    Channel2.updateLength = function () {\n        var lengthCounter = Channel2.lengthCounter;\n        if (lengthCounter > 0 && Channel2.NRx4LengthEnabled) {\n            lengthCounter -= 1;\n        }\n        if (lengthCounter === 0) {\n            Channel2.isEnabled = false;\n        }\n        Channel2.lengthCounter = lengthCounter;\n    };\n    Channel2.updateEnvelope = function () {\n        var envelopeCounter = Channel2.envelopeCounter - 1;\n        if (envelopeCounter <= 0) {\n            // Reset back to the sweep period\n            // Obscure behavior\n            // Envelopes treat a period of 0 as 8 (They reset back to the max)\n            if (Channel2.NRx2EnvelopePeriod === 0) {\n                envelopeCounter = 8;\n            }\n            else {\n                envelopeCounter = Channel2.NRx2EnvelopePeriod;\n                // When the timer generates a clock and the envelope period is NOT zero, a new volume is calculated\n                // NOTE: There is some weiirrdd obscure behavior where zero can equal 8, so watch out for that\n                if (envelopeCounter !== 0 && Channel2.isEnvelopeAutomaticUpdating) {\n                    var volume = Channel2.volume;\n                    // Increment the volume\n                    if (Channel2.NRx2EnvelopeAddMode) {\n                        volume += 1;\n                    }\n                    else {\n                        volume -= 1;\n                    }\n                    // Don't allow the volume to go above 4 bits.\n                    volume = volume & 0x0f;\n                    // Check if we are below the max\n                    if (volume < 15) {\n                        Channel2.volume = volume;\n                    }\n                    else {\n                        Channel2.isEnvelopeAutomaticUpdating = false;\n                    }\n                }\n            }\n        }\n        Channel2.envelopeCounter = envelopeCounter;\n    };\n    Channel2.setFrequency = function (frequency) {\n        // Get the high and low bits\n        var passedFrequencyHighBits = frequency >> 8;\n        var passedFrequencyLowBits = frequency & 0xff;\n        // Get the new register 4\n        var register4 = eightBitLoadFromGBMemory(Channel2.memoryLocationNRx4);\n        // Knock off lower 3 bits, and Or on our high bits\n        var newRegister4 = register4 & 0xf8;\n        newRegister4 = newRegister4 | passedFrequencyHighBits;\n        // Set the registers\n        eightBitStoreIntoGBMemory(Channel2.memoryLocationNRx3, passedFrequencyLowBits);\n        eightBitStoreIntoGBMemory(Channel2.memoryLocationNRx4, newRegister4);\n        // Save the frequency for ourselves without triggering memory traps\n        Channel2.NRx3FrequencyLSB = passedFrequencyLowBits;\n        Channel2.NRx4FrequencyMSB = passedFrequencyHighBits;\n        Channel2.frequency = (passedFrequencyHighBits << 8) | passedFrequencyLowBits;\n    };\n    // Cycle Counter for our sound accumulator\n    Channel2.cycleCounter = 0;\n    // Max Length of our Length Load\n    Channel2.MAX_LENGTH = 64;\n    // Squarewave channel with volume envelope functions only.\n    // Only used by register reading\n    Channel2.memoryLocationNRx0 = 0xff15;\n    // NR21 -> Sound length/Wave pattern duty (R/W)\n    Channel2.memoryLocationNRx1 = 0xff16;\n    // DDLL LLLL Duty, Length load (64-L)\n    Channel2.NRx1Duty = 0;\n    Channel2.NRx1LengthLoad = 0;\n    // NR22 -> Volume Envelope (R/W)\n    Channel2.memoryLocationNRx2 = 0xff17;\n    // VVVV APPP Starting volume, Envelope add mode, period\n    Channel2.NRx2StartingVolume = 0;\n    Channel2.NRx2EnvelopeAddMode = false;\n    Channel2.NRx2EnvelopePeriod = 0;\n    // NR23 -> Frequency lo (W)\n    Channel2.memoryLocationNRx3 = 0xff18;\n    // FFFF FFFF Frequency LSB\n    Channel2.NRx3FrequencyLSB = 0;\n    // NR24 -> Frequency hi (R/W)\n    Channel2.memoryLocationNRx4 = 0xff19;\n    // TL-- -FFF Trigger, Length enable, Frequency MSB\n    Channel2.NRx4LengthEnabled = false;\n    Channel2.NRx4FrequencyMSB = 0;\n    // Channel Properties\n    Channel2.channelNumber = 2;\n    Channel2.isEnabled = false;\n    Channel2.isDacEnabled = false;\n    Channel2.frequency = 0;\n    Channel2.frequencyTimer = 0x00;\n    Channel2.envelopeCounter = 0x00;\n    Channel2.isEnvelopeAutomaticUpdating = false;\n    Channel2.lengthCounter = 0x00;\n    Channel2.volume = 0x00;\n    // Square Wave properties\n    Channel2.dutyCycle = 0x00;\n    Channel2.waveFormPositionOnDuty = 0x00;\n    // Save States\n    Channel2.saveStateSlot = 8;\n    return Channel2;\n}());\n\n// NOTE: Tons of Copy-pasta btween channels, because Classes cannot be instantiated yet in assemblyscript\nvar Channel3 = /** @class */ (function () {\n    function Channel3() {\n    }\n    // E--- ---- DAC power\n    Channel3.updateNRx0 = function (value) {\n        var isDacEnabled = checkBitOnByte(7, value);\n        // Sample buffer reset to zero when powered on\n        if (!Channel3.isDacEnabled && isDacEnabled) {\n            Channel3.sampleBuffer = 0x00;\n        }\n        Channel3.isDacEnabled = isDacEnabled;\n        // Blargg length test\n        // Disabling DAC should disable channel immediately\n        if (!isDacEnabled) {\n            Channel3.isEnabled = isDacEnabled;\n        }\n    };\n    Channel3.updateNRx1 = function (value) {\n        Channel3.NRx1LengthLoad = value;\n        // Also need to set our length counter. Taken from the old, setChannelLengthCounter\n        // Channel length is determined by 64 (or 256 if channel 3), - the length load\n        // http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware#Registers\n        // Note, this will be different for channel 3\n        // Supposed to be 256, so subtracting 255 and then adding 1 if that makes sense\n        Channel3.lengthCounter = Channel3.MAX_LENGTH - Channel3.NRx1LengthLoad;\n    };\n    Channel3.updateNRx2 = function (value) {\n        Channel3.NRx2VolumeCode = (value >> 5) & 0x0f;\n    };\n    Channel3.updateNRx3 = function (value) {\n        Channel3.NRx3FrequencyLSB = value;\n        // Update Channel Frequency\n        Channel3.frequency = (Channel3.NRx4FrequencyMSB << 8) | value;\n    };\n    Channel3.updateNRx4 = function (value) {\n        // Handle our frequency\n        // Must be done first for our upcoming trigger\n        // To correctly reset timing\n        var frequencyMSB = value & 0x07;\n        Channel3.NRx4FrequencyMSB = frequencyMSB;\n        Channel3.frequency = (frequencyMSB << 8) | Channel3.NRx3FrequencyLSB;\n        // Obscure behavior\n        // http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware#Obscure_Behavior\n        // Also see blargg's cgb sound test\n        // Extra length clocking occurs when writing to NRx4,\n        // when the frame sequencer's next step is one that,\n        // doesn't clock the length counter.\n        var frameSequencer = Sound.frameSequencer;\n        var doesNextFrameSequencerUpdateLength = (frameSequencer & 1) === 1;\n        var isBeingLengthEnabled = false;\n        if (!doesNextFrameSequencerUpdateLength) {\n            // Check lengthEnable\n            isBeingLengthEnabled = !Channel3.NRx4LengthEnabled && checkBitOnByte(6, value);\n            if (Channel3.lengthCounter > 0 && isBeingLengthEnabled) {\n                Channel3.lengthCounter -= 1;\n                if (!checkBitOnByte(7, value) && Channel3.lengthCounter === 0) {\n                    Channel3.isEnabled = false;\n                }\n            }\n        }\n        // Set the length enabled from the value\n        Channel3.NRx4LengthEnabled = checkBitOnByte(6, value);\n        // Trigger our channel, unfreeze length if frozen\n        // Triggers should happen after obscure behavior\n        // See test 11 for trigger\n        if (checkBitOnByte(7, value)) {\n            Channel3.trigger();\n            // When we trigger on the obscure behavior, and we reset the length Counter to max\n            // We need to clock\n            if (!doesNextFrameSequencerUpdateLength && Channel3.lengthCounter === Channel3.MAX_LENGTH && Channel3.NRx4LengthEnabled) {\n                Channel3.lengthCounter -= 1;\n            }\n        }\n    };\n    // Function to save the state of the class\n    Channel3.saveState = function () {\n        // Cycle Counter\n        store(getSaveStateMemoryOffset(0x00, Channel3.saveStateSlot), Channel3.cycleCounter);\n        // NRx0\n        // No NRx0 Properties\n        // NRx1\n        store(getSaveStateMemoryOffset(0x08, Channel3.saveStateSlot), Channel3.NRx1LengthLoad);\n        // NRx2\n        store(getSaveStateMemoryOffset(0x0a, Channel3.saveStateSlot), Channel3.NRx2VolumeCode);\n        // NRx3\n        store(getSaveStateMemoryOffset(0x0c, Channel3.saveStateSlot), Channel3.NRx3FrequencyLSB);\n        // NRx4\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x0d, Channel3.saveStateSlot), Channel3.NRx4LengthEnabled);\n        store(getSaveStateMemoryOffset(0x0e, Channel3.saveStateSlot), Channel3.NRx4FrequencyMSB);\n        // Channel Properties\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x0f, Channel3.saveStateSlot), Channel3.isEnabled);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x10, Channel3.saveStateSlot), Channel3.isDacEnabled);\n        store(getSaveStateMemoryOffset(0x11, Channel3.saveStateSlot), Channel3.frequency);\n        store(getSaveStateMemoryOffset(0x15, Channel3.saveStateSlot), Channel3.frequencyTimer);\n        // No Envelope\n        store(getSaveStateMemoryOffset(0x19, Channel3.saveStateSlot), Channel3.lengthCounter);\n        // WaveTable Properties\n        store(getSaveStateMemoryOffset(0x21, Channel3.saveStateSlot), Channel3.waveTablePosition);\n        store(getSaveStateMemoryOffset(0x25, Channel3.saveStateSlot), Channel3.volumeCode);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x26, Channel3.saveStateSlot), Channel3.volumeCodeChanged);\n        store(getSaveStateMemoryOffset(0x27, Channel3.saveStateSlot), Channel3.sampleBuffer);\n    };\n    // Function to load the save state from memory\n    Channel3.loadState = function () {\n        // Cycle Counter\n        Channel3.cycleCounter = load(getSaveStateMemoryOffset(0x00, Channel3.cycleCounter));\n        // NRx0\n        // No NRx0\n        // NRx1\n        Channel3.NRx1LengthLoad = load(getSaveStateMemoryOffset(0x08, Channel3.saveStateSlot));\n        // NRx2\n        Channel3.NRx2VolumeCode = load(getSaveStateMemoryOffset(0x0a, Channel3.saveStateSlot));\n        // NRx3\n        Channel3.NRx3FrequencyLSB = load(getSaveStateMemoryOffset(0x0c, Channel3.saveStateSlot));\n        // NRx4\n        Channel3.NRx4LengthEnabled = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x0d, Channel3.saveStateSlot));\n        Channel3.NRx4FrequencyMSB = load(getSaveStateMemoryOffset(0x0e, Channel3.saveStateSlot));\n        // Channel Properties\n        Channel3.isEnabled = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x0f, Channel3.saveStateSlot));\n        Channel3.isDacEnabled = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x10, Channel3.saveStateSlot));\n        Channel3.frequency = load(getSaveStateMemoryOffset(0x11, Channel3.saveStateSlot));\n        Channel3.frequencyTimer = load(getSaveStateMemoryOffset(0x15, Channel3.saveStateSlot));\n        // No Envelope\n        Channel3.lengthCounter = load(getSaveStateMemoryOffset(0x19, Channel3.saveStateSlot));\n        // Wave Table Properties\n        Channel3.waveTablePosition = load(getSaveStateMemoryOffset(0x21, Channel3.saveStateSlot));\n        Channel3.volumeCode = load(getSaveStateMemoryOffset(0x25, Channel3.saveStateSlot));\n        Channel3.volumeCodeChanged = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x26, Channel3.saveStateSlot));\n        Channel3.sampleBuffer = load(getSaveStateMemoryOffset(0x27, Channel3.saveStateSlot));\n    };\n    // Memory Read Trap\n    Channel3.handleWaveRamRead = function () {\n        // Obscure behavior\n        // http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware\n        // If the wave channel is enabled, accessing any byte from $FF30-$FF3F is equivalent to,\n        // accessing the current byte selected by the waveform position. Further, on the DMG accesses will only work in this manner,\n        // if made within a couple of clocks of the wave channel accessing wave RAM;\n        // if made at any other time, reads return $FF and writes have no effect.\n        // TODO: Handle DMG case\n        return readCurrentSampleByteFromWaveRam();\n    };\n    // Memory Write Trap\n    Channel3.handleWaveRamWrite = function (value) {\n        // Obscure behavior\n        // http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware\n        // If the wave channel is enabled, accessing any byte from $FF30-$FF3F is equivalent to,\n        // accessing the current byte selected by the waveform position. Further, on the DMG accesses will only work in this manner,\n        // if made within a couple of clocks of the wave channel accessing wave RAM;\n        // if made at any other time, reads return $FF and writes have no effect.\n        // Thus we want to write the value to the current sample position\n        // Will Find the position, and knock off any remainder\n        var positionIndexToAdd = i32Portable(Channel3.waveTablePosition >> 1);\n        var memoryLocationWaveSample = Channel3.memoryLocationWaveTable + positionIndexToAdd;\n        eightBitStoreIntoGBMemory(memoryLocationWaveSample, value);\n    };\n    Channel3.initialize = function () {\n        eightBitStoreIntoGBMemory(Channel3.memoryLocationNRx0, 0x7f);\n        eightBitStoreIntoGBMemory(Channel3.memoryLocationNRx1, 0xff);\n        eightBitStoreIntoGBMemory(Channel3.memoryLocationNRx2, 0x9f);\n        eightBitStoreIntoGBMemory(Channel3.memoryLocationNRx3, 0x00);\n        eightBitStoreIntoGBMemory(Channel3.memoryLocationNRx4, 0xb8);\n        // The volume code changed\n        Channel3.volumeCodeChanged = true;\n    };\n    // Function to get a sample using the cycle counter on the channel\n    Channel3.getSampleFromCycleCounter = function () {\n        var accumulatedCycles = Channel3.cycleCounter;\n        Channel3.cycleCounter = 0;\n        return Channel3.getSample(accumulatedCycles);\n    };\n    // Function to reset our timer, useful for GBC double speed mode\n    Channel3.resetTimer = function () {\n        var frequencyTimer = (2048 - Channel3.frequency) << 1;\n        // TODO: Ensure this is correct for GBC Double Speed Mode\n        Channel3.frequencyTimer = frequencyTimer << Cpu.GBCDoubleSpeed;\n    };\n    Channel3.getSample = function (numberOfCycles) {\n        // Check if we are enabled\n        if (!Channel3.isEnabled || !Channel3.isDacEnabled) {\n            // Return silence\n            // Since range from -15 - 15, or 0 to 30 for our unsigned\n            return 15;\n        }\n        // Get our volume code\n        // Need this to compute the sample\n        var volumeCode = Channel3.volumeCode;\n        if (Channel3.volumeCodeChanged) {\n            volumeCode = eightBitLoadFromGBMemory(Channel3.memoryLocationNRx2);\n            volumeCode = volumeCode >> 5;\n            volumeCode = volumeCode & 0x0f;\n            Channel3.volumeCode = volumeCode;\n            Channel3.volumeCodeChanged = false;\n        }\n        // Get the current sample\n        var sample = getSampleFromSampleBufferForWaveTablePosition();\n        // Shift our sample and set our volume depending on the volume code\n        // Since we can't multiply by float, simply divide by 4, 2, 1\n        // http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware#Wave_Channel\n        var outputVolume = 0;\n        switch (volumeCode) {\n            case 0:\n                sample >>= 4;\n                break;\n            case 1:\n                // Dont Shift sample\n                outputVolume = 1;\n                break;\n            case 2:\n                sample >>= 1;\n                outputVolume = 2;\n                break;\n            default:\n                sample >>= 2;\n                outputVolume = 4;\n                break;\n        }\n        // Apply out output volume\n        sample = outputVolume > 0 ? sample / outputVolume : 0;\n        // Square Waves Can range from -15 - 15. Therefore simply add 15\n        sample += 15;\n        // Update the sample based on our timer\n        var frequencyTimer = Channel3.frequencyTimer;\n        frequencyTimer -= numberOfCycles;\n        while (frequencyTimer <= 0) {\n            // Get the amount that overflowed so we don't drop cycles\n            var overflowAmount = abs(frequencyTimer);\n            // Reset our timer\n            // A wave channel's frequency timer period is set to (2048-frequency) * 2.\n            // http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware#Wave_Channel\n            Channel3.resetTimer();\n            frequencyTimer = Channel3.frequencyTimer;\n            frequencyTimer -= overflowAmount;\n            // Update our sample buffer\n            advanceWavePositionAndSampleBuffer();\n        }\n        Channel3.frequencyTimer = frequencyTimer;\n        // Finally return the sample\n        return sample;\n    };\n    //http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware#Trigger_Event\n    Channel3.trigger = function () {\n        Channel3.isEnabled = true;\n        // Length counter maximum handled by write\n        if (Channel3.lengthCounter === 0) {\n            Channel3.lengthCounter = Channel3.MAX_LENGTH;\n        }\n        // Reset our timer\n        // A wave channel's frequency timer period is set to (2048-frequency)*2.\n        Channel3.resetTimer();\n        // Add some delay to our frequency timer\n        // So Honestly, lifted this from binjgb\n        // https://github.com/binji/binjgb/blob/68eb4b2f6d5d7a98d270e12c4b8ff065c07f5e94/src/emulator.c#L2625\n        // I have no clue why this is, but it passes 09-wave read while on.s\n        // blargg test.\n        // I think this has to do with obscure behavior?\n        // http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware\n        // When triggering the wave channel,\n        // the first sample to play is the previous one still in the high nibble of the sample buffer,\n        // and the next sample is the second nibble from the wave table.\n        // This is because it doesn't load the first byte on trigger like it \"should\".\n        // The first nibble from the wave table is thus not played until the waveform loops.\n        Channel3.frequencyTimer += 6;\n        // Reset our wave table position\n        Channel3.waveTablePosition = 0;\n        // Finally if DAC is off, channel is still disabled\n        if (!Channel3.isDacEnabled) {\n            Channel3.isEnabled = false;\n        }\n    };\n    // Function to determine if the current channel would update when getting the sample\n    // This is used to accumulate samples\n    Channel3.willChannelUpdate = function (numberOfCycles) {\n        //Increment our cycle counter\n        Channel3.cycleCounter += numberOfCycles;\n        // Dac enabled status cached by accumulator\n        return !(!Channel3.volumeCodeChanged && Channel3.frequencyTimer - Channel3.cycleCounter > 0);\n    };\n    Channel3.updateLength = function () {\n        var lengthCounter = Channel3.lengthCounter;\n        if (lengthCounter > 0 && Channel3.NRx4LengthEnabled) {\n            lengthCounter -= 1;\n        }\n        if (lengthCounter === 0) {\n            Channel3.isEnabled = false;\n        }\n        Channel3.lengthCounter = lengthCounter;\n    };\n    // Cycle Counter for our sound accumulator\n    Channel3.cycleCounter = 0;\n    // Max Length of our Length Load\n    Channel3.MAX_LENGTH = 256;\n    // Voluntary Wave channel with 32 4-bit programmable samples, played in sequence.\n    // NR30 -> Sound on/off (R/W)\n    Channel3.memoryLocationNRx0 = 0xff1a;\n    // NR31 -> Sound length (R/W)\n    Channel3.memoryLocationNRx1 = 0xff1b;\n    // LLLL LLLL Length load (256-L)\n    Channel3.NRx1LengthLoad = 0;\n    // NR32 -> Select ouput level (R/W)\n    Channel3.memoryLocationNRx2 = 0xff1c;\n    // -VV- ---- Volume code (00=0%, 01=100%, 10=50%, 11=25%)\n    Channel3.NRx2VolumeCode = 0;\n    // NR33 -> Frequency lower data (W)\n    Channel3.memoryLocationNRx3 = 0xff1d;\n    // FFFF FFFF Frequency LSB\n    Channel3.NRx3FrequencyLSB = 0;\n    // NR34 -> Frequency higher data (R/W)\n    Channel3.memoryLocationNRx4 = 0xff1e;\n    // TL-- -FFF Trigger, Length enable, Frequency MSB\n    Channel3.NRx4LengthEnabled = false;\n    Channel3.NRx4FrequencyMSB = 0;\n    // Our wave table location\n    Channel3.memoryLocationWaveTable = 0xff30;\n    // Channel Properties\n    Channel3.channelNumber = 3;\n    Channel3.isEnabled = false;\n    Channel3.isDacEnabled = false;\n    Channel3.frequency = 0;\n    Channel3.frequencyTimer = 0x00;\n    Channel3.lengthCounter = 0x00;\n    // WaveTable Properties\n    Channel3.waveTablePosition = 0x00;\n    Channel3.volumeCode = 0x00;\n    Channel3.volumeCodeChanged = false;\n    Channel3.sampleBuffer = 0x00;\n    // Save States\n    Channel3.saveStateSlot = 9;\n    return Channel3;\n}());\n// Functions specific to wave memory\nfunction advanceWavePositionAndSampleBuffer() {\n    // Advance the wave table position, and loop back if needed\n    var waveTablePosition = Channel3.waveTablePosition;\n    waveTablePosition += 1;\n    while (waveTablePosition >= 32) {\n        waveTablePosition -= 32;\n    }\n    Channel3.waveTablePosition = waveTablePosition;\n    // Load the next sample byte from wave ram,\n    // into the sample buffer\n    Channel3.sampleBuffer = readCurrentSampleByteFromWaveRam();\n}\nfunction readCurrentSampleByteFromWaveRam() {\n    // Will Find the position, and knock off any remainder\n    var positionIndexToAdd = i32Portable(Channel3.waveTablePosition >> 1);\n    var memoryLocationWaveSample = Channel3.memoryLocationWaveTable + positionIndexToAdd;\n    return eightBitLoadFromGBMemory(memoryLocationWaveSample);\n}\nfunction getSampleFromSampleBufferForWaveTablePosition() {\n    var sample = Channel3.sampleBuffer;\n    // Need to grab the top or lower half for the correct sample\n    sample >>= ((Channel3.waveTablePosition & 1) === 0) << 2;\n    sample &= 0x0f;\n    return sample;\n}\n\n// NOTE: Tons of Copy-pasta btween channels, because Classes cannot be instantiated yet in assemblyscript\nvar Channel4 = /** @class */ (function () {\n    function Channel4() {\n    }\n    Channel4.updateNRx1 = function (value) {\n        Channel4.NRx1LengthLoad = value & 0x3f;\n        // Also need to set our length counter. Taken from the old, setChannelLengthCounter\n        // Channel length is determined by 64 (or 256 if channel 3), - the length load\n        // http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware#Registers\n        // Note, this will be different for channel 3\n        Channel4.lengthCounter = Channel4.MAX_LENGTH - Channel4.NRx1LengthLoad;\n    };\n    Channel4.updateNRx2 = function (value) {\n        // Handle \"Zombie Mode\" Obscure behavior\n        // https://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware#Obscure_Behavior\n        if (Channel4.isEnabled) {\n            // If the old envelope period was zero and the envelope is still doing automatic updates,\n            // volume is incremented by 1, otherwise if the envelope was in subtract mode,\n            // volume is incremented by 2.\n            // NOTE: However, from my testing, it ALWAYS increments by one. This was determined\n            // by my testing for prehistoric man\n            if (Channel4.NRx2EnvelopePeriod === 0 && Channel4.isEnvelopeAutomaticUpdating) {\n                // Volume can't be more than 4 bits\n                Channel4.volume = (Channel4.volume + 1) & 0x0f;\n            }\n            // If the mode was changed (add to subtract or subtract to add),\n            // volume is set to 16-volume. But volume cant be more than 4 bits\n            if (Channel4.NRx2EnvelopeAddMode !== checkBitOnByte(3, value)) {\n                Channel4.volume = (16 - Channel4.volume) & 0x0f;\n            }\n        }\n        Channel4.NRx2StartingVolume = (value >> 4) & 0x0f;\n        Channel4.NRx2EnvelopeAddMode = checkBitOnByte(3, value);\n        Channel4.NRx2EnvelopePeriod = value & 0x07;\n        // Also, get our channel is dac enabled\n        var isDacEnabled = (value & 0xf8) > 0;\n        Channel4.isDacEnabled = isDacEnabled;\n        // Blargg length test\n        // Disabling DAC should disable channel immediately\n        if (!isDacEnabled) {\n            Channel4.isEnabled = isDacEnabled;\n        }\n    };\n    Channel4.updateNRx3 = function (value) {\n        var divisorCode = value & 0x07;\n        Channel4.NRx3ClockShift = value >> 4;\n        Channel4.NRx3WidthMode = checkBitOnByte(3, value);\n        Channel4.NRx3DivisorCode = divisorCode;\n        // Also, get our divisor\n        divisorCode <<= 1;\n        if (divisorCode < 1)\n            divisorCode = 1;\n        Channel4.divisor = divisorCode << 3;\n    };\n    Channel4.updateNRx4 = function (value) {\n        // Obscure behavior\n        // http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware#Obscure_Behavior\n        // Also see blargg's cgb sound test\n        // Extra length clocking occurs when writing to NRx4,\n        // when the frame sequencer's next step is one that,\n        // doesn't clock the length counter.\n        var frameSequencer = Sound.frameSequencer;\n        var doesNextFrameSequencerUpdateLength = (frameSequencer & 1) === 1;\n        var isBeingLengthEnabled = !Channel4.NRx4LengthEnabled && checkBitOnByte(6, value);\n        if (!doesNextFrameSequencerUpdateLength) {\n            if (Channel4.lengthCounter > 0 && isBeingLengthEnabled) {\n                Channel4.lengthCounter -= 1;\n                if (!checkBitOnByte(7, value) && Channel4.lengthCounter === 0) {\n                    Channel4.isEnabled = false;\n                }\n            }\n        }\n        // Set the length enabled from the value\n        Channel4.NRx4LengthEnabled = checkBitOnByte(6, value);\n        // Trigger out channel, unfreeze length if frozen\n        // Triggers should happen after obscure behavior\n        // See test 11 for trigger\n        if (checkBitOnByte(7, value)) {\n            Channel4.trigger();\n            // When we trigger on the obscure behavior, and we reset the length Counter to max\n            // We need to clock\n            if (!doesNextFrameSequencerUpdateLength && Channel4.lengthCounter === Channel4.MAX_LENGTH && Channel4.NRx4LengthEnabled) {\n                Channel4.lengthCounter -= 1;\n            }\n        }\n    };\n    // Function to save the state of the class\n    Channel4.saveState = function () {\n        // Cycle Counter\n        store(getSaveStateMemoryOffset(0x00, Channel4.saveStateSlot), Channel4.cycleCounter);\n        // NRx0\n        // No NRx0 Properties\n        // NRx1\n        store(getSaveStateMemoryOffset(0x04, Channel4.saveStateSlot), Channel4.NRx1LengthLoad);\n        // NRx2\n        store(getSaveStateMemoryOffset(0x06, Channel4.saveStateSlot), Channel4.NRx2StartingVolume);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x07, Channel4.saveStateSlot), Channel4.NRx2EnvelopeAddMode);\n        store(getSaveStateMemoryOffset(0x08, Channel4.saveStateSlot), Channel4.NRx2EnvelopePeriod);\n        // NRx3\n        store(getSaveStateMemoryOffset(0x09, Channel4.saveStateSlot), Channel4.NRx3ClockShift);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x0a, Channel4.saveStateSlot), Channel4.NRx3WidthMode);\n        store(getSaveStateMemoryOffset(0x0b, Channel4.saveStateSlot), Channel4.NRx3DivisorCode);\n        // NRx4\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x0d, Channel4.saveStateSlot), Channel4.NRx4LengthEnabled);\n        // Channel Properties\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x0f, Channel4.saveStateSlot), Channel4.isEnabled);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x10, Channel4.saveStateSlot), Channel4.isDacEnabled);\n        store(getSaveStateMemoryOffset(0x15, Channel4.saveStateSlot), Channel4.frequencyTimer);\n        store(getSaveStateMemoryOffset(0x19, Channel4.saveStateSlot), Channel4.envelopeCounter);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x1d, Channel4.saveStateSlot), Channel4.isEnvelopeAutomaticUpdating);\n        store(getSaveStateMemoryOffset(0x1e, Channel4.saveStateSlot), Channel4.lengthCounter);\n        store(getSaveStateMemoryOffset(0x22, Channel4.saveStateSlot), Channel4.volume);\n        // LSFR\n        store(getSaveStateMemoryOffset(0x26, Channel4.saveStateSlot), Channel4.linearFeedbackShiftRegister);\n    };\n    // Function to load the save state from memory\n    Channel4.loadState = function () {\n        // Cycle Counter\n        Channel4.cycleCounter = load(getSaveStateMemoryOffset(0x00, Channel4.cycleCounter));\n        // NRx0\n        // No NRx0\n        // NRx1\n        Channel4.NRx1LengthLoad = load(getSaveStateMemoryOffset(0x04, Channel4.saveStateSlot));\n        // NRx2\n        Channel4.NRx2StartingVolume = load(getSaveStateMemoryOffset(0x06, Channel4.saveStateSlot));\n        Channel4.NRx2EnvelopeAddMode = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x07, Channel4.saveStateSlot));\n        Channel4.NRx2EnvelopePeriod = load(getSaveStateMemoryOffset(0x08, Channel4.saveStateSlot));\n        // NRx3\n        Channel4.NRx3ClockShift = load(getSaveStateMemoryOffset(0x09, Channel4.saveStateSlot));\n        Channel4.NRx3WidthMode = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x0a, Channel4.saveStateSlot));\n        Channel4.NRx3DivisorCode = load(getSaveStateMemoryOffset(0x0b, Channel4.saveStateSlot));\n        // NRx4\n        Channel4.NRx4LengthEnabled = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x0d, Channel4.saveStateSlot));\n        // Channel Properties\n        Channel4.isEnabled = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x0f, Channel4.saveStateSlot));\n        Channel4.isDacEnabled = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x10, Channel4.saveStateSlot));\n        Channel4.frequencyTimer = load(getSaveStateMemoryOffset(0x15, Channel4.saveStateSlot));\n        Channel4.envelopeCounter = load(getSaveStateMemoryOffset(0x19, Channel4.saveStateSlot));\n        Channel4.isEnvelopeAutomaticUpdating = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x1d, Channel4.saveStateSlot));\n        Channel4.lengthCounter = load(getSaveStateMemoryOffset(0x1e, Channel4.saveStateSlot));\n        Channel4.volume = load(getSaveStateMemoryOffset(0x22, Channel4.saveStateSlot));\n        // LSFR\n        Channel4.linearFeedbackShiftRegister = load(getSaveStateMemoryOffset(0x26, Channel4.saveStateSlot));\n    };\n    Channel4.initialize = function () {\n        eightBitStoreIntoGBMemory(Channel4.memoryLocationNRx1 - 1, 0xff);\n        eightBitStoreIntoGBMemory(Channel4.memoryLocationNRx1, 0xff);\n        eightBitStoreIntoGBMemory(Channel4.memoryLocationNRx2, 0x00);\n        eightBitStoreIntoGBMemory(Channel4.memoryLocationNRx3, 0x00);\n        eightBitStoreIntoGBMemory(Channel4.memoryLocationNRx4, 0xbf);\n    };\n    // Function to get a sample using the cycle counter on the channel\n    Channel4.getSampleFromCycleCounter = function () {\n        var accumulatedCycles = Channel4.cycleCounter;\n        Channel4.cycleCounter = 0;\n        return Channel4.getSample(accumulatedCycles);\n    };\n    Channel4.getSample = function (numberOfCycles) {\n        // Decrement our channel timer\n        var frequencyTimer = Channel4.frequencyTimer;\n        frequencyTimer -= numberOfCycles;\n        // TODO: This can't be a while loop to use up all the cycles,\n        // Since noise is psuedo random and the period can be anything\n        if (frequencyTimer <= 0) {\n            // Get the amount that overflowed so we don't drop cycles\n            var overflowAmount = abs(frequencyTimer);\n            // Reset our timer\n            frequencyTimer = Channel4.getNoiseChannelFrequencyPeriod();\n            frequencyTimer -= overflowAmount;\n            // Do some cool stuff with lfsr\n            // http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware#Noise_Channel\n            // First XOR bit zero and one\n            var linearFeedbackShiftRegister = Channel4.linearFeedbackShiftRegister;\n            var lfsrBitZero = linearFeedbackShiftRegister & 0x01;\n            var lfsrBitOne = linearFeedbackShiftRegister >> 1;\n            lfsrBitOne = lfsrBitOne & 0x01;\n            var xorLfsrBitZeroOne = lfsrBitZero ^ lfsrBitOne;\n            // Shift all lsfr bits by one\n            linearFeedbackShiftRegister = linearFeedbackShiftRegister >> 1;\n            // Place the XOR result on bit 15\n            linearFeedbackShiftRegister = linearFeedbackShiftRegister | (xorLfsrBitZeroOne << 14);\n            // If the width mode is set, set xor on bit 6, and make lfsr 7 bit\n            if (Channel4.NRx3WidthMode) {\n                // Make 7 bit, by knocking off lower bits. Want to keeps bits 8 - 16, and then or on 7\n                linearFeedbackShiftRegister = linearFeedbackShiftRegister & ~0x40;\n                linearFeedbackShiftRegister = linearFeedbackShiftRegister | (xorLfsrBitZeroOne << 6);\n            }\n            Channel4.linearFeedbackShiftRegister = linearFeedbackShiftRegister;\n        }\n        // Make sure period never becomes negative\n        if (frequencyTimer < 0) {\n            frequencyTimer = 0;\n        }\n        Channel4.frequencyTimer = frequencyTimer;\n        // Get our ourput volume, set to zero for silence\n        var outputVolume = 0;\n        // Finally to set our output volume, the channel must be enabled,\n        // Our channel DAC must be enabled, and we must be in an active state\n        // Of our duty cycle\n        if (Channel4.isEnabled && Channel4.isDacEnabled) {\n            // Volume can't be more than 4 bits.\n            // Volume should never be more than 4 bits, but doing a check here\n            outputVolume = Channel4.volume & 0x0f;\n        }\n        else {\n            // Return silence\n            // Since range from -15 - 15, or 0 to 30 for our unsigned\n            return 15;\n        }\n        // Declare our sample\n        var sample = 0;\n        // Wave form output is bit zero of lfsr, INVERTED\n        sample = !checkBitOnByte(0, Channel4.linearFeedbackShiftRegister) ? 1 : -1;\n        sample = sample * outputVolume;\n        // Noise Can range from -15 - 15. Therefore simply add 15\n        sample = sample + 15;\n        return sample;\n    };\n    //http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware#Trigger_Event\n    Channel4.trigger = function () {\n        Channel4.isEnabled = true;\n        // Length counter maximum handled by write\n        if (Channel4.lengthCounter === 0) {\n            Channel4.lengthCounter = Channel4.MAX_LENGTH;\n        }\n        // Reset our timers\n        Channel4.frequencyTimer = Channel4.getNoiseChannelFrequencyPeriod();\n        // The volume envelope and sweep timers treat a period of 0 as 8.\n        // Meaning, if the period is zero, set it to the max (8).\n        if (Channel4.NRx2EnvelopePeriod === 0) {\n            Channel4.envelopeCounter = 8;\n        }\n        else {\n            Channel4.envelopeCounter = Channel4.NRx2EnvelopePeriod;\n        }\n        Channel4.isEnvelopeAutomaticUpdating = true;\n        Channel4.volume = Channel4.NRx2StartingVolume;\n        // Noise channel's LFSR bits are all set to 1.\n        Channel4.linearFeedbackShiftRegister = 0x7fff;\n        // Finally if DAC is off, channel is still disabled\n        if (!Channel4.isDacEnabled) {\n            Channel4.isEnabled = false;\n        }\n    };\n    // Function to determine if the current channel would update when getting the sample\n    // This is used to accumulate samples\n    Channel4.willChannelUpdate = function (numberOfCycles) {\n        //Increment our cycle counter\n        Channel4.cycleCounter += numberOfCycles;\n        // Dac enabled status cached by accumulator\n        return !(Channel4.frequencyTimer - Channel4.cycleCounter > 0);\n    };\n    Channel4.getNoiseChannelFrequencyPeriod = function () {\n        // Get our divisor from the divisor code, and shift by the clock shift\n        var response = Channel4.divisor << Channel4.NRx3ClockShift;\n        return response << Cpu.GBCDoubleSpeed;\n    };\n    Channel4.updateLength = function () {\n        var lengthCounter = Channel4.lengthCounter;\n        if (lengthCounter > 0 && Channel4.NRx4LengthEnabled) {\n            lengthCounter -= 1;\n        }\n        if (lengthCounter === 0) {\n            Channel4.isEnabled = false;\n        }\n        Channel4.lengthCounter = lengthCounter;\n    };\n    Channel4.updateEnvelope = function () {\n        var envelopeCounter = Channel4.envelopeCounter - 1;\n        if (envelopeCounter <= 0) {\n            // Reset back to the sweep period\n            // Obscure behavior\n            // Envelopes treat a period of 0 as 8 (They reset back to the max)\n            if (Channel4.NRx2EnvelopePeriod === 0) {\n                envelopeCounter = 8;\n            }\n            else {\n                envelopeCounter = Channel4.NRx2EnvelopePeriod;\n                // When the timer generates a clock and the envelope period is NOT zero, a new volume is calculated\n                // NOTE: There is some weiirrdd obscure behavior where zero can equal 8, so watch out for that\n                if (envelopeCounter !== 0 && Channel4.isEnvelopeAutomaticUpdating) {\n                    var volume = Channel4.volume;\n                    // Increment the volume\n                    if (Channel4.NRx2EnvelopeAddMode) {\n                        volume += 1;\n                    }\n                    else {\n                        volume -= 1;\n                    }\n                    // Don't allow the volume to go above 4 bits.\n                    volume = volume & 0x0f;\n                    // Check if we are below the max\n                    if (volume < 15) {\n                        Channel4.volume = volume;\n                    }\n                    else {\n                        Channel4.isEnvelopeAutomaticUpdating = false;\n                    }\n                }\n            }\n        }\n        Channel4.envelopeCounter = envelopeCounter;\n    };\n    // Cycle Counter for our sound accumulator\n    Channel4.cycleCounter = 0;\n    // Max Length of our Length Load\n    Channel4.MAX_LENGTH = 64;\n    // Channel 4\n    // 'white noise' channel with volume envelope functions.\n    // Only used by register reading\n    Channel4.memoryLocationNRx0 = 0xff1f;\n    // NR41 -> Sound length (R/W)\n    Channel4.memoryLocationNRx1 = 0xff20;\n    // --LL LLLL Length load (64-L)\n    Channel4.NRx1LengthLoad = 0;\n    // NR42 -> Volume Envelope (R/W)\n    Channel4.memoryLocationNRx2 = 0xff21;\n    // VVVV APPP Starting volume, Envelope add mode, period\n    Channel4.NRx2StartingVolume = 0;\n    Channel4.NRx2EnvelopeAddMode = false;\n    Channel4.NRx2EnvelopePeriod = 0;\n    // NR43 -> Polynomial Counter (R/W)\n    Channel4.memoryLocationNRx3 = 0xff22;\n    // SSSS WDDD Clock shift, Width mode of LFSR, Divisor code\n    Channel4.NRx3ClockShift = 0;\n    Channel4.NRx3WidthMode = false;\n    Channel4.NRx3DivisorCode = 0;\n    // NR44 -> Trigger, Length Enable\n    Channel4.memoryLocationNRx4 = 0xff23;\n    // TL-- ---- Trigger, Length enable\n    Channel4.NRx4LengthEnabled = false;\n    // Channel Properties\n    Channel4.channelNumber = 4;\n    Channel4.isEnabled = false;\n    Channel4.isDacEnabled = false;\n    Channel4.frequencyTimer = 0x00;\n    Channel4.envelopeCounter = 0x00;\n    Channel4.isEnvelopeAutomaticUpdating = false;\n    Channel4.lengthCounter = 0x00;\n    Channel4.volume = 0x00;\n    Channel4.divisor = 0;\n    // Noise properties\n    // NOTE: Is only 15 bits\n    Channel4.linearFeedbackShiftRegister = 0x00;\n    // Save States\n    Channel4.saveStateSlot = 10;\n    return Channel4;\n}());\n\n// Another class simply for accumulating samples\n// Default everything to silence\nvar SoundAccumulator = /** @class */ (function () {\n    function SoundAccumulator() {\n    }\n    SoundAccumulator.channel1Sample = 15;\n    SoundAccumulator.channel2Sample = 15;\n    SoundAccumulator.channel3Sample = 15;\n    SoundAccumulator.channel4Sample = 15;\n    SoundAccumulator.channel1DacEnabled = false;\n    SoundAccumulator.channel2DacEnabled = false;\n    SoundAccumulator.channel3DacEnabled = false;\n    SoundAccumulator.channel4DacEnabled = false;\n    SoundAccumulator.leftChannelSampleUnsignedByte = 127;\n    SoundAccumulator.rightChannelSampleUnsignedByte = 127;\n    SoundAccumulator.mixerVolumeChanged = false;\n    SoundAccumulator.mixerEnabledChanged = false;\n    // If a channel was updated, need to also track if we need to need to mix them again\n    SoundAccumulator.needToRemixSamples = false;\n    return SoundAccumulator;\n}());\n// Inlined because closure compiler inlines\nfunction initializeSoundAccumulator() {\n    SoundAccumulator.channel1Sample = 15;\n    SoundAccumulator.channel2Sample = 15;\n    SoundAccumulator.channel3Sample = 15;\n    SoundAccumulator.channel4Sample = 15;\n    SoundAccumulator.channel1DacEnabled = false;\n    SoundAccumulator.channel2DacEnabled = false;\n    SoundAccumulator.channel3DacEnabled = false;\n    SoundAccumulator.channel4DacEnabled = false;\n    SoundAccumulator.leftChannelSampleUnsignedByte = 127;\n    SoundAccumulator.rightChannelSampleUnsignedByte = 127;\n    SoundAccumulator.mixerVolumeChanged = true;\n    SoundAccumulator.mixerEnabledChanged = true;\n    SoundAccumulator.needToRemixSamples = false;\n}\n// Inlined because closure compiler inlines\nfunction accumulateSound(numberOfCycles) {\n    // Check if any of the individual channels will update\n    var channel1WillUpdate = Channel1.willChannelUpdate(numberOfCycles) || didChannelDacChange(Channel1.channelNumber);\n    var channel2WillUpdate = Channel2.willChannelUpdate(numberOfCycles) || didChannelDacChange(Channel2.channelNumber);\n    var channel3WillUpdate = Channel3.willChannelUpdate(numberOfCycles) || didChannelDacChange(Channel3.channelNumber);\n    var channel4WillUpdate = Channel4.willChannelUpdate(numberOfCycles) || didChannelDacChange(Channel4.channelNumber);\n    if (channel1WillUpdate) {\n        SoundAccumulator.channel1Sample = Channel1.getSampleFromCycleCounter();\n    }\n    if (channel2WillUpdate) {\n        SoundAccumulator.channel2Sample = Channel2.getSampleFromCycleCounter();\n    }\n    if (channel3WillUpdate) {\n        SoundAccumulator.channel3Sample = Channel3.getSampleFromCycleCounter();\n    }\n    if (channel4WillUpdate) {\n        SoundAccumulator.channel4Sample = Channel4.getSampleFromCycleCounter();\n    }\n    // If any channel updated, we need to re-mix our samples\n    if (channel1WillUpdate || channel2WillUpdate || channel3WillUpdate || channel4WillUpdate) {\n        SoundAccumulator.needToRemixSamples = true;\n    }\n    // Do Some downsampling magic\n    var downSampleCycleCounter = Sound.downSampleCycleCounter;\n    downSampleCycleCounter += numberOfCycles;\n    var maxDownSampleCycles = Sound.maxDownSampleCycles();\n    if (downSampleCycleCounter >= maxDownSampleCycles) {\n        // Reset the downsample counter\n        // Don't set to zero to catch overflowed cycles\n        downSampleCycleCounter -= maxDownSampleCycles;\n        if (SoundAccumulator.needToRemixSamples || SoundAccumulator.mixerVolumeChanged || SoundAccumulator.mixerEnabledChanged) {\n            mixChannelSamples(SoundAccumulator.channel1Sample, SoundAccumulator.channel2Sample, SoundAccumulator.channel3Sample, SoundAccumulator.channel4Sample);\n        }\n        else {\n            Sound.downSampleCycleCounter = downSampleCycleCounter;\n        }\n        // Finally Simply place the accumulated sample in memory\n        // Set our volumes in memory\n        // +1 so it can not be zero\n        setLeftAndRightOutputForAudioQueue(SoundAccumulator.leftChannelSampleUnsignedByte + 1, SoundAccumulator.rightChannelSampleUnsignedByte + 1, AUDIO_BUFFER_LOCATION);\n        var audioQueueIndex = Sound.audioQueueIndex + 1;\n        // Don't allow our audioQueueIndex to overflow into other parts of the wasmBoy memory map\n        // https://docs.google.com/spreadsheets/d/17xrEzJk5-sCB9J2mMJcVnzhbE-XH_NvczVSQH9OHvRk/edit#gid=0\n        // Not 0xFFFF because we need half of 64kb since we store left and right channel\n        var maxIndex = i32Portable(Sound.wasmBoyMemoryMaxBufferSize >> 1) - 1;\n        if (audioQueueIndex >= maxIndex) {\n            audioQueueIndex -= 1;\n        }\n        Sound.audioQueueIndex = audioQueueIndex;\n    }\n    Sound.downSampleCycleCounter = downSampleCycleCounter;\n}\n// Function used by SoundAccumulator to find out if a channel Dac Changed\nfunction didChannelDacChange(channelNumber) {\n    switch (channelNumber) {\n        case Channel1.channelNumber: {\n            var isDacEnabled = Channel1.isDacEnabled;\n            var channel1EnabledChanged = SoundAccumulator.channel1DacEnabled !== isDacEnabled;\n            SoundAccumulator.channel1DacEnabled = isDacEnabled;\n            return channel1EnabledChanged;\n        }\n        case Channel2.channelNumber: {\n            var isDacEnabled = Channel2.isDacEnabled;\n            var channel2EnabledChanged = SoundAccumulator.channel2DacEnabled !== isDacEnabled;\n            SoundAccumulator.channel2DacEnabled = isDacEnabled;\n            return channel2EnabledChanged;\n        }\n        case Channel3.channelNumber: {\n            var isDacEnabled = Channel3.isDacEnabled;\n            var channel3EnabledChanged = SoundAccumulator.channel3DacEnabled !== isDacEnabled;\n            SoundAccumulator.channel3DacEnabled = isDacEnabled;\n            return channel3EnabledChanged;\n        }\n        case Channel4.channelNumber: {\n            var isDacEnabled = Channel4.isDacEnabled;\n            var channel4EnabledChanged = SoundAccumulator.channel4DacEnabled !== isDacEnabled;\n            SoundAccumulator.channel4DacEnabled = isDacEnabled;\n            return channel4EnabledChanged;\n        }\n    }\n    return false;\n}\n\n// https://emu-docs.org/Game%20Boy/gb_sound.txt\nvar Sound = /** @class */ (function () {\n    function Sound() {\n    }\n    // Number of cycles to run in each batch process\n    // This number should be in sync so that sound doesn't run too many cyles at once\n    // and does not exceed the minimum number of cyles for either down sampling, or\n    // How often we change the frame, or a channel's update process\n    // Number of cycles is 87, because:\n    // Number of cycles before downsampling a single sample\n    // TODO: Find out how to make this number bigger\n    // Or, don't call this in syncCycles, and make the lib responsible.\n    Sound.batchProcessCycles = function () {\n        // return Cpu.GBCDoubleSpeed ? 174 : 87;\n        return 87 << Cpu.GBCDoubleSpeed;\n    };\n    Sound.updateNR50 = function (value) {\n        Sound.NR50LeftMixerVolume = (value >> 4) & 0x07;\n        Sound.NR50RightMixerVolume = value & 0x07;\n    };\n    Sound.updateNR51 = function (value) {\n        Sound.NR51IsChannel4EnabledOnLeftOutput = checkBitOnByte(7, value);\n        Sound.NR51IsChannel3EnabledOnLeftOutput = checkBitOnByte(6, value);\n        Sound.NR51IsChannel2EnabledOnLeftOutput = checkBitOnByte(5, value);\n        Sound.NR51IsChannel1EnabledOnLeftOutput = checkBitOnByte(4, value);\n        Sound.NR51IsChannel4EnabledOnRightOutput = checkBitOnByte(3, value);\n        Sound.NR51IsChannel3EnabledOnRightOutput = checkBitOnByte(2, value);\n        Sound.NR51IsChannel2EnabledOnRightOutput = checkBitOnByte(1, value);\n        Sound.NR51IsChannel1EnabledOnRightOutput = checkBitOnByte(0, value);\n    };\n    Sound.updateNR52 = function (value) {\n        Sound.NR52IsSoundEnabled = checkBitOnByte(7, value);\n    };\n    Sound.maxFrameSequenceCycles = function () {\n        // return Cpu.GBCDoubleSpeed ? 16384 : 8192;\n        return 8192 << Cpu.GBCDoubleSpeed;\n    };\n    Sound.maxDownSampleCycles = function () {\n        return Cpu.CLOCK_SPEED() / Sound.sampleRate;\n    };\n    // Function to save the state of the class\n    Sound.saveState = function () {\n        // NR50\n        store(getSaveStateMemoryOffset(0x00, Sound.saveStateSlot), Sound.NR50LeftMixerVolume);\n        store(getSaveStateMemoryOffset(0x04, Sound.saveStateSlot), Sound.NR50RightMixerVolume);\n        // NR51\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x08, Sound.saveStateSlot), Sound.NR51IsChannel1EnabledOnLeftOutput);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x09, Sound.saveStateSlot), Sound.NR51IsChannel2EnabledOnLeftOutput);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x0a, Sound.saveStateSlot), Sound.NR51IsChannel3EnabledOnLeftOutput);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x0b, Sound.saveStateSlot), Sound.NR51IsChannel4EnabledOnLeftOutput);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x0c, Sound.saveStateSlot), Sound.NR51IsChannel1EnabledOnRightOutput);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x0d, Sound.saveStateSlot), Sound.NR51IsChannel2EnabledOnRightOutput);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x0e, Sound.saveStateSlot), Sound.NR51IsChannel3EnabledOnRightOutput);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x0f, Sound.saveStateSlot), Sound.NR51IsChannel4EnabledOnRightOutput);\n        // NR52\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x10, Sound.saveStateSlot), Sound.NR52IsSoundEnabled);\n        // Frame Sequencer\n        store(getSaveStateMemoryOffset(0x11, Sound.saveStateSlot), Sound.frameSequenceCycleCounter);\n        store(getSaveStateMemoryOffset(0x16, Sound.saveStateSlot), Sound.frameSequencer);\n        // Down Sampler\n        store(getSaveStateMemoryOffset(0x17, Sound.saveStateSlot), Sound.downSampleCycleCounter);\n        // Sound Accumulator\n        store(getSaveStateMemoryOffset(0x18, Sound.saveStateSlot), SoundAccumulator.channel1Sample);\n        store(getSaveStateMemoryOffset(0x19, Sound.saveStateSlot), SoundAccumulator.channel2Sample);\n        store(getSaveStateMemoryOffset(0x1a, Sound.saveStateSlot), SoundAccumulator.channel3Sample);\n        store(getSaveStateMemoryOffset(0x1b, Sound.saveStateSlot), SoundAccumulator.channel4Sample);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x1c, Sound.saveStateSlot), SoundAccumulator.channel1DacEnabled);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x1d, Sound.saveStateSlot), SoundAccumulator.channel2DacEnabled);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x1e, Sound.saveStateSlot), SoundAccumulator.channel3DacEnabled);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x1f, Sound.saveStateSlot), SoundAccumulator.channel4DacEnabled);\n        store(getSaveStateMemoryOffset(0x20, Sound.saveStateSlot), SoundAccumulator.leftChannelSampleUnsignedByte);\n        store(getSaveStateMemoryOffset(0x21, Sound.saveStateSlot), SoundAccumulator.rightChannelSampleUnsignedByte);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x22, Sound.saveStateSlot), SoundAccumulator.mixerVolumeChanged);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x23, Sound.saveStateSlot), SoundAccumulator.mixerEnabledChanged);\n    };\n    // Function to load the save state from memory\n    Sound.loadState = function () {\n        // NR50\n        Sound.NR50LeftMixerVolume = load(getSaveStateMemoryOffset(0x00, Sound.saveStateSlot));\n        Sound.NR50RightMixerVolume = load(getSaveStateMemoryOffset(0x04, Sound.saveStateSlot));\n        // NR51\n        Sound.NR51IsChannel1EnabledOnLeftOutput = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x08, Sound.saveStateSlot));\n        Sound.NR51IsChannel2EnabledOnLeftOutput = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x09, Sound.saveStateSlot));\n        Sound.NR51IsChannel3EnabledOnLeftOutput = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x0a, Sound.saveStateSlot));\n        Sound.NR51IsChannel4EnabledOnLeftOutput = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x0b, Sound.saveStateSlot));\n        Sound.NR51IsChannel1EnabledOnRightOutput = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x0c, Sound.saveStateSlot));\n        Sound.NR51IsChannel2EnabledOnRightOutput = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x0d, Sound.saveStateSlot));\n        Sound.NR51IsChannel3EnabledOnRightOutput = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x0e, Sound.saveStateSlot));\n        Sound.NR51IsChannel4EnabledOnRightOutput = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x0f, Sound.saveStateSlot));\n        // NR52\n        Sound.NR52IsSoundEnabled = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x10, Sound.saveStateSlot));\n        // Frame Sequencer\n        Sound.frameSequenceCycleCounter = load(getSaveStateMemoryOffset(0x11, Sound.saveStateSlot));\n        Sound.frameSequencer = load(getSaveStateMemoryOffset(0x16, Sound.saveStateSlot));\n        // DownSampler\n        Sound.downSampleCycleCounter = load(getSaveStateMemoryOffset(0x17, Sound.saveStateSlot));\n        // Sound Accumulator\n        SoundAccumulator.channel1Sample = load(getSaveStateMemoryOffset(0x18, Sound.saveStateSlot));\n        SoundAccumulator.channel2Sample = load(getSaveStateMemoryOffset(0x19, Sound.saveStateSlot));\n        SoundAccumulator.channel3Sample = load(getSaveStateMemoryOffset(0x1a, Sound.saveStateSlot));\n        SoundAccumulator.channel4Sample = load(getSaveStateMemoryOffset(0x1b, Sound.saveStateSlot));\n        SoundAccumulator.channel1DacEnabled = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x1c, Sound.saveStateSlot));\n        SoundAccumulator.channel2DacEnabled = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x1d, Sound.saveStateSlot));\n        SoundAccumulator.channel3DacEnabled = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x1e, Sound.saveStateSlot));\n        SoundAccumulator.channel4DacEnabled = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x1f, Sound.saveStateSlot));\n        SoundAccumulator.leftChannelSampleUnsignedByte = load(getSaveStateMemoryOffset(0x20, Sound.saveStateSlot));\n        SoundAccumulator.rightChannelSampleUnsignedByte = load(getSaveStateMemoryOffset(0x21, Sound.saveStateSlot));\n        SoundAccumulator.mixerVolumeChanged = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x22, Sound.saveStateSlot));\n        SoundAccumulator.mixerEnabledChanged = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x23, Sound.saveStateSlot));\n        // Finally clear the audio buffer\n        clearAudioBuffer();\n    };\n    // Current cycles\n    // This will be used for batch processing\n    // https://github.com/binji/binjgb/commit/e028f45e805bc0b0aa4697224a209f9ae514c954\n    // TODO: May Also need to do this for Reads\n    Sound.currentCycles = 0;\n    // Channel control / On-OFF / Volume (RW)\n    Sound.memoryLocationNR50 = 0xff24;\n    Sound.NR50LeftMixerVolume = 0;\n    Sound.NR50RightMixerVolume = 0;\n    // 0xFF25 selects which output each channel goes to, Referred to as NR51\n    Sound.memoryLocationNR51 = 0xff25;\n    Sound.NR51IsChannel1EnabledOnLeftOutput = true;\n    Sound.NR51IsChannel2EnabledOnLeftOutput = true;\n    Sound.NR51IsChannel3EnabledOnLeftOutput = true;\n    Sound.NR51IsChannel4EnabledOnLeftOutput = true;\n    Sound.NR51IsChannel1EnabledOnRightOutput = true;\n    Sound.NR51IsChannel2EnabledOnRightOutput = true;\n    Sound.NR51IsChannel3EnabledOnRightOutput = true;\n    Sound.NR51IsChannel4EnabledOnRightOutput = true;\n    // Sound on/off\n    Sound.memoryLocationNR52 = 0xff26;\n    Sound.NR52IsSoundEnabled = true;\n    // $FF30 -- $FF3F is the load register space for the 4-bit samples for channel 3\n    Sound.memoryLocationChannel3LoadRegisterStart = 0xff30;\n    // Need to count how often we need to increment our frame sequencer\n    // Which you can read about below\n    Sound.frameSequenceCycleCounter = 0x0000;\n    // Frame sequencer controls what should be updated and and ticked\n    // Every time the sound is updated :) It is updated everytime the\n    // Cycle counter reaches the max cycle\n    Sound.frameSequencer = 0x00;\n    // Also need to downsample our audio to average audio qualty\n    // https://www.reddit.com/r/EmuDev/comments/5gkwi5/gb_apu_sound_emulation/\n    // Want to do 44100hz, so CpuRate / Sound Rate, 4194304 / 44100 ~ 91 cycles\n    Sound.downSampleCycleCounter = 0x00;\n    Sound.sampleRate = 44100;\n    // Our current sample number we are passing back to the wasmboy memory map\n    // Found that a static number of samples doesn't work well on mobile\n    // Will just update the queue index, grab as much as we can whenever we need more audio, then reset\n    // NOTE: Giving a really large sample rate gives more latency, but less pops!\n    //static readonly MAX_NUMBER_OF_SAMPLES: i32 = 4096;\n    Sound.audioQueueIndex = 0x0000;\n    Sound.wasmBoyMemoryMaxBufferSize = 0x20000;\n    // Save States\n    Sound.saveStateSlot = 6;\n    return Sound;\n}());\n// Initialize sound registers\n// From: https://emu-docs.org/Game%20Boy/gb_sound.txt\n// Inlined because closure compiler inlines\nfunction initializeSound() {\n    // Reset Stateful variables\n    Sound.currentCycles = 0;\n    Sound.NR50LeftMixerVolume = 0;\n    Sound.NR50RightMixerVolume = 0;\n    Sound.NR51IsChannel1EnabledOnLeftOutput = true;\n    Sound.NR51IsChannel2EnabledOnLeftOutput = true;\n    Sound.NR51IsChannel3EnabledOnLeftOutput = true;\n    Sound.NR51IsChannel4EnabledOnLeftOutput = true;\n    Sound.NR51IsChannel1EnabledOnRightOutput = true;\n    Sound.NR51IsChannel2EnabledOnRightOutput = true;\n    Sound.NR51IsChannel3EnabledOnRightOutput = true;\n    Sound.NR51IsChannel4EnabledOnRightOutput = true;\n    Sound.NR52IsSoundEnabled = true;\n    Sound.frameSequenceCycleCounter = 0x0000;\n    Sound.downSampleCycleCounter = 0x00;\n    Sound.frameSequencer = 0x00;\n    Sound.audioQueueIndex = 0x0000;\n    // intiialize our channels\n    Channel1.initialize();\n    Channel2.initialize();\n    Channel3.initialize();\n    Channel4.initialize();\n    // Other Sound Registers\n    eightBitStoreIntoGBMemory(Sound.memoryLocationNR50, 0x77);\n    Sound.updateNR50(0x77);\n    eightBitStoreIntoGBMemory(Sound.memoryLocationNR51, 0xf3);\n    Sound.updateNR51(0xf3);\n    eightBitStoreIntoGBMemory(Sound.memoryLocationNR52, 0xf1);\n    Sound.updateNR52(0xf1);\n    // Override/reset some variables if the boot ROM is enabled\n    // For both GB and GBC\n    if (Cpu.BootROMEnabled) {\n        eightBitStoreIntoGBMemory(Sound.memoryLocationNR50, 0x00);\n        Sound.updateNR50(0x00);\n        eightBitStoreIntoGBMemory(Sound.memoryLocationNR51, 0x00);\n        Sound.updateNR51(0x00);\n        eightBitStoreIntoGBMemory(Sound.memoryLocationNR52, 0x70);\n        Sound.updateNR52(0x70);\n    }\n    initializeSoundAccumulator();\n}\n// Function to batch process our audio after we skipped so many cycles\nfunction batchProcessAudio() {\n    var batchProcessCycles = Sound.batchProcessCycles();\n    var currentCycles = Sound.currentCycles;\n    while (currentCycles >= batchProcessCycles) {\n        updateSound(batchProcessCycles);\n        currentCycles -= batchProcessCycles;\n    }\n    Sound.currentCycles = currentCycles;\n}\n// Function for updating sound\nfunction updateSound(numberOfCycles) {\n    // Check if our frameSequencer updated\n    var frameSequencerUpdated = updateFrameSequencer(numberOfCycles);\n    if (Config.audioAccumulateSamples && !frameSequencerUpdated) {\n        accumulateSound(numberOfCycles);\n    }\n    else {\n        calculateSound(numberOfCycles);\n    }\n}\n// Funciton to get the current Audio Queue index\nfunction getNumberOfSamplesInAudioBuffer() {\n    return Sound.audioQueueIndex;\n}\n// Function to reset the audio queue\nfunction clearAudioBuffer() {\n    Sound.audioQueueIndex = 0;\n}\n// Inlined because closure compiler inlines\nfunction calculateSound(numberOfCycles) {\n    // Update all of our channels\n    // All samples will be returned as 0 to 30\n    // 0 being -1.0, and 30 being 1.0\n    // (see blurb at top)\n    var channel1Sample = i32Portable(Channel1.getSample(numberOfCycles));\n    var channel2Sample = i32Portable(Channel2.getSample(numberOfCycles));\n    var channel3Sample = i32Portable(Channel3.getSample(numberOfCycles));\n    var channel4Sample = i32Portable(Channel4.getSample(numberOfCycles));\n    // TODO: Allow individual channels to be muted\n    // let channel1Sample: i32 = 15;\n    // let channel2Sample: i32 = 15;\n    // let channel3Sample: i32 = 15;\n    // let channel4Sample: i32 = 15;\n    // Save the samples in the accumulator\n    SoundAccumulator.channel1Sample = channel1Sample;\n    SoundAccumulator.channel2Sample = channel2Sample;\n    SoundAccumulator.channel3Sample = channel3Sample;\n    SoundAccumulator.channel4Sample = channel4Sample;\n    // Do Some downsampling magic\n    var downSampleCycleCounter = Sound.downSampleCycleCounter + numberOfCycles;\n    if (downSampleCycleCounter >= Sound.maxDownSampleCycles()) {\n        // Reset the downsample counter\n        // Don't set to zero to catch overflowed cycles\n        downSampleCycleCounter -= Sound.maxDownSampleCycles();\n        // Mix our samples\n        var mixedSample = mixChannelSamples(channel1Sample, channel2Sample, channel3Sample, channel4Sample);\n        var leftChannelSampleUnsignedByte = splitHighByte(mixedSample);\n        var rightChannelSampleUnsignedByte = splitLowByte(mixedSample);\n        // Set our volumes in memory\n        // +1 so it can not be zero\n        setLeftAndRightOutputForAudioQueue(leftChannelSampleUnsignedByte + 1, rightChannelSampleUnsignedByte + 1, AUDIO_BUFFER_LOCATION);\n        if (Config.enableAudioDebugging) {\n            // Channel 1\n            mixedSample = mixChannelSamples(channel1Sample, 15, 15, 15);\n            leftChannelSampleUnsignedByte = splitHighByte(mixedSample);\n            rightChannelSampleUnsignedByte = splitLowByte(mixedSample);\n            setLeftAndRightOutputForAudioQueue(leftChannelSampleUnsignedByte + 1, rightChannelSampleUnsignedByte + 1, CHANNEL_1_BUFFER_LOCATION);\n            // Channel 2\n            mixedSample = mixChannelSamples(15, channel2Sample, 15, 15);\n            leftChannelSampleUnsignedByte = splitHighByte(mixedSample);\n            rightChannelSampleUnsignedByte = splitLowByte(mixedSample);\n            setLeftAndRightOutputForAudioQueue(leftChannelSampleUnsignedByte + 1, rightChannelSampleUnsignedByte + 1, CHANNEL_2_BUFFER_LOCATION);\n            // Channel 3\n            mixedSample = mixChannelSamples(15, 15, channel3Sample, 15);\n            leftChannelSampleUnsignedByte = splitHighByte(mixedSample);\n            rightChannelSampleUnsignedByte = splitLowByte(mixedSample);\n            setLeftAndRightOutputForAudioQueue(leftChannelSampleUnsignedByte + 1, rightChannelSampleUnsignedByte + 1, CHANNEL_3_BUFFER_LOCATION);\n            // Channel 4\n            mixedSample = mixChannelSamples(15, 15, 15, channel4Sample);\n            leftChannelSampleUnsignedByte = splitHighByte(mixedSample);\n            rightChannelSampleUnsignedByte = splitLowByte(mixedSample);\n            setLeftAndRightOutputForAudioQueue(leftChannelSampleUnsignedByte + 1, rightChannelSampleUnsignedByte + 1, CHANNEL_4_BUFFER_LOCATION);\n        }\n        var audioQueueIndex = Sound.audioQueueIndex + 1;\n        // Don't allow our audioQueueIndex to overflow into other parts of the wasmBoy memory map\n        // https://docs.google.com/spreadsheets/d/17xrEzJk5-sCB9J2mMJcVnzhbE-XH_NvczVSQH9OHvRk/edit#gid=0\n        // Not 0xFFFF because we need half of 64kb since we store left and right channel\n        var maxIndex = i32Portable(Sound.wasmBoyMemoryMaxBufferSize >> 1) - 1;\n        if (audioQueueIndex >= maxIndex) {\n            audioQueueIndex -= 1;\n        }\n        Sound.audioQueueIndex = audioQueueIndex;\n    }\n    Sound.downSampleCycleCounter = downSampleCycleCounter;\n}\n// Inlined because closure compiler inlines\nfunction updateFrameSequencer(numberOfCycles) {\n    // APU runs at 4194304 / 512\n    // Or Cpu.clockSpeed / 512\n    // Which means, we need to update once every 8192 cycles :)\n    var maxFrameSequenceCycles = Sound.maxFrameSequenceCycles();\n    var frameSequenceCycleCounter = Sound.frameSequenceCycleCounter + numberOfCycles;\n    if (frameSequenceCycleCounter >= maxFrameSequenceCycles) {\n        // Reset the frameSequenceCycleCounter\n        // Not setting to zero as we do not want to drop cycles\n        frameSequenceCycleCounter -= maxFrameSequenceCycles;\n        Sound.frameSequenceCycleCounter = frameSequenceCycleCounter;\n        // Update our frame sequencer\n        // https://gist.github.com/drhelius/3652407\n        var frameSequencer = (Sound.frameSequencer + 1) & 7;\n        switch (frameSequencer) {\n            case 0:\n                // Update Length on Channels\n                Channel1.updateLength();\n                Channel2.updateLength();\n                Channel3.updateLength();\n                Channel4.updateLength();\n                break;\n            /* Do Nothing on one */\n            case 2:\n                // Update Sweep and Length on Channels\n                Channel1.updateLength();\n                Channel2.updateLength();\n                Channel3.updateLength();\n                Channel4.updateLength();\n                Channel1.updateSweep();\n                break;\n            /* Do Nothing on three */\n            case 4:\n                // Update Length on Channels\n                Channel1.updateLength();\n                Channel2.updateLength();\n                Channel3.updateLength();\n                Channel4.updateLength();\n                break;\n            /* Do Nothing on five */\n            case 6:\n                // Update Sweep and Length on Channels\n                Channel1.updateLength();\n                Channel2.updateLength();\n                Channel3.updateLength();\n                Channel4.updateLength();\n                Channel1.updateSweep();\n                break;\n            case 7:\n                // Update Envelope on channels\n                Channel1.updateEnvelope();\n                Channel2.updateEnvelope();\n                Channel4.updateEnvelope();\n                break;\n        }\n        // Save our frame sequencer\n        Sound.frameSequencer = frameSequencer;\n        return true;\n    }\n    else {\n        Sound.frameSequenceCycleCounter = frameSequenceCycleCounter;\n    }\n    return false;\n}\nfunction mixChannelSamples(channel1Sample, channel2Sample, channel3Sample, channel4Sample) {\n    // Do Some Cool mixing\n    // NR50 FF24 ALLL BRRR Vin L enable, Left vol, Vin R enable, Right vol\n    // NR51 FF25 NW21 NW21 Left enables, Right enables\n    // NR52 FF26 P--- NW21 Power control/status, Channel length statuses\n    // NW21 = 4 bits on byte\n    // 3 -> Channel 4, 2 -> Channel 3, 1 -> Channel 2, 0 -> Channel 1\n    if (channel1Sample === void 0) { channel1Sample = 15; }\n    if (channel2Sample === void 0) { channel2Sample = 15; }\n    if (channel3Sample === void 0) { channel3Sample = 15; }\n    if (channel4Sample === void 0) { channel4Sample = 15; }\n    // Matt's Proccess\n    // I push out 1024 samples at a time and use 96000 hz sampling rate, so I guess i'm a bit less than one frame,\n    // but I let the queue fill up with 4 x 1024 samples before I start waiting for the audio\n    // TODO: Vin Mixing\n    SoundAccumulator.mixerVolumeChanged = false;\n    // Get our channel volume for left/right\n    var leftChannelSample = 0;\n    var rightChannelSample = 0;\n    // Find the sample for the left if enabled\n    // other wise add silence (15) for the channel\n    leftChannelSample += Sound.NR51IsChannel1EnabledOnLeftOutput ? channel1Sample : 15;\n    leftChannelSample += Sound.NR51IsChannel2EnabledOnLeftOutput ? channel2Sample : 15;\n    leftChannelSample += Sound.NR51IsChannel3EnabledOnLeftOutput ? channel3Sample : 15;\n    leftChannelSample += Sound.NR51IsChannel4EnabledOnLeftOutput ? channel4Sample : 15;\n    // Find the sample for the right if enabled\n    // other wise add silence (15) for the channel\n    rightChannelSample += Sound.NR51IsChannel1EnabledOnRightOutput ? channel1Sample : 15;\n    rightChannelSample += Sound.NR51IsChannel2EnabledOnRightOutput ? channel2Sample : 15;\n    rightChannelSample += Sound.NR51IsChannel3EnabledOnRightOutput ? channel3Sample : 15;\n    rightChannelSample += Sound.NR51IsChannel4EnabledOnRightOutput ? channel4Sample : 15;\n    // Update our accumulator\n    SoundAccumulator.mixerEnabledChanged = false;\n    SoundAccumulator.needToRemixSamples = false;\n    // Finally multiply our volumes by the mixer volume\n    // Mixer volume can be at most 7 + 1\n    // Can be at most 7, because we only have 3 bits, 111 = 7\n    // http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware#Mixer\n    // Done in the getSampleAsUnsignedByte(), since we are doing some weirdness there :)\n    // Convert our samples from unsigned 32 to unsigned byte\n    // Reason being, We want to be able to pass in wasm memory as usigned byte. Javascript will handle the conversion back\n    var leftChannelSampleUnsignedByte = getSampleAsUnsignedByte(leftChannelSample, Sound.NR50LeftMixerVolume + 1);\n    var rightChannelSampleUnsignedByte = getSampleAsUnsignedByte(rightChannelSample, Sound.NR50RightMixerVolume + 1);\n    // Save these samples in the accumulator\n    SoundAccumulator.leftChannelSampleUnsignedByte = leftChannelSampleUnsignedByte;\n    SoundAccumulator.rightChannelSampleUnsignedByte = rightChannelSampleUnsignedByte;\n    return concatenateBytes(leftChannelSampleUnsignedByte, rightChannelSampleUnsignedByte);\n}\nfunction getSampleAsUnsignedByte(sample, mixerVolume) {\n    // If the sample is silence, return silence as unsigned byte\n    // Silence is common, and should be checked for performance\n    if (sample === 60) {\n        return 127;\n    }\n    // convert to a signed, precise scale of -6000 to 6000 (cheap way of -1.0 to 1.0)\n    // Multiply by the mixer volume fraction (to find the actual volume)\n    var precision = 100000;\n    var convertedSample = sample - 60;\n    convertedSample = convertedSample * precision;\n    // Multiply by the mixer volume fraction (to find the actual volume)\n    convertedSample = (convertedSample * mixerVolume) >> 3;\n    // Convert back to scale of 0 to 120\n    convertedSample = i32Portable(convertedSample / precision) + 60;\n    // Finally, convert to an unsigned byte scale\n    // With Four Channels (0 to 30) and no global volume. Max is 120\n    // max unsigned byte goal is 254 (see blurb at top).\n    // 120 / 254 should give the correct conversion\n    // For example, 120 / 254 = 0.47244094488188976\n    // Multiply by 1000 to increase the float into an int\n    // so, 120 * 1000 / (0.47244094488188976 * 1000) should give approximate answer for max mixer volume\n    var maxDivider = i32Portable((120 * precision) / 254);\n    convertedSample = i32Portable((convertedSample * precision) / maxDivider);\n    // Ensure we have an i32 and not a float for JS builds\n    convertedSample = i32Portable(convertedSample);\n    return convertedSample;\n}\n// Function to set our left and right channels at the correct queue index\nfunction setLeftAndRightOutputForAudioQueue(leftVolume, rightVolume, bufferLocation) {\n    // Get our stereo index\n    var audioQueueOffset = bufferLocation + (Sound.audioQueueIndex << 1);\n    // Store our volumes\n    // +1 that way we don't have empty data to ensure that the value is set\n    store(audioQueueOffset + 0, (leftVolume + 1));\n    store(audioQueueOffset + 1, (rightVolume + 1));\n}\n\n// Functions involved in R/W of sound registers\n// Function to check and handle writes to sound registers\n// Inlined because closure compiler inlines\n// NOTE: For write traps, return false = don't write to memory,\n// return true = allow the write to memory\nfunction SoundRegisterWriteTraps(offset, value) {\n    if (offset !== Sound.memoryLocationNR52 && !Sound.NR52IsSoundEnabled) {\n        // http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware#Power_Control\n        // When sound is turned off / enabled\n        // Block all writes to any sound register EXCEPT NR52!\n        // This is under the assumption that the check for\n        // offset >= 0xFF10 && offset <= 0xFF26\n        // is done in writeTraps.ts (which it is)\n        // NOTE: Except on DMG, length can still be written (whatever that means)\n        return false;\n    }\n    switch (offset) {\n        // Handle NRx0 on Channels\n        case Channel1.memoryLocationNRx0:\n            Channel1.updateNRx0(value);\n            return true;\n        case Channel3.memoryLocationNRx0:\n            Channel3.updateNRx0(value);\n            return true;\n        // Handle NRx1 (Length Counter) on Channels\n        case Channel1.memoryLocationNRx1:\n            Channel1.updateNRx1(value);\n            return true;\n        case Channel2.memoryLocationNRx1:\n            Channel2.updateNRx1(value);\n            return true;\n        case Channel3.memoryLocationNRx1:\n            Channel3.updateNRx1(value);\n            return true;\n        case Channel4.memoryLocationNRx1:\n            Channel4.updateNRx1(value);\n            return true;\n        // Handle NRx2 (Envelope / Volume) on Channels\n        case Channel1.memoryLocationNRx2:\n            Channel1.updateNRx2(value);\n            return true;\n        case Channel2.memoryLocationNRx2:\n            Channel2.updateNRx2(value);\n            return true;\n        case Channel3.memoryLocationNRx2:\n            // Check if channel 3's volume code was written too\n            // This is handcy to know for accumulation of samples\n            Channel3.volumeCodeChanged = true;\n            Channel3.updateNRx2(value);\n            return true;\n        case Channel4.memoryLocationNRx2:\n            Channel4.updateNRx2(value);\n            return true;\n        // Handle NRx3 (Frequency / Noise Properties) on Channels\n        case Channel1.memoryLocationNRx3:\n            Channel1.updateNRx3(value);\n            return true;\n        case Channel2.memoryLocationNRx3:\n            Channel2.updateNRx3(value);\n            return true;\n        case Channel3.memoryLocationNRx3:\n            Channel3.updateNRx3(value);\n            return true;\n        case Channel4.memoryLocationNRx3:\n            Channel4.updateNRx3(value);\n            return true;\n        // Check our NRx4 registers to trap our trigger bits\n        case Channel1.memoryLocationNRx4:\n            Channel1.updateNRx4(value);\n            return true;\n        case Channel2.memoryLocationNRx4:\n            Channel2.updateNRx4(value);\n            return true;\n        case Channel3.memoryLocationNRx4:\n            Channel3.updateNRx4(value);\n            return true;\n        case Channel4.memoryLocationNRx4:\n            Channel4.updateNRx4(value);\n            return true;\n        // Tell the sound accumulator if volumes changes\n        case Sound.memoryLocationNR50:\n            Sound.updateNR50(value);\n            SoundAccumulator.mixerVolumeChanged = true;\n            return true;\n        // Tell the sound accumulator if volumes changes\n        case Sound.memoryLocationNR51:\n            Sound.updateNR51(value);\n            SoundAccumulator.mixerEnabledChanged = true;\n            return true;\n        case Sound.memoryLocationNR52:\n            // Reset all registers except NR52\n            // See if we were enabled, then update the register.\n            var wasNR52Enabled = Sound.NR52IsSoundEnabled;\n            // http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware#Power_Control\n            // When powered on, the frame sequencer is reset so that the next step will be 0,\n            // the square duty units are reset to the first step of the waveform,\n            // and the wave channel's sample buffer is reset to 0.\n            if (!wasNR52Enabled && checkBitOnByte(7, value)) {\n                Sound.frameSequencer = 0x07;\n                Channel1.waveFormPositionOnDuty = 0x00;\n                Channel2.waveFormPositionOnDuty = 0x00;\n                // TODO: Wave Channel Sample Buffer?\n                // I don't think we clear wave RAM here...\n            }\n            // http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware#Power_Control\n            // When powered off, all registers (NR10-NR51) are instantly written with zero\n            // and any writes to those registers are ignored while power remains off\n            if (wasNR52Enabled && !checkBitOnByte(7, value)) {\n                for (var i = 0xff10; i < 0xff26; ++i) {\n                    eightBitStoreIntoGBMemoryWithTraps(i, 0x00);\n                }\n            }\n            // Need to update our new value here, that way writes go through :p\n            Sound.updateNR52(value);\n            return true;\n    }\n    // We did not handle the write, Allow the write\n    return true;\n}\n// http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware#Registers\n// Inlined because closure compiler inlines\nfunction SoundRegisterReadTraps(offset) {\n    // Registers must be OR'd with values when being read\n    // http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware#Registers\n    switch (offset) {\n        // Handle NRx0 on Channels\n        case Channel1.memoryLocationNRx0: {\n            var register = eightBitLoadFromGBMemory(Channel1.memoryLocationNRx0);\n            return register | 0x80;\n        }\n        case Channel2.memoryLocationNRx0: {\n            var register = eightBitLoadFromGBMemory(Channel2.memoryLocationNRx0);\n            return register | 0xff;\n        }\n        case Channel3.memoryLocationNRx0: {\n            var register = eightBitLoadFromGBMemory(Channel3.memoryLocationNRx0);\n            return register | 0x7f;\n        }\n        case Channel4.memoryLocationNRx0: {\n            var register = eightBitLoadFromGBMemory(Channel4.memoryLocationNRx0);\n            return register | 0xff;\n        }\n        case Sound.memoryLocationNR50: {\n            var register = eightBitLoadFromGBMemory(Sound.memoryLocationNR50);\n            return register | 0x00;\n        }\n        // Handle NRx1 on Channels\n        case Channel1.memoryLocationNRx1: {\n            var register = eightBitLoadFromGBMemory(Channel1.memoryLocationNRx1);\n            return register | 0x3f;\n        }\n        case Channel2.memoryLocationNRx1: {\n            var register = eightBitLoadFromGBMemory(Channel2.memoryLocationNRx1);\n            return register | 0x3f;\n        }\n        case Channel3.memoryLocationNRx1: {\n            var register = eightBitLoadFromGBMemory(Channel3.memoryLocationNRx1);\n            return register | 0xff;\n        }\n        case Channel4.memoryLocationNRx1: {\n            var register = eightBitLoadFromGBMemory(Channel4.memoryLocationNRx1);\n            return register | 0xff;\n        }\n        case Sound.memoryLocationNR51: {\n            var register = eightBitLoadFromGBMemory(Sound.memoryLocationNR51);\n            return register | 0x00;\n        }\n        // Handle NRx2 on Channels\n        case Channel1.memoryLocationNRx2: {\n            var register = eightBitLoadFromGBMemory(Channel1.memoryLocationNRx2);\n            return register | 0x00;\n        }\n        case Channel2.memoryLocationNRx2: {\n            var register = eightBitLoadFromGBMemory(Channel2.memoryLocationNRx2);\n            return register | 0x00;\n        }\n        case Channel3.memoryLocationNRx2: {\n            var register = eightBitLoadFromGBMemory(Channel3.memoryLocationNRx2);\n            return register | 0x9f;\n        }\n        case Channel4.memoryLocationNRx2: {\n            var register = eightBitLoadFromGBMemory(Channel4.memoryLocationNRx2);\n            return register | 0x00;\n        }\n        case Sound.memoryLocationNR52: {\n            // This will fix bugs in orcale of ages :)\n            // Start our registerNR52\n            var registerNR52 = 0x00;\n            // Set the first bit to the sound paower status\n            if (Sound.NR52IsSoundEnabled) {\n                registerNR52 = setBitOnByte(7, registerNR52);\n            }\n            else {\n                registerNR52 = resetBitOnByte(7, registerNR52);\n            }\n            // Set our lower 4 bits to our channel length statuses\n            if (Channel1.isEnabled) {\n                registerNR52 = setBitOnByte(0, registerNR52);\n            }\n            else {\n                registerNR52 = resetBitOnByte(0, registerNR52);\n            }\n            if (Channel2.isEnabled) {\n                registerNR52 = setBitOnByte(1, registerNR52);\n            }\n            else {\n                registerNR52 = resetBitOnByte(1, registerNR52);\n            }\n            if (Channel3.isEnabled) {\n                registerNR52 = setBitOnByte(2, registerNR52);\n            }\n            else {\n                registerNR52 = resetBitOnByte(2, registerNR52);\n            }\n            if (Channel4.isEnabled) {\n                registerNR52 = setBitOnByte(3, registerNR52);\n            }\n            else {\n                registerNR52 = resetBitOnByte(3, registerNR52);\n            }\n            // Or from the table\n            registerNR52 |= 0x70;\n            return registerNR52;\n        }\n        // Handle NRx3 on Channels\n        case Channel1.memoryLocationNRx3: {\n            var register = eightBitLoadFromGBMemory(Channel1.memoryLocationNRx3);\n            return register | 0xff;\n        }\n        case Channel2.memoryLocationNRx3: {\n            var register = eightBitLoadFromGBMemory(Channel2.memoryLocationNRx3);\n            return register | 0xff;\n        }\n        case Channel3.memoryLocationNRx3: {\n            var register = eightBitLoadFromGBMemory(Channel3.memoryLocationNRx3);\n            return register | 0xff;\n        }\n        case Channel4.memoryLocationNRx3: {\n            var register = eightBitLoadFromGBMemory(Channel4.memoryLocationNRx3);\n            return register | 0x00;\n        }\n        // Handle NRx4 on Channels\n        case Channel1.memoryLocationNRx4: {\n            var register = eightBitLoadFromGBMemory(Channel1.memoryLocationNRx4);\n            return register | 0xbf;\n        }\n        case Channel2.memoryLocationNRx4: {\n            var register = eightBitLoadFromGBMemory(Channel2.memoryLocationNRx4);\n            return register | 0xbf;\n        }\n        case Channel3.memoryLocationNRx4: {\n            var register = eightBitLoadFromGBMemory(Channel3.memoryLocationNRx4);\n            return register | 0xbf;\n        }\n        case Channel4.memoryLocationNRx4: {\n            var register = eightBitLoadFromGBMemory(Channel4.memoryLocationNRx4);\n            return register | 0xbf;\n        }\n    }\n    return -1;\n}\n\nvar Interrupts = /** @class */ (function () {\n    function Interrupts() {\n    }\n    Interrupts.updateInterruptEnabled = function (value) {\n        Interrupts.isVBlankInterruptEnabled = checkBitOnByte(Interrupts.bitPositionVBlankInterrupt, value);\n        Interrupts.isLcdInterruptEnabled = checkBitOnByte(Interrupts.bitPositionLcdInterrupt, value);\n        Interrupts.isTimerInterruptEnabled = checkBitOnByte(Interrupts.bitPositionTimerInterrupt, value);\n        Interrupts.isSerialInterruptEnabled = checkBitOnByte(Interrupts.bitPositionSerialInterrupt, value);\n        Interrupts.isJoypadInterruptEnabled = checkBitOnByte(Interrupts.bitPositionJoypadInterrupt, value);\n        Interrupts.interruptsEnabledValue = value;\n    };\n    Interrupts.updateInterruptRequested = function (value) {\n        Interrupts.isVBlankInterruptRequested = checkBitOnByte(Interrupts.bitPositionVBlankInterrupt, value);\n        Interrupts.isLcdInterruptRequested = checkBitOnByte(Interrupts.bitPositionLcdInterrupt, value);\n        Interrupts.isTimerInterruptRequested = checkBitOnByte(Interrupts.bitPositionTimerInterrupt, value);\n        Interrupts.isSerialInterruptRequested = checkBitOnByte(Interrupts.bitPositionSerialInterrupt, value);\n        Interrupts.isJoypadInterruptRequested = checkBitOnByte(Interrupts.bitPositionJoypadInterrupt, value);\n        Interrupts.interruptsRequestedValue = value;\n    };\n    // Function to return if we have any pending interrupts\n    Interrupts.areInterruptsPending = function () {\n        return (Interrupts.interruptsRequestedValue & Interrupts.interruptsEnabledValue & 0x1f) > 0;\n    };\n    // Function to save the state of the class\n    Interrupts.saveState = function () {\n        // Interrupt Master Interrupt Switch\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x00, Interrupts.saveStateSlot), Interrupts.masterInterruptSwitch);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x01, Interrupts.saveStateSlot), Interrupts.masterInterruptSwitchDelay);\n        // Interrupt Enabled\n        store(getSaveStateMemoryOffset(0x10, Interrupts.saveStateSlot), Interrupts.interruptsEnabledValue);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x11, Interrupts.saveStateSlot), Interrupts.isVBlankInterruptEnabled);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x12, Interrupts.saveStateSlot), Interrupts.isLcdInterruptEnabled);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x13, Interrupts.saveStateSlot), Interrupts.isTimerInterruptEnabled);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x14, Interrupts.saveStateSlot), Interrupts.isSerialInterruptEnabled);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x15, Interrupts.saveStateSlot), Interrupts.isJoypadInterruptEnabled);\n        // Interrupt Request\n        store(getSaveStateMemoryOffset(0x20, Interrupts.saveStateSlot), Interrupts.interruptsRequestedValue);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x21, Interrupts.saveStateSlot), Interrupts.isVBlankInterruptRequested);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x22, Interrupts.saveStateSlot), Interrupts.isLcdInterruptRequested);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x23, Interrupts.saveStateSlot), Interrupts.isTimerInterruptRequested);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x24, Interrupts.saveStateSlot), Interrupts.isSerialInterruptRequested);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x25, Interrupts.saveStateSlot), Interrupts.isJoypadInterruptRequested);\n    };\n    // Function to load the save state from memory\n    Interrupts.loadState = function () {\n        // Interrupt Master Interrupt Switch\n        Interrupts.masterInterruptSwitch = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x00, Interrupts.saveStateSlot));\n        Interrupts.masterInterruptSwitchDelay = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x01, Interrupts.saveStateSlot));\n        // Interrupt Enabled\n        Interrupts.interruptsEnabledValue = load(getSaveStateMemoryOffset(0x10, Interrupts.saveStateSlot));\n        Interrupts.isVBlankInterruptEnabled = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x11, Interrupts.saveStateSlot));\n        Interrupts.isLcdInterruptEnabled = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x12, Interrupts.saveStateSlot));\n        Interrupts.isTimerInterruptEnabled = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x13, Interrupts.saveStateSlot));\n        Interrupts.isSerialInterruptEnabled = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x14, Interrupts.saveStateSlot));\n        Interrupts.isJoypadInterruptEnabled = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x15, Interrupts.saveStateSlot));\n        // Interrupt Request\n        Interrupts.interruptsRequestedValue = load(getSaveStateMemoryOffset(0x20, Interrupts.saveStateSlot));\n        Interrupts.isVBlankInterruptRequested = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x21, Interrupts.saveStateSlot));\n        Interrupts.isLcdInterruptRequested = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x22, Interrupts.saveStateSlot));\n        Interrupts.isTimerInterruptRequested = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x23, Interrupts.saveStateSlot));\n        Interrupts.isSerialInterruptRequested = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x24, Interrupts.saveStateSlot));\n        Interrupts.isJoypadInterruptRequested = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x25, Interrupts.saveStateSlot));\n    };\n    Interrupts.masterInterruptSwitch = false;\n    // According to mooneye, interrupts are not handled until AFTER\n    // Next instruction\n    // https://github.com/Gekkio/mooneye-gb/blob/master/docs/accuracy.markdown\n    Interrupts.masterInterruptSwitchDelay = false;\n    // Biut position for each part of the interrupts HW registers\n    Interrupts.bitPositionVBlankInterrupt = 0;\n    Interrupts.bitPositionLcdInterrupt = 1;\n    Interrupts.bitPositionTimerInterrupt = 2;\n    Interrupts.bitPositionSerialInterrupt = 3;\n    Interrupts.bitPositionJoypadInterrupt = 4;\n    Interrupts.memoryLocationInterruptEnabled = 0xffff; // A.K.A interrupt Flag (IE)\n    // Cache which Interrupts are enabled\n    Interrupts.interruptsEnabledValue = 0;\n    Interrupts.isVBlankInterruptEnabled = false;\n    Interrupts.isLcdInterruptEnabled = false;\n    Interrupts.isTimerInterruptEnabled = false;\n    Interrupts.isSerialInterruptEnabled = false;\n    Interrupts.isJoypadInterruptEnabled = false;\n    Interrupts.memoryLocationInterruptRequest = 0xff0f; // A.K.A interrupt Flag (IF)\n    // Cache which Interrupts are requested\n    Interrupts.interruptsRequestedValue = 0;\n    Interrupts.isVBlankInterruptRequested = false;\n    Interrupts.isLcdInterruptRequested = false;\n    Interrupts.isTimerInterruptRequested = false;\n    Interrupts.isSerialInterruptRequested = false;\n    Interrupts.isJoypadInterruptRequested = false;\n    // Save States\n    Interrupts.saveStateSlot = 2;\n    return Interrupts;\n}());\n// Inlined because closure compiler inlines\nfunction initializeInterrupts() {\n    // Values from BGB\n    // IE\n    Interrupts.updateInterruptEnabled(0x00);\n    eightBitStoreIntoGBMemory(Interrupts.memoryLocationInterruptEnabled, Interrupts.interruptsEnabledValue);\n    // IF\n    Interrupts.updateInterruptRequested(0xe1);\n    eightBitStoreIntoGBMemory(Interrupts.memoryLocationInterruptRequest, Interrupts.interruptsRequestedValue);\n}\n// NOTE: Interrupts should be handled before reading an opcode\n// Inlined because closure compiler inlines\nfunction checkInterrupts() {\n    // First check for our delay was enabled\n    if (Interrupts.masterInterruptSwitchDelay) {\n        Interrupts.masterInterruptSwitch = true;\n        Interrupts.masterInterruptSwitchDelay = false;\n    }\n    // Check if we have an enabled and requested interrupt\n    var isAnInterruptRequestedAndEnabledValue = Interrupts.interruptsEnabledValue & Interrupts.interruptsRequestedValue & 0x1f;\n    if (isAnInterruptRequestedAndEnabledValue > 0) {\n        // Boolean to track if interrupts were handled\n        // Interrupt handling requires 20 cycles\n        // https://github.com/Gekkio/mooneye-gb/blob/master/docs/accuracy.markdown#what-is-the-exact-timing-of-cpu-servicing-an-interrupt\n        var wasInterruptHandled = false;\n        // Service our interrupts, if we have the master switch enabled\n        // https://www.reddit.com/r/EmuDev/comments/5ie3k7/infinite_loop_trying_to_pass_blarggs_interrupt/\n        if (Interrupts.masterInterruptSwitch && !Cpu.isHaltNoJump) {\n            if (Interrupts.isVBlankInterruptEnabled && Interrupts.isVBlankInterruptRequested) {\n                _handleInterrupt(Interrupts.bitPositionVBlankInterrupt);\n                wasInterruptHandled = true;\n            }\n            else if (Interrupts.isLcdInterruptEnabled && Interrupts.isLcdInterruptRequested) {\n                _handleInterrupt(Interrupts.bitPositionLcdInterrupt);\n                wasInterruptHandled = true;\n            }\n            else if (Interrupts.isTimerInterruptEnabled && Interrupts.isTimerInterruptRequested) {\n                _handleInterrupt(Interrupts.bitPositionTimerInterrupt);\n                wasInterruptHandled = true;\n            }\n            else if (Interrupts.isSerialInterruptEnabled && Interrupts.isSerialInterruptRequested) {\n                _handleInterrupt(Interrupts.bitPositionSerialInterrupt);\n                wasInterruptHandled = true;\n            }\n            else if (Interrupts.isJoypadInterruptEnabled && Interrupts.isJoypadInterruptRequested) {\n                _handleInterrupt(Interrupts.bitPositionJoypadInterrupt);\n                wasInterruptHandled = true;\n            }\n        }\n        var interuptHandlerCycles = 0;\n        if (wasInterruptHandled) {\n            // Interrupt handling requires 20 cycles, TCAGBD\n            interuptHandlerCycles = 20;\n            if (Cpu.isHalted()) {\n                // If the CPU was halted, now is the time to un-halt\n                // Should be done here when the jump occurs according to:\n                // https://www.reddit.com/r/EmuDev/comments/6fmjch/gb_glitches_in_links_awakening_and_pok%C3%A9mon_gold/\n                Cpu.exitHaltAndStop();\n                interuptHandlerCycles += 4;\n            }\n        }\n        if (Cpu.isHalted()) {\n            Cpu.exitHaltAndStop();\n        }\n        return interuptHandlerCycles;\n    }\n    return 0;\n}\nfunction _handleInterrupt(bitPosition) {\n    // Disable the master switch\n    setInterrupts(false);\n    // Disable the bit on the interruptRequest\n    var interruptRequest = eightBitLoadFromGBMemory(Interrupts.memoryLocationInterruptRequest);\n    interruptRequest = resetBitOnByte(bitPosition, interruptRequest);\n    Interrupts.interruptsRequestedValue = interruptRequest;\n    eightBitStoreIntoGBMemory(Interrupts.memoryLocationInterruptRequest, interruptRequest);\n    // Push the programCounter onto the stacks\n    // Push the next instruction, not the halt itself (TCAGBD).\n    Cpu.stackPointer = Cpu.stackPointer - 2;\n    if (Cpu.isHalted()) {\n        // TODO: This breaks Pokemon Yellow, And OG Link's awakening. Find out why...\n        // sixteenBitStoreIntoGBMemory(Cpu.stackPointer, Cpu.programCounter + 1);\n        sixteenBitStoreIntoGBMemory(Cpu.stackPointer, Cpu.programCounter);\n    }\n    else {\n        sixteenBitStoreIntoGBMemory(Cpu.stackPointer, Cpu.programCounter);\n    }\n    // Jump to the correct interrupt location\n    // Also piggyback off of the switch to reset our HW Register caching\n    // http://www.codeslinger.co.uk/pages/projects/gameboy/interupts.html\n    switch (bitPosition) {\n        case Interrupts.bitPositionVBlankInterrupt:\n            Interrupts.isVBlankInterruptRequested = false;\n            Cpu.programCounter = 0x40;\n            break;\n        case Interrupts.bitPositionLcdInterrupt:\n            Interrupts.isLcdInterruptRequested = false;\n            Cpu.programCounter = 0x48;\n            break;\n        case Interrupts.bitPositionTimerInterrupt:\n            Interrupts.isTimerInterruptRequested = false;\n            Cpu.programCounter = 0x50;\n            break;\n        case Interrupts.bitPositionSerialInterrupt:\n            Interrupts.isSerialInterruptRequested = false;\n            Cpu.programCounter = 0x58;\n            break;\n        case Interrupts.bitPositionJoypadInterrupt:\n            Interrupts.isJoypadInterruptRequested = false;\n            Cpu.programCounter = 0x60;\n            break;\n    }\n}\nfunction _requestInterrupt(bitPosition) {\n    var interruptRequest = eightBitLoadFromGBMemory(Interrupts.memoryLocationInterruptRequest);\n    // Pass to set the correct interrupt bit on interruptRequest\n    interruptRequest = setBitOnByte(bitPosition, interruptRequest);\n    Interrupts.interruptsRequestedValue = interruptRequest;\n    eightBitStoreIntoGBMemory(Interrupts.memoryLocationInterruptRequest, interruptRequest);\n}\nfunction setInterrupts(value) {\n    // If we are enabling interrupts,\n    // we want to wait 4 cycles before enabling\n    if (value) {\n        Interrupts.masterInterruptSwitchDelay = true;\n    }\n    else {\n        Interrupts.masterInterruptSwitch = false;\n    }\n}\n// Inlined because closure compiler inlines\nfunction requestVBlankInterrupt() {\n    Interrupts.isVBlankInterruptRequested = true;\n    _requestInterrupt(Interrupts.bitPositionVBlankInterrupt);\n}\n// Inlined because closure compiler inlines\nfunction requestLcdInterrupt() {\n    Interrupts.isLcdInterruptRequested = true;\n    _requestInterrupt(Interrupts.bitPositionLcdInterrupt);\n}\n// Inlined because closure compiler inlines\nfunction requestTimerInterrupt() {\n    Interrupts.isTimerInterruptRequested = true;\n    _requestInterrupt(Interrupts.bitPositionTimerInterrupt);\n}\n// Inlined because closure compiler inlines\nfunction requestJoypadInterrupt() {\n    Interrupts.isJoypadInterruptRequested = true;\n    _requestInterrupt(Interrupts.bitPositionJoypadInterrupt);\n}\n// Inlined because closure compiler inlines\nfunction requestSerialInterrupt() {\n    Interrupts.isSerialInterruptRequested = true;\n    _requestInterrupt(Interrupts.bitPositionSerialInterrupt);\n}\n\nvar Timers = /** @class */ (function () {\n    function Timers() {\n    }\n    // Number of cycles to run in each batch process\n    Timers.batchProcessCycles = function () {\n        return 256;\n    };\n    Timers.updateDividerRegister = function () {\n        var oldDividerRegister = Timers.dividerRegister;\n        Timers.dividerRegister = 0;\n        eightBitStoreIntoGBMemory(Timers.memoryLocationDividerRegister, 0);\n        if (Timers.timerEnabled && _checkDividerRegisterFallingEdgeDetector(oldDividerRegister, 0)) {\n            _incrementTimerCounter();\n        }\n    };\n    Timers.updateTimerCounter = function (value) {\n        if (Timers.timerEnabled) {\n            // From binjgb, dont write TIMA if we were just reset\n            if (Timers.timerCounterWasReset) {\n                return;\n            }\n            // Mooneye Test, tima_write_reloading\n            // Writing in this strange delay cycle, will cancel\n            // Both the interrupt and the TMA reload\n            if (Timers.timerCounterOverflowDelay) {\n                Timers.timerCounterOverflowDelay = false;\n            }\n        }\n        Timers.timerCounter = value;\n    };\n    Timers.updateTimerModulo = function (value) {\n        Timers.timerModulo = value;\n        // Mooneye Test, tma_write_reloading\n        // Don't update if we were reloading\n        if (Timers.timerEnabled && Timers.timerCounterWasReset) {\n            Timers.timerCounter = value;\n            Timers.timerCounterWasReset = false;\n        }\n    };\n    Timers.updateTimerControl = function (value) {\n        // Get some initial values\n        var oldTimerEnabled = Timers.timerEnabled;\n        Timers.timerEnabled = checkBitOnByte(2, value);\n        var newTimerInputClock = value & 0x03;\n        // Do some obscure behavior for if we should increment TIMA\n        // This does the timer increments from rapid_toggle mooneye tests\n        if (!oldTimerEnabled) {\n            var oldTimerCounterMaskBit = _getTimerCounterMaskBit(Timers.timerInputClock);\n            var newTimerCounterMaskBit = _getTimerCounterMaskBit(newTimerInputClock);\n            var shouldIncrementTimerCounter = false;\n            var dividerRegister = Timers.dividerRegister;\n            if (Timers.timerEnabled) {\n                shouldIncrementTimerCounter = checkBitOnByte(oldTimerCounterMaskBit, dividerRegister);\n            }\n            else {\n                shouldIncrementTimerCounter =\n                    checkBitOnByte(oldTimerCounterMaskBit, dividerRegister) && checkBitOnByte(newTimerCounterMaskBit, dividerRegister);\n            }\n            if (shouldIncrementTimerCounter) {\n                _incrementTimerCounter();\n            }\n        }\n        Timers.timerInputClock = newTimerInputClock;\n    };\n    // Function to save the state of the class\n    // TODO: Save state for new properties on Timers\n    Timers.saveState = function () {\n        // Batch Processing\n        store(getSaveStateMemoryOffset(0x00, Timers.saveStateSlot), Timers.currentCycles);\n        // Divider Register\n        store(getSaveStateMemoryOffset(0x04, Timers.saveStateSlot), Timers.dividerRegister);\n        // Timer Counter\n        store(getSaveStateMemoryOffset(0x08, Timers.saveStateSlot), Timers.timerCounter);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x0c, Timers.saveStateSlot), Timers.timerCounterOverflowDelay);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x0d, Timers.saveStateSlot), Timers.timerCounterWasReset);\n        store(getSaveStateMemoryOffset(0x0e, Timers.saveStateSlot), Timers.timerCounterMask);\n        // Timer Modulo\n        store(getSaveStateMemoryOffset(0x12, Timers.saveStateSlot), Timers.timerModulo);\n        // Timer Control\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x16, Timers.saveStateSlot), Timers.timerEnabled);\n        store(getSaveStateMemoryOffset(0x17, Timers.saveStateSlot), Timers.timerInputClock);\n    };\n    // Function to load the save state from memory\n    Timers.loadState = function () {\n        // Batch Processing\n        Timers.currentCycles = load(getSaveStateMemoryOffset(0x00, Timers.saveStateSlot));\n        // Divider Register\n        Timers.dividerRegister = load(getSaveStateMemoryOffset(0x04, Timers.saveStateSlot));\n        // Timer Counter\n        Timers.timerCounter = load(getSaveStateMemoryOffset(0x08, Timers.saveStateSlot));\n        Timers.timerCounterOverflowDelay = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x0c, Timers.saveStateSlot));\n        Timers.timerCounterWasReset = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x0d, Timers.saveStateSlot));\n        Timers.timerCounterMask = load(getSaveStateMemoryOffset(0x0e, Timers.saveStateSlot));\n        // Timer Modulo\n        Timers.timerModulo = load(getSaveStateMemoryOffset(0x12, Timers.saveStateSlot));\n        // Timer Control\n        Timers.timerEnabled = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x16, Timers.saveStateSlot));\n        Timers.timerInputClock = load(getSaveStateMemoryOffset(0x17, Timers.saveStateSlot));\n    };\n    // Current cycles\n    // This will be used for batch processing\n    Timers.currentCycles = 0;\n    // Divider Register = DIV\n    // Divider Register is 16 bits.\n    // Divider Register when read is just the upper 8 bits\n    // But internally is used as the full 16\n    // Essentially dividerRegister is an always counting clock\n    // DIV Drives everything, it is the heart of the timer.\n    // All other timing registers base them selves relative to the DIV register\n    // Think of the div register as like a cycle counter :)\n    // DIV will increment TIMA, whenever there is a falling edge, see below for that.\n    Timers.memoryLocationDividerRegister = 0xff04; // DIV\n    Timers.dividerRegister = 0;\n    // timerCounter = TIMA\n    // TIMA is the actual counter.\n    // Whenever the DIV gets the falling edge, and other obscure cases,\n    // This is incremented. When this overflows, we need to fire an interrupt.\n    Timers.memoryLocationTimerCounter = 0xff05;\n    Timers.timerCounter = 0;\n    Timers.timerCounterOverflowDelay = false;\n    Timers.timerCounterWasReset = false;\n    Timers.timerCounterMask = 0;\n    // Timer Modulo = TMA\n    // TMA is what TIMA (Notice the I :p) is counting from, and TIMA will load\n    // Whenever TIMA overflow.\n    // For instance, we count like 1,2,3,4,5,6,7,8,9, and then overflow to 10.\n    // TMA would be like \"Hey, start counting from 5 whenever we reset\"\n    // Then we would be like 5,6,7,8,9...5,6,7,8,9...etc...\n    Timers.memoryLocationTimerModulo = 0xff06;\n    Timers.timerModulo = 0;\n    // Timer Control = TAC\n    // TAC Says how fast we are counting.\n    // TAC controls which bit we are watching for the falling edge on the DIV register\n    // And whenever the bit has the falling edge, we increment TIMA (The thing counting).\n    // Therefore, depending on the value, we will either count faster or slower.\n    Timers.memoryLocationTimerControl = 0xff07;\n    // Bit 2    - Timer Stop  (0=Stop, 1=Start)\n    // Bits 1-0 - Input Clock Select\n    //            00:   4096 Hz    (~4194 Hz SGB) (1024 cycles)\n    //            01: 262144 Hz  (~268400 Hz SGB) (16 cycles)\n    //            10:  65536 Hz   (~67110 Hz SGB) (64 cycles)\n    //            11:  16384 Hz   (~16780 Hz SGB) (256 cycles)\n    Timers.timerEnabled = false;\n    Timers.timerInputClock = 0;\n    // Save States\n    Timers.saveStateSlot = 5;\n    return Timers;\n}());\n// Inlined because closure compiler inlines\nfunction initializeTimers() {\n    // Reset stateful Variables\n    Timers.currentCycles = 0;\n    Timers.dividerRegister = 0;\n    Timers.timerCounter = 0;\n    Timers.timerModulo = 0;\n    Timers.timerEnabled = false;\n    Timers.timerInputClock = 0;\n    Timers.timerCounterOverflowDelay = false;\n    Timers.timerCounterWasReset = false;\n    if (Cpu.GBCEnabled) {\n        // DIV\n        eightBitStoreIntoGBMemory(0xff04, 0x1e);\n        Timers.dividerRegister = 0x1ea0;\n        // 0xFF05 -> 0xFF06 = 0x00\n        // TAC\n        eightBitStoreIntoGBMemory(0xff07, 0xf8);\n        Timers.timerInputClock = 0xf8;\n    }\n    else {\n        // DIV\n        eightBitStoreIntoGBMemory(0xff04, 0xab);\n        Timers.dividerRegister = 0xabcc;\n        // 0xFF05 -> 0xFF06 = 0x00\n        // TAC\n        eightBitStoreIntoGBMemory(0xff07, 0xf8);\n        Timers.timerInputClock = 0xf8;\n    }\n    // Override/reset some variables if the boot ROM is enabled\n    if (Cpu.BootROMEnabled) {\n        if (Cpu.GBCEnabled) ;\n        else {\n            // GB\n            // DIV\n            eightBitStoreIntoGBMemory(0xff04, 0x00);\n            Timers.dividerRegister = 0x0004;\n        }\n    }\n}\n// Batch Process Timers\n// Only checked on writes\n// Function to batch process our Timers after we skipped so many cycles\nfunction batchProcessTimers() {\n    // TODO: Did a timer rewrite, make a proper batch processing\n    // For timers\n    updateTimers(Timers.currentCycles);\n    Timers.currentCycles = 0;\n}\nfunction updateTimers(numberOfCycles) {\n    // Want to increment 4 cycles at a time like an actual GB would\n    var cyclesIncreased = 0;\n    while (cyclesIncreased < numberOfCycles) {\n        var oldDividerRegister = Timers.dividerRegister;\n        var curDividerRegister = oldDividerRegister;\n        cyclesIncreased += 4;\n        curDividerRegister += 4;\n        curDividerRegister &= 0xffff;\n        Timers.dividerRegister = curDividerRegister;\n        if (Timers.timerEnabled) {\n            var timerCounterWasReset = Timers.timerCounterWasReset;\n            if (Timers.timerCounterOverflowDelay) {\n                Timers.timerCounter = Timers.timerModulo;\n                // Fire off timer interrupt\n                requestTimerInterrupt();\n                Timers.timerCounterOverflowDelay = false;\n                Timers.timerCounterWasReset = true;\n            }\n            else if (timerCounterWasReset) {\n                Timers.timerCounterWasReset = false;\n            }\n            if (_checkDividerRegisterFallingEdgeDetector(oldDividerRegister, curDividerRegister)) {\n                _incrementTimerCounter();\n            }\n        }\n    }\n}\n// Function to increment our Timer Counter\n// This fires off interrupts once we overflow\nfunction _incrementTimerCounter() {\n    var counter = Timers.timerCounter;\n    if (++counter > 255) {\n        // Whenever the timer overflows, there is a slight delay (4 cycles)\n        // Of when TIMA gets TMA's value, and the interrupt is fired.\n        // Thus we will set the delay, which can be handled in the update timer or write trap\n        Timers.timerCounterOverflowDelay = true;\n        counter = 0;\n    }\n    Timers.timerCounter = counter;\n}\n// Function to act as our falling edge detector\n// Whenever we have a falling edge, we need to increment TIMA\n// http://gbdev.gg8.se/wiki/articles/Timer_Obscure_Behaviour\n// https://github.com/binji/binjgb/blob/master/src/emulator.c#L1944\nfunction _checkDividerRegisterFallingEdgeDetector(oldDividerRegister, newDividerRegister) {\n    // Get our mask\n    var timerCounterMaskBit = _getTimerCounterMaskBit(Timers.timerInputClock);\n    // If the old register's watched bit was zero,\n    // but after adding the new registers wastch bit is now 1\n    return checkBitOnByte(timerCounterMaskBit, oldDividerRegister) && !checkBitOnByte(timerCounterMaskBit, newDividerRegister);\n}\n// Function to get our current tima mask bit\n// used for our falling edge detector\n// See The docs linked above, or TCAGB for this bit mapping\nfunction _getTimerCounterMaskBit(timerInputClock) {\n    switch (timerInputClock) {\n        case 0x00:\n            return 9;\n        case 0x01:\n            return 3;\n        case 0x02:\n            return 5;\n        case 0x03:\n            return 7;\n    }\n    return 0;\n}\n\n// Link cable / serial implementation\nvar Serial = /** @class */ (function () {\n    function Serial() {\n    }\n    Serial.updateTransferControl = function (value) {\n        Serial.isShiftClockInternal = checkBitOnByte(0, value);\n        Serial.isClockSpeedFast = checkBitOnByte(1, value);\n        Serial.transferStartFlag = checkBitOnByte(7, value);\n        // Allow the original write, and return since we dont need to look anymore\n        return true;\n    };\n    // Cycle counter\n    Serial.currentCycles = 0x00;\n    // Register locations\n    Serial.memoryLocationSerialTransferData = 0xff01; // SB\n    Serial.memoryLocationSerialTransferControl = 0xff02; // SC\n    // Number of bits transferred\n    Serial.numberOfBitsTransferred = 0;\n    // Transfer control variables\n    Serial.isShiftClockInternal = false;\n    Serial.isClockSpeedFast = false;\n    Serial.transferStartFlag = false;\n    return Serial;\n}());\n// Function to initialize our serial values\n// Inlined because closure compiler inlines\nfunction initializeSerial() {\n    Serial.currentCycles = 0x00;\n    Serial.numberOfBitsTransferred = 0;\n    if (Cpu.GBCEnabled) {\n        // FF01 = 0x00\n        eightBitStoreIntoGBMemory(0xff02, 0x7c);\n        Serial.updateTransferControl(0x7c);\n    }\n    else {\n        // FF01 = 0x00\n        eightBitStoreIntoGBMemory(0xff02, 0x7e);\n        Serial.updateTransferControl(0x7e);\n    }\n}\n// TODO: Finish serial\n// See minimal serial: https://github.com/binji/binjgb/commit/64dece05c4ef5a052c4b9b75eb3ddbbfc6677cbe\n// Inlined because closure compiler inlines\nfunction updateSerial(numberOfCycles) {\n    // If we aren't starting our transfer, or transferring,\n    // return\n    if (!Serial.transferStartFlag) {\n        return;\n    }\n    // Want to increment 4 cycles at a time like an actual GB would\n    var cyclesIncreased = 0;\n    while (cyclesIncreased < numberOfCycles) {\n        var oldCycles = Serial.currentCycles;\n        var curCycles = oldCycles;\n        cyclesIncreased += 4;\n        curCycles += 4;\n        if (curCycles > 0xffff) {\n            curCycles -= 0x10000;\n        }\n        Serial.currentCycles = curCycles;\n        if (_checkFallingEdgeDetector(oldCycles, curCycles)) {\n            // TODO: Since no actual connection, always transfer 1\n            // Need to fix this\n            var memoryLocationSerialTransferData = Serial.memoryLocationSerialTransferData;\n            var transferData = eightBitLoadFromGBMemory(memoryLocationSerialTransferData);\n            transferData = (transferData << 1) + 1;\n            transferData = transferData & 0xff;\n            eightBitStoreIntoGBMemory(memoryLocationSerialTransferData, transferData);\n            var numberOfBitsTransferred = Serial.numberOfBitsTransferred;\n            if (++numberOfBitsTransferred === 8) {\n                Serial.numberOfBitsTransferred = 0;\n                requestSerialInterrupt();\n                // Disable transfer start\n                var memoryLocationSerialTransferControl = Serial.memoryLocationSerialTransferControl;\n                var transferControl = eightBitLoadFromGBMemory(memoryLocationSerialTransferControl);\n                eightBitStoreIntoGBMemory(memoryLocationSerialTransferControl, resetBitOnByte(7, transferControl));\n                Serial.transferStartFlag = false;\n            }\n            else {\n                Serial.numberOfBitsTransferred = numberOfBitsTransferred;\n            }\n        }\n    }\n}\n// Inlined because closure compiler inlines\nfunction _checkFallingEdgeDetector(oldCycles, newCycles) {\n    // Get our mask\n    var maskBit = _getFallingEdgeMaskBit();\n    // If the old register's watched bit was zero,\n    // but after adding the new registers wastch bit is now 1\n    return checkBitOnByte(maskBit, oldCycles) && !checkBitOnByte(maskBit, newCycles);\n}\n// Function to get our current tima mask bit\n// used for our falling edge detector\n// See The docs linked above, or TCAGB for this bit mapping\n// Inlined because closure compiler inlines\nfunction _getFallingEdgeMaskBit() {\n    return Serial.isClockSpeedFast ? 2 : 7;\n}\n\n// http://www.codeslinger.co.uk/pages/projects/gameboy/joypad.html\n// Joypad Register\n// Taken from pandocs\n// Bit 7 - Not used\n// Bit 6 - Not used\n// Bit 5 - P15 Select Button Keys (0=Select)\n// Bit 4 - P14 Select Direction Keys (0=Select)\n// Bit 3 - P13 Input Down or Start (0=Pressed) (Read Only)\n// Bit 2 - P12 Input Up or Select (0=Pressed) (Read Only)\n// Bit 1 - P11 Input Left or Button B (0=Pressed) (Read Only)\n// Bit 0 - P10 Input Right or Button A (0=Pressed) (Read Only)\n// Button Ids will be the following:\n// UP - 0\n// RIGHT - 1\n// DOWN - 2\n// LEFT - 3\n// A - 4\n// B - 5\n// SELECT - 6\n// START - 7\nvar Joypad = /** @class */ (function () {\n    function Joypad() {\n    }\n    Joypad.updateJoypad = function (value) {\n        Joypad.joypadRegisterFlipped = value ^ 0xff;\n        Joypad.isDpadType = checkBitOnByte(4, Joypad.joypadRegisterFlipped);\n        Joypad.isButtonType = checkBitOnByte(5, Joypad.joypadRegisterFlipped);\n    };\n    // Function to save the state of the class\n    Joypad.saveState = function () {\n        store(getSaveStateMemoryOffset(0x00, Joypad.saveStateSlot), Joypad.joypadRegisterFlipped);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x01, Joypad.saveStateSlot), Joypad.isDpadType);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x02, Joypad.saveStateSlot), Joypad.isButtonType);\n    };\n    // Function to load the save state from memory\n    Joypad.loadState = function () {\n        Joypad.joypadRegisterFlipped = load(getSaveStateMemoryOffset(0x00, Joypad.saveStateSlot));\n        Joypad.isDpadType = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x01, Joypad.saveStateSlot));\n        Joypad.isButtonType = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x02, Joypad.saveStateSlot));\n    };\n    Joypad.up = false;\n    Joypad.down = false;\n    Joypad.left = false;\n    Joypad.right = false;\n    Joypad.a = false;\n    Joypad.b = false;\n    Joypad.select = false;\n    Joypad.start = false;\n    Joypad.memoryLocationJoypadRegister = 0xff00;\n    // Cache some values on the Joypad register\n    Joypad.joypadRegisterFlipped = 0;\n    Joypad.isDpadType = false;\n    Joypad.isButtonType = false;\n    // Save States\n    // Not doing anything for Joypad for now\n    Joypad.saveStateSlot = 3;\n    return Joypad;\n}());\n// Inlined because closure compiler inlines\nfunction getJoypadState() {\n    // Get the joypad register\n    var joypadRegister = Joypad.joypadRegisterFlipped;\n    if (Joypad.isDpadType) {\n        // D-pad buttons\n        // Up\n        if (Joypad.up) {\n            joypadRegister = resetBitOnByte(2, joypadRegister);\n        }\n        else {\n            joypadRegister = setBitOnByte(2, joypadRegister);\n        }\n        // Right\n        if (Joypad.right) {\n            joypadRegister = resetBitOnByte(0, joypadRegister);\n        }\n        else {\n            joypadRegister = setBitOnByte(0, joypadRegister);\n        }\n        // Down\n        if (Joypad.down) {\n            joypadRegister = resetBitOnByte(3, joypadRegister);\n        }\n        else {\n            joypadRegister = setBitOnByte(3, joypadRegister);\n        }\n        // Left\n        if (Joypad.left) {\n            joypadRegister = resetBitOnByte(1, joypadRegister);\n        }\n        else {\n            joypadRegister = setBitOnByte(1, joypadRegister);\n        }\n    }\n    else if (Joypad.isButtonType) {\n        // A\n        if (Joypad.a) {\n            joypadRegister = resetBitOnByte(0, joypadRegister);\n        }\n        else {\n            joypadRegister = setBitOnByte(0, joypadRegister);\n        }\n        // B\n        if (Joypad.b) {\n            joypadRegister = resetBitOnByte(1, joypadRegister);\n        }\n        else {\n            joypadRegister = setBitOnByte(1, joypadRegister);\n        }\n        // Select\n        if (Joypad.select) {\n            joypadRegister = resetBitOnByte(2, joypadRegister);\n        }\n        else {\n            joypadRegister = setBitOnByte(2, joypadRegister);\n        }\n        // Start\n        if (Joypad.start) {\n            joypadRegister = resetBitOnByte(3, joypadRegister);\n        }\n        else {\n            joypadRegister = setBitOnByte(3, joypadRegister);\n        }\n    }\n    // Set the top 4 bits to on\n    joypadRegister = joypadRegister | 0xf0;\n    return joypadRegister;\n}\nfunction setJoypadState(up, right, down, left, a, b, select, start) {\n    if (up > 0) {\n        _pressJoypadButton(0);\n    }\n    else {\n        _releaseJoypadButton(0);\n    }\n    if (right > 0) {\n        _pressJoypadButton(1);\n    }\n    else {\n        _releaseJoypadButton(1);\n    }\n    if (down > 0) {\n        _pressJoypadButton(2);\n    }\n    else {\n        _releaseJoypadButton(2);\n    }\n    if (left > 0) {\n        _pressJoypadButton(3);\n    }\n    else {\n        _releaseJoypadButton(3);\n    }\n    if (a > 0) {\n        _pressJoypadButton(4);\n    }\n    else {\n        _releaseJoypadButton(4);\n    }\n    if (b > 0) {\n        _pressJoypadButton(5);\n    }\n    else {\n        _releaseJoypadButton(5);\n    }\n    if (select > 0) {\n        _pressJoypadButton(6);\n    }\n    else {\n        _releaseJoypadButton(6);\n    }\n    if (start > 0) {\n        _pressJoypadButton(7);\n    }\n    else {\n        _releaseJoypadButton(7);\n    }\n}\nfunction _pressJoypadButton(buttonId) {\n    // Un stop the CPU\n    Cpu.isStopped = false;\n    // Check if the button state changed from not pressed\n    var isButtonStateChanging = false;\n    if (!_getJoypadButtonStateFromButtonId(buttonId)) {\n        isButtonStateChanging = true;\n    }\n    // Set our joypad state\n    _setJoypadButtonStateFromButtonId(buttonId, true);\n    // If the button state is changing, check for an interrupt\n    if (isButtonStateChanging) {\n        // Determine if it is a button or a dpad button\n        var isDpadTypeButton = false;\n        if (buttonId <= 3) {\n            isDpadTypeButton = true;\n        }\n        // Determine if we should request an interrupt\n        var shouldRequestInterrupt = false;\n        // Check if the game is looking for a dpad type button press\n        if (Joypad.isDpadType && isDpadTypeButton) {\n            shouldRequestInterrupt = true;\n        }\n        // Check if the game is looking for a button type button press\n        if (Joypad.isButtonType && !isDpadTypeButton) {\n            shouldRequestInterrupt = true;\n        }\n        // Finally, request the interrupt, if the button state actually changed\n        if (shouldRequestInterrupt) {\n            requestJoypadInterrupt();\n        }\n    }\n}\n// Inlined because closure compiler inlines\nfunction _releaseJoypadButton(buttonId) {\n    // Set our joypad state\n    _setJoypadButtonStateFromButtonId(buttonId, false);\n}\nfunction _getJoypadButtonStateFromButtonId(buttonId) {\n    switch (buttonId) {\n        case 0:\n            return Joypad.up;\n        case 1:\n            return Joypad.right;\n        case 2:\n            return Joypad.down;\n        case 3:\n            return Joypad.left;\n        case 4:\n            return Joypad.a;\n        case 5:\n            return Joypad.b;\n        case 6:\n            return Joypad.select;\n        case 7:\n            return Joypad.start;\n        default:\n            return false;\n    }\n}\nfunction _setJoypadButtonStateFromButtonId(buttonId, isPressed) {\n    switch (buttonId) {\n        case 0:\n            Joypad.up = isPressed;\n            break;\n        case 1:\n            Joypad.right = isPressed;\n            break;\n        case 2:\n            Joypad.down = isPressed;\n            break;\n        case 3:\n            Joypad.left = isPressed;\n            break;\n        case 4:\n            Joypad.a = isPressed;\n            break;\n        case 5:\n            Joypad.b = isPressed;\n            break;\n        case 6:\n            Joypad.select = isPressed;\n            break;\n        case 7:\n            Joypad.start = isPressed;\n            break;\n    }\n}\n\n// Function to handle rom/rambanking\n// Inlined because closure compiler inlines\nfunction handleBanking(offset, value) {\n    // Is rom Only does not bank\n    if (Memory.isRomOnly) {\n        return;\n    }\n    var isMBC1 = Memory.isMBC1;\n    var isMBC2 = Memory.isMBC2;\n    // Enable Ram Banking\n    if (offset <= 0x1fff) {\n        if (isMBC2 && !checkBitOnByte(4, value)) {\n            // Do Nothing\n            return;\n        }\n        else {\n            var romEnableByte = value & 0x0f;\n            if (romEnableByte === 0x00) {\n                Memory.isRamBankingEnabled = false;\n            }\n            else if (romEnableByte === 0x0a) {\n                Memory.isRamBankingEnabled = true;\n            }\n        }\n    }\n    else if (offset <= 0x3fff) {\n        var isMBC5 = Memory.isMBC5;\n        if (!isMBC5 || offset <= 0x2fff) {\n            // Change Low Bits on the Current Rom Bank\n            var currentRomBank = Memory.currentRomBank;\n            if (isMBC2) {\n                currentRomBank = value & 0x0f;\n            }\n            // Set the number of bottom bytes from the MBC type\n            var romBankLowerBits = value;\n            if (isMBC1) {\n                // Only want the bottom 5\n                romBankLowerBits = romBankLowerBits & 0x1f;\n                currentRomBank &= 0xe0;\n            }\n            else if (Memory.isMBC3) {\n                // Only Want the bottom 7\n                romBankLowerBits = romBankLowerBits & 0x7f;\n                currentRomBank &= 0x80;\n            }\n            else if (isMBC5) {\n                // Going to switch the whole thing\n                currentRomBank &= 0x00;\n            }\n            // Set the lower bytes\n            currentRomBank |= romBankLowerBits;\n            Memory.currentRomBank = currentRomBank;\n            return;\n        }\n        else {\n            // TODO: MBC5 High bits Rom bank, check if this works, not sure about the value\n            var lowByte = splitLowByte(Memory.currentRomBank);\n            var highByte = (value > 0);\n            Memory.currentRomBank = concatenateBytes(highByte, lowByte);\n        }\n    }\n    else if (!isMBC2 && offset <= 0x5fff) {\n        // ROM / RAM Banking, MBC2 doesn't do this\n        if (isMBC1 && Memory.isMBC1RomModeEnabled) {\n            // Do an upper bit rom bank for MBC 1\n            // Remove upper bits of currentRomBank\n            var currentRomBank = Memory.currentRomBank & 0x1f;\n            var romBankHigherBits = value & 0xe0;\n            currentRomBank |= romBankHigherBits;\n            Memory.currentRomBank = currentRomBank;\n            return;\n        }\n        var ramBankBits = value;\n        if (!Memory.isMBC5) {\n            // Get the bottom 2 bits\n            ramBankBits &= 0x03;\n        }\n        else {\n            // Get the bottom nibble\n            ramBankBits &= 0x0f;\n        }\n        // Set our ram bank\n        Memory.currentRamBank = ramBankBits;\n        return;\n    }\n    else if (!isMBC2 && offset <= 0x7fff) {\n        if (isMBC1) {\n            Memory.isMBC1RomModeEnabled = checkBitOnByte(0, value);\n        }\n        // TODO: MBC3 Latch Clock Data\n    }\n}\n// Inlined because closure compiler inlines\nfunction getRomBankAddress(gameboyOffset) {\n    var currentRomBank = Memory.currentRomBank;\n    if (!Memory.isMBC5 && currentRomBank === 0) {\n        currentRomBank = 1;\n    }\n    // Adjust our gameboy offset relative to zero for the gameboy memory map\n    return (0x4000 * currentRomBank + (gameboyOffset - Memory.switchableCartridgeRomLocation));\n}\n// Inlined because closure compiler inlines\nfunction getRamBankAddress(gameboyOffset) {\n    // Adjust our gameboy offset relative to zero for the gameboy memory map\n    return (0x2000 * Memory.currentRamBank + (gameboyOffset - Memory.cartridgeRamLocation));\n}\n\n// Inlined because closure compiler inlines\nfunction initializeDma() {\n    if (Cpu.GBCEnabled) {\n        // GBC DMA\n        eightBitStoreIntoGBMemory(0xff51, 0xff);\n        eightBitStoreIntoGBMemory(0xff52, 0xff);\n        eightBitStoreIntoGBMemory(0xff53, 0xff);\n        eightBitStoreIntoGBMemory(0xff54, 0xff);\n        eightBitStoreIntoGBMemory(0xff55, 0xff);\n    }\n    else {\n        // GB DMA\n        eightBitStoreIntoGBMemory(0xff51, 0xff);\n        eightBitStoreIntoGBMemory(0xff52, 0xff);\n        eightBitStoreIntoGBMemory(0xff53, 0xff);\n        eightBitStoreIntoGBMemory(0xff54, 0xff);\n        eightBitStoreIntoGBMemory(0xff55, 0xff);\n    }\n}\n// Inlined because closure compiler inlines\nfunction startDmaTransfer(sourceAddressOffset) {\n    var sourceAddress = sourceAddressOffset << 8;\n    for (var i = 0; i <= 0x9f; ++i) {\n        var spriteInformationByte = eightBitLoadFromGBMemory(sourceAddress + i);\n        var spriteInformationAddress = Memory.spriteInformationTableLocation + i;\n        eightBitStoreIntoGBMemory(spriteInformationAddress, spriteInformationByte);\n    }\n    // TCAGBD:  This copy (DMA) needs 160  4 + 4 clocks to complete in both double speed and single speeds modes\n    // Increment all of our Cycle coiunters in ../cpu/opcodes\n    Memory.DMACycles = 644;\n}\n// https://gist.github.com/drhelius/3394856\n// http://bgb.bircd.org/pandocs.htm\n// Inlined because closure compiler inlines\nfunction startHdmaTransfer(hdmaTriggerByteToBeWritten) {\n    // Check if we are Gbc\n    if (!Cpu.GBCEnabled) {\n        return;\n    }\n    // Check if we are trying to terminate an already active HBLANK HDMA\n    if (Memory.isHblankHdmaActive && !checkBitOnByte(7, hdmaTriggerByteToBeWritten)) {\n        // Don't reset anything, just set bit 7 to 1 on the trigger byte\n        Memory.isHblankHdmaActive = false;\n        var hdmaTriggerByte = eightBitLoadFromGBMemory(Memory.memoryLocationHdmaTrigger);\n        eightBitStoreIntoGBMemory(Memory.memoryLocationHdmaTrigger, setBitOnByte(7, hdmaTriggerByte));\n        return;\n    }\n    // Get our source and destination for the HDMA\n    var hdmaSource = getHdmaSourceFromMemory();\n    var hdmaDestination = getHdmaDestinationFromMemory();\n    // Get the length from the trigger\n    // Lower 7 bits, Add 1, times 16\n    // https://gist.github.com/drhelius/3394856\n    var transferLength = resetBitOnByte(7, hdmaTriggerByteToBeWritten);\n    transferLength = (transferLength + 1) << 4;\n    // Get bit 7 of the trigger for the HDMA type\n    if (checkBitOnByte(7, hdmaTriggerByteToBeWritten)) {\n        // H-Blank DMA\n        Memory.isHblankHdmaActive = true;\n        Memory.hblankHdmaTransferLengthRemaining = transferLength;\n        Memory.hblankHdmaSource = hdmaSource;\n        Memory.hblankHdmaDestination = hdmaDestination;\n        // This will be handled in updateHblankHdma()\n        // Since we return false in write traps, we need to now write the byte\n        // Be sure to reset bit 7, to show that the hdma is active\n        eightBitStoreIntoGBMemory(Memory.memoryLocationHdmaTrigger, resetBitOnByte(7, hdmaTriggerByteToBeWritten));\n    }\n    else {\n        // General DMA\n        hdmaTransfer(hdmaSource, hdmaDestination, transferLength);\n        // Stop the DMA\n        eightBitStoreIntoGBMemory(Memory.memoryLocationHdmaTrigger, 0xff);\n    }\n}\n// Inlined because closure compiler inlines\nfunction updateHblankHdma() {\n    if (!Memory.isHblankHdmaActive) {\n        return;\n    }\n    // Get our amount of bytes to transfer (Only 0x10 bytes at a time)\n    var bytesToTransfer = 0x10;\n    var hblankHdmaTransferLengthRemaining = Memory.hblankHdmaTransferLengthRemaining;\n    if (hblankHdmaTransferLengthRemaining < bytesToTransfer) {\n        // Set to the difference\n        bytesToTransfer = hblankHdmaTransferLengthRemaining;\n    }\n    // Do the transfer (Only 0x10 bytes at a time)\n    hdmaTransfer(Memory.hblankHdmaSource, Memory.hblankHdmaDestination, bytesToTransfer);\n    // Update our source and destination\n    Memory.hblankHdmaSource += bytesToTransfer;\n    Memory.hblankHdmaDestination += bytesToTransfer;\n    hblankHdmaTransferLengthRemaining -= bytesToTransfer;\n    Memory.hblankHdmaTransferLengthRemaining = hblankHdmaTransferLengthRemaining;\n    var memoryLocationHdmaTrigger = Memory.memoryLocationHdmaTrigger;\n    if (hblankHdmaTransferLengthRemaining <= 0) {\n        // End the transfer\n        Memory.isHblankHdmaActive = false;\n        // Need to clear the HDMA with 0xFF, which sets bit 7 to 1 to show the HDMA has ended\n        eightBitStoreIntoGBMemory(memoryLocationHdmaTrigger, 0xff);\n    }\n    else {\n        // Set our new transfer length, make sure it is in the weird format,\n        // and make sure bit 7 is 0, to show that the HDMA is Active\n        var remainingTransferLength = hblankHdmaTransferLengthRemaining;\n        var transferLengthAsByte = (remainingTransferLength >> 4) - 1;\n        eightBitStoreIntoGBMemory(memoryLocationHdmaTrigger, resetBitOnByte(7, transferLengthAsByte));\n    }\n}\n// Simple Function to transfer the bytes from a destination to a source for a general pourpose or Hblank HDMA\nfunction hdmaTransfer(hdmaSource, hdmaDestination, transferLength) {\n    for (var i = 0; i < transferLength; ++i) {\n        var sourceByte = eightBitLoadFromGBMemoryWithTraps(hdmaSource + i);\n        // get the hdmaDestination with wrapping\n        // See issue #61: https://github.com/torch2424/wasmBoy/issues/61\n        var hdmaDestinationWithWrapping = hdmaDestination + i;\n        while (hdmaDestinationWithWrapping > 0x9fff) {\n            // Simply clear the top 3 bits\n            hdmaDestinationWithWrapping -= 0x2000;\n        }\n        eightBitStoreIntoGBMemoryWithTraps(hdmaDestinationWithWrapping, sourceByte);\n    }\n    // Set our Cycles used for the HDMA\n    // Since DMA in GBC Double Speed Mode takes 80 micro seconds,\n    // And HDMA takes 8 micro seconds per 0x10 bytes in GBC Double Speed mode (and GBC Normal Mode)\n    // Will assume (644 / 10) cycles for GBC Double Speed Mode,\n    // and (644 / 10 / 2) for GBC Normal Mode\n    var hdmaCycles = 32 << Cpu.GBCDoubleSpeed;\n    hdmaCycles = hdmaCycles * (transferLength >> 4);\n    Memory.DMACycles += hdmaCycles;\n}\n// Function to get our HDMA Source\n// Follows the poan docs\n// Inlined because closure compiler inlines\nfunction getHdmaSourceFromMemory() {\n    // Get our source for the HDMA\n    var hdmaSourceHigh = eightBitLoadFromGBMemory(Memory.memoryLocationHdmaSourceHigh);\n    var hdmaSourceLow = eightBitLoadFromGBMemory(Memory.memoryLocationHdmaSourceLow);\n    var hdmaSource = concatenateBytes(hdmaSourceHigh, hdmaSourceLow);\n    // And off the appopriate bits for the source and destination\n    // And off the bottom 4 bits\n    hdmaSource = hdmaSource & 0xfff0;\n    return hdmaSource;\n}\n// Function to get our HDMA Destination\n// Follows the poan docs\n// Inlined because closure compiler inlines\nfunction getHdmaDestinationFromMemory() {\n    var hdmaDestinationHigh = eightBitLoadFromGBMemory(Memory.memoryLocationHdmaDestinationHigh);\n    var hdmaDestinationLow = eightBitLoadFromGBMemory(Memory.memoryLocationHdmaDestinationLow);\n    var hdmaDestination = concatenateBytes(hdmaDestinationHigh, hdmaDestinationLow);\n    // Can only be in VRAM, 0x8000 -> 0x9FF0\n    // Pan docs says to knock off upper 3 bits, and lower 4 bits\n    // Which gives us: 0001111111110000 or 0x1FF0\n    // Meaning we must add 0x8000\n    hdmaDestination = hdmaDestination & 0x1ff0;\n    hdmaDestination += Memory.videoRamLocation;\n    return hdmaDestination;\n}\n\n// Internal function to trap any modify data trying to be written to Gameboy memory\n// Follows the Gameboy memory map\n// Return true if you want to continue the write, return false to end it here\nfunction checkWriteTraps(offset, value) {\n    // Cpu\n    if (offset === Cpu.memoryLocationSpeedSwitch) {\n        // TCAGBD, only Bit 0 is writable\n        eightBitStoreIntoGBMemory(Cpu.memoryLocationSpeedSwitch, value & 0x01);\n        // We did the write, dont need to\n        return false;\n    }\n    // Handle Boot ROM Switch\n    if (Cpu.BootROMEnabled && offset === Cpu.memoryLocationBootROMSwitch) {\n        // Disable the boot rom\n        Cpu.BootROMEnabled = false;\n        // Set the program counter to be incremented after this command\n        Cpu.programCounter = 0x00ff;\n        // Allow the write\n        return true;\n    }\n    // Graphics\n    // Cache globals used multiple times for performance\n    var videoRamLocation = Memory.videoRamLocation;\n    var spriteInformationTableLocation = Memory.spriteInformationTableLocation;\n    // Handle banking\n    if (offset < videoRamLocation) {\n        handleBanking(offset, value);\n        return false;\n    }\n    // Check the graphics mode to see if we can write to VRAM\n    // http://gbdev.gg8.se/wiki/articles/Video_Display#Accessing_VRAM_and_OAM\n    if (offset >= videoRamLocation && offset < Memory.cartridgeRamLocation) {\n        // Can only read/write from VRAM During Modes 0 - 2\n        // See graphics/lcd.ts\n        // TODO: This can do more harm than good in a beta emulator,\n        // requires precise timing disabling for now\n        // if (Graphics.currentLcdMode > 2) {\n        //   return false;\n        // }\n        // Not batch processing here for performance\n        // batchProcessGraphics();\n        // Allow the original write, and return since we dont need to look anymore\n        return true;\n    }\n    // Be sure to copy everything in EchoRam to Work Ram\n    // Codeslinger: The ECHO memory region (0xE000-0xFDFF) is quite different because any data written here is also written in the equivelent ram memory region 0xC000-0xDDFF.\n    // Hence why it is called echo\n    if (offset >= Memory.echoRamLocation && offset < spriteInformationTableLocation) {\n        var wramOffset = offset - 0x2000;\n        eightBitStoreIntoGBMemory(wramOffset, value);\n        // Allow the original write, and return since we dont need to look anymore\n        return true;\n    }\n    // Also check for individal writes\n    // Can only read/write from OAM During Modes 0 - 1\n    // See graphics/lcd.ts\n    if (offset >= spriteInformationTableLocation && offset <= Memory.spriteInformationTableLocationEnd) {\n        // Can only read/write from OAM During Mode 2\n        // See graphics/lcd.ts\n        // if (Lcd.currentLcdMode < 2) {\n        // return false;\n        // }\n        // Not batch processing here for performance\n        // batchProcessGraphics();\n        // Allow the original write, and return since we dont need to look anymore\n        // return true;\n        return Lcd.currentLcdMode >= 2;\n    }\n    if (offset >= Memory.unusableMemoryLocation && offset <= Memory.unusableMemoryEndLocation) {\n        return false;\n    }\n    // Serial\n    if (offset === Serial.memoryLocationSerialTransferControl) {\n        // SC\n        return Serial.updateTransferControl(value);\n    }\n    // Sound\n    // http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware#Registers\n    if (offset >= 0xff10 && offset <= 0xff26) {\n        batchProcessAudio();\n        return SoundRegisterWriteTraps(offset, value);\n    }\n    // FF27 - FF2F not used\n    // Final Wave Table for Channel 3\n    if (offset >= 0xff30 && offset <= 0xff3f) {\n        batchProcessAudio();\n        // Need to handle the write if channel 3 is enabled\n        if (Channel3.isEnabled) {\n            Channel3.handleWaveRamWrite(value);\n            return false;\n        }\n        return true;\n    }\n    // Other Memory effects fomr read/write to Lcd/Graphics\n    if (offset >= Lcd.memoryLocationLcdControl && offset <= Graphics.memoryLocationWindowX) {\n        // Not batch processing here for performance\n        // batchProcessGraphics();\n        if (offset === Lcd.memoryLocationLcdControl) {\n            // Shorcut for isLCD Enabled since it gets \"hot\"\n            Lcd.updateLcdControl(value);\n            return true;\n        }\n        if (offset === Lcd.memoryLocationLcdStatus) {\n            // We are handling the write here\n            Lcd.updateLcdStatus(value);\n            return false;\n        }\n        // reset the current scanline if the game tries to write to it\n        if (offset === Graphics.memoryLocationScanlineRegister) {\n            Graphics.scanlineRegister = 0;\n            eightBitStoreIntoGBMemory(offset, 0);\n            return false;\n        }\n        // Cache our coincidence compare\n        if (offset === Lcd.memoryLocationCoincidenceCompare) {\n            Lcd.coincidenceCompare = value;\n            return true;\n        }\n        // Do the direct memory access transfer for spriteInformationTable\n        // Check the graphics mode to see if we can write to VRAM\n        // http://gbdev.gg8.se/wiki/articles/Video_Display#Accessing_VRAM_and_OAM\n        if (offset === Graphics.memoryLocationDmaTransfer) {\n            // otherwise, perform a DMA transfer\n            // And allow the original write\n            startDmaTransfer(value);\n            return true;\n        }\n        // Scroll and Window XY\n        switch (offset) {\n            case Graphics.memoryLocationScrollX:\n                Graphics.scrollX = value;\n                return true;\n            case Graphics.memoryLocationScrollY:\n                Graphics.scrollY = value;\n                return true;\n            case Graphics.memoryLocationWindowX:\n                Graphics.windowX = value;\n                return true;\n            case Graphics.memoryLocationWindowY:\n                Graphics.windowY = value;\n                return true;\n        }\n        // Allow the original write, and return since we dont need to look anymore\n        return true;\n    }\n    // Do an HDMA\n    if (offset === Memory.memoryLocationHdmaTrigger) {\n        startHdmaTransfer(value);\n        return false;\n    }\n    // Don't allow banking if we are doing an Hblank HDM transfer\n    // https://gist.github.com/drhelius/3394856\n    if (offset === Memory.memoryLocationGBCWRAMBank || offset === Memory.memoryLocationGBCVRAMBank) {\n        if (Memory.isHblankHdmaActive) {\n            var hblankHdmaSource = Memory.hblankHdmaSource;\n            if ((hblankHdmaSource >= 0x4000 && hblankHdmaSource <= 0x7fff) || (hblankHdmaSource >= 0xd000 && hblankHdmaSource <= 0xdfff)) {\n                return false;\n            }\n        }\n    }\n    // Handle GBC Pallete Write\n    if (offset >= Palette.memoryLocationBackgroundPaletteIndex && offset <= Palette.memoryLocationSpritePaletteData) {\n        // Incremeenting the palette handled by the write\n        writeColorPaletteToMemory(offset, value);\n        return true;\n    }\n    // Handle timer writes\n    if (offset >= Timers.memoryLocationDividerRegister && offset <= Timers.memoryLocationTimerControl) {\n        // Batch Process\n        batchProcessTimers();\n        switch (offset) {\n            case Timers.memoryLocationDividerRegister:\n                Timers.updateDividerRegister();\n                return false;\n            case Timers.memoryLocationTimerCounter:\n                Timers.updateTimerCounter(value);\n                return true;\n            case Timers.memoryLocationTimerModulo:\n                Timers.updateTimerModulo(value);\n                return true;\n            case Timers.memoryLocationTimerControl:\n                Timers.updateTimerControl(value);\n                return true;\n        }\n        return true;\n    }\n    // Handle Joypad writes for HW reg caching\n    if (offset === Joypad.memoryLocationJoypadRegister) {\n        Joypad.updateJoypad(value);\n    }\n    // Handle Interrupt writes\n    if (offset === Interrupts.memoryLocationInterruptRequest) {\n        Interrupts.updateInterruptRequested(value);\n        return true;\n    }\n    if (offset === Interrupts.memoryLocationInterruptEnabled) {\n        Interrupts.updateInterruptEnabled(value);\n        return true;\n    }\n    // Allow the original write\n    return true;\n}\n\n// WasmBoy memory map:\n// Private function to translate a offset meant for the gameboy memory map\n// To the wasmboy memory map\n// Following: http://gameboy.mongenel.com/dmg/asmmemmap.html\n// And https://github.com/Dooskington/GameLad/wiki/Part-11---Memory-Bank-Controllers\n// Performance help from @dcodeIO, and awesome-gbdev\nfunction getWasmBoyOffsetFromGameBoyOffset(gameboyOffset) {\n    // Get the top byte and switch\n    var gameboyOffsetHighByte = gameboyOffset >> 12;\n    switch (gameboyOffsetHighByte) {\n        case 0x00:\n            // Check if we are currently executing the boot rom\n            // Otherwise, bottom 0x0000 -> 0x03FF is Cartridge ROM Ram Bank 1\n            if (Cpu.BootROMEnabled) {\n                if (Cpu.GBCEnabled) {\n                    // See: http://gbdev.gg8.se/wiki/articles/Gameboy_Bootstrap_ROM\n                    // \"The rom dump includes the 256 byte rom (0x0000-0x00FF) and the,\n                    // 1792 byte rom (0x0200-0x08FF) which Dr. Decapitator observed,\n                    // but not the 512 byte rom,\n                    // which may be cpu microcode or lcd color lookup related.\"\n                    // First 0xFF bytes are BOOT rom\n                    if (gameboyOffset < 0x0100) {\n                        return gameboyOffset + BOOT_ROM_LOCATION;\n                    }\n                    // 0x100 -> 0x1FF is the actual ROM\n                    // Everything from 0x200 -> 0x8FF is BOOT ROM Again\n                    if (gameboyOffset > 0x01ff && gameboyOffset < 0x0900) {\n                        return gameboyOffset + BOOT_ROM_LOCATION;\n                    }\n                }\n                else if (!Cpu.GBCEnabled && gameboyOffset < 0x0100) {\n                    return gameboyOffset + BOOT_ROM_LOCATION;\n                }\n            }\n        case 0x01:\n        case 0x02:\n        case 0x03:\n            // Cartridge ROM - Bank 0 (fixed)\n            // 0x0000 -> 0x0D2400\n            return gameboyOffset + CARTRIDGE_ROM_LOCATION;\n        case 0x04:\n        case 0x05:\n        case 0x06:\n        case 0x07:\n            // Cartridge ROM - Switchable Banks 1-xx\n            // 0x4000 -> (0x0D2400 + 0x4000)\n            return getRomBankAddress(gameboyOffset) + CARTRIDGE_ROM_LOCATION;\n        case 0x08:\n        case 0x09:\n            // Video RAM\n            // 0x8000 -> 0x000400\n            var vramBankId = 0;\n            if (Cpu.GBCEnabled) {\n                // Find our current VRAM Bank\n                vramBankId = eightBitLoadFromGBMemory(Memory.memoryLocationGBCVRAMBank) & 0x01;\n                // Even though We added another 0x2000, the Cartridge ram is pulled out of our Internal Memory Space\n                // Therefore, we do not need to adjust for this extra 0x2000\n            }\n            return gameboyOffset - Memory.videoRamLocation + VIDEO_RAM_LOCATION + 0x2000 * vramBankId;\n        case 0x0a:\n        case 0x0b:\n            // Cartridge RAM - A.K.A External RAM\n            // 0xA000 -> 0x008400\n            return getRamBankAddress(gameboyOffset) + CARTRIDGE_RAM_LOCATION;\n        case 0x0c:\n            // Gameboy Ram Bank 0\n            // 0xC000 -> 0x000400\n            // Don't need to add head, since we move out 0x200 from the cartridge ram\n            return gameboyOffset - Memory.internalRamBankZeroLocation + WORK_RAM_LOCATION;\n        case 0x0d:\n            // Gameboy Ram Banks, Switchable in GBC Mode\n            // 0xD000 -> 0x000400\n            // In CGB Mode 32 KBytes internal RAM are available.\n            // This memory is divided into 8 banks of 4 KBytes each.\n            // Bank 0 is always available in memory at C000-CFFF,\n            // Bank 1-7 can be selected into the address space at D000-DFFF.\n            // http://gbdev.gg8.se/wiki/articles/CGB_Registers#FF70_-_SVBK_-_CGB_Mode_Only_-_WRAM_Bank\n            // Get the last 3 bits to find our wram ID\n            var wramBankId = 0;\n            if (Cpu.GBCEnabled) {\n                wramBankId = eightBitLoadFromGBMemory(Memory.memoryLocationGBCWRAMBank) & 0x07;\n            }\n            wramBankId = wramBankId < 1 ? 1 : wramBankId;\n            // (0x1000 * (wramBankId - 1)) -> To find the correct wram bank.\n            // wramBankId - 1, because we alreayd have the space for wramBank 1, and are currently in it\n            // So need to address space for 6 OTHER banks\n            return gameboyOffset - Memory.internalRamBankZeroLocation + WORK_RAM_LOCATION + 0x1000 * (wramBankId - 1);\n        default:\n            // Everything Else after Gameboy Ram Banks\n            // 0xE000 -> 0x000400\n            // 0x6000 For the Extra WRAM Banks\n            return gameboyOffset - Memory.echoRamLocation + OTHER_GAMEBOY_INTERNAL_MEMORY_LOCATION;\n    }\n}\n\n// Breakpoints for memory / cpu\nvar Breakpoints = /** @class */ (function () {\n    function Breakpoints() {\n    }\n    Breakpoints.programCounter = -1;\n    Breakpoints.readGbMemory = -1;\n    Breakpoints.writeGbMemory = -1;\n    Breakpoints.reachedBreakpoint = false;\n    return Breakpoints;\n}());\nfunction setProgramCounterBreakpoint(breakpoint) {\n    Breakpoints.programCounter = breakpoint;\n}\nfunction resetProgramCounterBreakpoint() {\n    Breakpoints.programCounter = -1;\n}\nfunction setReadGbMemoryBreakpoint(breakpoint) {\n    Breakpoints.readGbMemory = breakpoint;\n}\nfunction resetReadGbMemoryBreakpoint() {\n    Breakpoints.readGbMemory = -1;\n}\nfunction setWriteGbMemoryBreakpoint(breakpoint) {\n    Breakpoints.writeGbMemory = breakpoint;\n}\nfunction resetWriteGbMemoryBreakpoint() {\n    Breakpoints.writeGbMemory = -1;\n}\n\n// Store / Write memory access\nfunction eightBitStoreIntoGBMemory(gameboyOffset, value) {\n    store(getWasmBoyOffsetFromGameBoyOffset(gameboyOffset), value);\n}\nfunction eightBitStoreIntoGBMemoryWithTraps(offset, value) {\n    if (offset === Breakpoints.writeGbMemory) {\n        Breakpoints.reachedBreakpoint = true;\n    }\n    if (checkWriteTraps(offset, value)) {\n        eightBitStoreIntoGBMemory(offset, value);\n    }\n}\nfunction sixteenBitStoreIntoGBMemoryWithTraps(offset, value) {\n    // Dividing into two seperate eight bit calls to help with debugging tilemap overwrites\n    // Split the value into two seperate bytes\n    var highByte = splitHighByte(value);\n    var lowByte = splitLowByte(value);\n    if (checkWriteTraps(offset, lowByte)) {\n        eightBitStoreIntoGBMemory(offset, lowByte);\n    }\n    var nextOffset = offset + 1;\n    if (checkWriteTraps(nextOffset, highByte)) {\n        eightBitStoreIntoGBMemory(nextOffset, highByte);\n    }\n}\nfunction sixteenBitStoreIntoGBMemory(offset, value) {\n    // Dividing into two seperate eight bit calls to help with debugging tilemap overwrites\n    // Split the value into two seperate bytes\n    var highByte = splitHighByte(value);\n    var lowByte = splitLowByte(value);\n    eightBitStoreIntoGBMemory(offset + 0, lowByte);\n    eightBitStoreIntoGBMemory(offset + 1, highByte);\n}\nfunction storeBooleanDirectlyToWasmMemory(offset, value) {\n    store(offset, value);\n}\n\n// Funcitons for setting and checking the LCD\nvar Lcd = /** @class */ (function () {\n    function Lcd() {\n    }\n    // Function called in write traps to update our hardware registers\n    Lcd.updateLcdStatus = function (value) {\n        // Bottom three bits are read only\n        var currentLcdStatus = eightBitLoadFromGBMemory(Lcd.memoryLocationLcdStatus);\n        var valueNoBottomBits = value & 0xf8;\n        var lcdStatusOnlyBottomBits = currentLcdStatus & 0x07;\n        value = valueNoBottomBits | lcdStatusOnlyBottomBits;\n        // Top bit is always 1\n        value = setBitOnByte(7, value);\n        eightBitStoreIntoGBMemory(Lcd.memoryLocationLcdStatus, value);\n    };\n    // Function called in write traps to update our hardware registers\n    Lcd.updateLcdControl = function (value) {\n        var wasLcdEnabled = Lcd.enabled;\n        Lcd.enabled = checkBitOnByte(7, value);\n        Lcd.windowTileMapDisplaySelect = checkBitOnByte(6, value);\n        Lcd.windowDisplayEnabled = checkBitOnByte(5, value);\n        Lcd.bgWindowTileDataSelect = checkBitOnByte(4, value);\n        Lcd.bgTileMapDisplaySelect = checkBitOnByte(3, value);\n        Lcd.tallSpriteSize = checkBitOnByte(2, value);\n        Lcd.spriteDisplayEnable = checkBitOnByte(1, value);\n        Lcd.bgDisplayEnabled = checkBitOnByte(0, value);\n        if (wasLcdEnabled && !Lcd.enabled) {\n            // Disable the LCD\n            resetLcd(true);\n        }\n        if (!wasLcdEnabled && Lcd.enabled) {\n            // Re-enable the LCD\n            resetLcd(false);\n        }\n    };\n    // Memory Locations\n    // Also known at STAT\n    // LCD Status (0xFF41) bits Explanation\n    // 0                0                    000                    0             00\n    //       |Coicedence Interrupt|     |Mode Interrupts|  |coincidence flag|  | Mode |\n    // Modes:\n    // 0 or 00: H-Blank\n    // 1 or 01: V-Blank\n    // 2 or 10: Searching Sprites Atts\n    // 3 or 11: Transfering Data to LCD Driver\n    Lcd.memoryLocationLcdStatus = 0xff41;\n    Lcd.currentLcdMode = 0;\n    Lcd.memoryLocationCoincidenceCompare = 0xff45;\n    Lcd.coincidenceCompare = 0;\n    // Also known as LCDC\n    // http://www.codeslinger.co.uk/pages/projects/gameboy/graphics.html\n    // Bit 7 - LCD Display Enable (0=Off, 1=On)\n    // Bit 6 - Window Tile Map Display Select (0=9800-9BFF, 1=9C00-9FFF)\n    // Bit 5 - Window Display Enable (0=Off, 1=On)\n    // Bit 4 - BG & Window Tile Data Select (0=8800-97FF, 1=8000-8FFF)\n    // Bit 3 - BG Tile Map Display Select (0=9800-9BFF, 1=9C00-9FFF)\n    // Bit 2 - OBJ (Sprite) Size (0=8x8, 1=8x16)\n    // Bit 1 - OBJ (Sprite) Display Enable (0=Off, 1=On)\n    // Bit 0 - BG Display (for CGB see below) (0=Off, 1=On\n    Lcd.memoryLocationLcdControl = 0xff40;\n    // Decoupled LCDC for caching\n    Lcd.enabled = true;\n    Lcd.windowTileMapDisplaySelect = false;\n    Lcd.windowDisplayEnabled = false;\n    Lcd.bgWindowTileDataSelect = false;\n    Lcd.bgTileMapDisplaySelect = false;\n    Lcd.tallSpriteSize = false;\n    Lcd.spriteDisplayEnable = false;\n    Lcd.bgDisplayEnabled = false;\n    return Lcd;\n}());\nfunction resetLcd(shouldBlankScreen) {\n    // Reset scanline cycle counter\n    Graphics.scanlineCycleCounter = 0;\n    Graphics.scanlineRegister = 0;\n    eightBitStoreIntoGBMemory(Graphics.memoryLocationScanlineRegister, 0);\n    // Set to mode 0\n    // https://www.reddit.com/r/EmuDev/comments/4w6479/gb_dr_mario_level_generation_issues/\n    var lcdStatus = eightBitLoadFromGBMemory(Lcd.memoryLocationLcdStatus);\n    lcdStatus = resetBitOnByte(1, lcdStatus);\n    lcdStatus = resetBitOnByte(0, lcdStatus);\n    Lcd.currentLcdMode = 0;\n    // Store the status in memory\n    eightBitStoreIntoGBMemory(Lcd.memoryLocationLcdStatus, lcdStatus);\n    // Blank the screen\n    if (shouldBlankScreen) {\n        for (var i = 0; i < FRAME_SIZE; ++i) {\n            store(FRAME_LOCATION + i, 255);\n        }\n    }\n}\n// Pass in the lcd status for performance\n// Inlined because closure compiler inlines\nfunction setLcdStatus() {\n    // Check if the Lcd was disabled\n    if (!Lcd.enabled) {\n        return;\n    }\n    // Get our current scanline, and lcd mode\n    var scanlineRegister = Graphics.scanlineRegister;\n    var lcdMode = Lcd.currentLcdMode;\n    // Default to  H-Blank\n    var newLcdMode = 0;\n    // Find our newLcd mode\n    if (scanlineRegister >= 144) {\n        // VBlank mode\n        newLcdMode = 1;\n    }\n    else {\n        var scanlineCycleCounter = Graphics.scanlineCycleCounter;\n        var MIN_CYCLES_SPRITES_LCD_MODE = Graphics.MIN_CYCLES_SPRITES_LCD_MODE();\n        if (scanlineCycleCounter >= MIN_CYCLES_SPRITES_LCD_MODE) {\n            // Searching Sprites Atts\n            newLcdMode = 2;\n        }\n        else if (scanlineCycleCounter >= MIN_CYCLES_SPRITES_LCD_MODE) {\n            // Transferring data to lcd\n            newLcdMode = 3;\n        }\n    }\n    if (lcdMode !== newLcdMode) {\n        // Get our lcd status\n        var lcdStatus = eightBitLoadFromGBMemory(Lcd.memoryLocationLcdStatus);\n        // Save our lcd mode\n        Lcd.currentLcdMode = newLcdMode;\n        var shouldRequestInterrupt = false;\n        // Set our LCD Status accordingly\n        switch (newLcdMode) {\n            case 0x00:\n                lcdStatus = resetBitOnByte(0, lcdStatus);\n                lcdStatus = resetBitOnByte(1, lcdStatus);\n                shouldRequestInterrupt = checkBitOnByte(3, lcdStatus);\n                break;\n            case 0x01:\n                lcdStatus = resetBitOnByte(1, lcdStatus);\n                lcdStatus = setBitOnByte(0, lcdStatus);\n                shouldRequestInterrupt = checkBitOnByte(4, lcdStatus);\n                break;\n            case 0x02:\n                lcdStatus = resetBitOnByte(0, lcdStatus);\n                lcdStatus = setBitOnByte(1, lcdStatus);\n                shouldRequestInterrupt = checkBitOnByte(5, lcdStatus);\n                break;\n            case 0x03:\n                lcdStatus = setBitOnByte(0, lcdStatus);\n                lcdStatus = setBitOnByte(1, lcdStatus);\n                break;\n        }\n        // Check if we want to request an interrupt, and we JUST changed modes\n        if (shouldRequestInterrupt) {\n            requestLcdInterrupt();\n        }\n        // Check for updating the Hblank HDMA\n        if (newLcdMode === 0) {\n            // Update the Hblank DMA, will simply return if not active\n            updateHblankHdma();\n        }\n        // Check for requesting a VBLANK interrupt\n        if (newLcdMode === 1) {\n            requestVBlankInterrupt();\n        }\n        // Check for the coincidence\n        lcdStatus = checkCoincidence(newLcdMode, lcdStatus);\n        // Finally, save our status\n        eightBitStoreIntoGBMemory(Lcd.memoryLocationLcdStatus, lcdStatus);\n    }\n    else if (scanlineRegister === 153) {\n        // Special Case, need to check LYC\n        // Fix prehistorik man freeze\n        var lcdStatus = eightBitLoadFromGBMemory(Lcd.memoryLocationLcdStatus);\n        lcdStatus = checkCoincidence(newLcdMode, lcdStatus);\n        eightBitStoreIntoGBMemory(Lcd.memoryLocationLcdStatus, lcdStatus);\n    }\n}\nfunction checkCoincidence(lcdMode, lcdStatus) {\n    // Check for the coincidence flag\n    // Need to check on every mode, and not just HBLANK, as checking on hblank breaks shantae, which checks on vblank\n    if ((lcdMode === 0 || lcdMode === 1) && Graphics.scanlineRegister === Lcd.coincidenceCompare) {\n        lcdStatus = setBitOnByte(2, lcdStatus);\n        if (checkBitOnByte(6, lcdStatus)) {\n            requestLcdInterrupt();\n        }\n    }\n    else {\n        lcdStatus = resetBitOnByte(2, lcdStatus);\n    }\n    return lcdStatus;\n}\n\n// Functions for rendering the background\n// NOTE: i32Portable wraps modulo here as somehow it gets converted to a double:\n// https://github.com/torch2424/wasmboy/issues/216\n// Inlined because closure compiler inlines\nfunction renderBackground(scanlineRegister, tileDataMemoryLocation, tileMapMemoryLocation) {\n    // NOTE: Camera is reffering to what you can see inside the 160x144 viewport of the entire rendered 256x256 map.\n    // Get our scrollX and scrollY (u16 to play nice with assemblyscript)\n    // let scrollX: i32 = eightBitLoadFromGBMemory(Graphics.memoryLocationScrollX);\n    // let scrollY: i32 = eightBitLoadFromGBMemory(Graphics.memoryLocationScrollY);\n    var scrollX = Graphics.scrollX;\n    var scrollY = Graphics.scrollY;\n    // Get our current pixel y positon on the 160x144 camera (Row that the scanline draws across)\n    // this is done by getting the current scroll Y position,\n    // and adding it do what Y Value the scanline is drawing on the camera.\n    var pixelYPositionInMap = scanlineRegister + scrollY;\n    // Gameboy camera will \"wrap\" around the background map,\n    // meaning that if the pixelValue is 350, then we need to subtract 256 (decimal) to get it's actual value\n    // pixel values (scrollX and scrollY) range from 0x00 - 0xFF\n    pixelYPositionInMap &= 0x100 - 1;\n    // Draw the Background scanline\n    drawBackgroundWindowScanline(scanlineRegister, tileDataMemoryLocation, tileMapMemoryLocation, pixelYPositionInMap, 0, scrollX);\n}\n// Inlined because closure compiler inlines\nfunction renderWindow(scanlineRegister, tileDataMemoryLocation, tileMapMemoryLocation) {\n    // Get our windowX and windowY\n    // let windowX: i32 = eightBitLoadFromGBMemory(Graphics.memoryLocationWindowX);\n    // let windowY: i32 = eightBitLoadFromGBMemory(Graphics.memoryLocationWindowY);\n    var windowX = Graphics.windowX;\n    var windowY = Graphics.windowY;\n    // NOTE: Camera is reffering to what you can see inside the 160x144 viewport of the entire rendered 256x256 map.\n    // First ensure that the scanline is greater than our window\n    if (scanlineRegister < windowY) {\n        // Window is not within the current camera view\n        return;\n    }\n    // WindowX is offset by 7\n    windowX -= 7;\n    // Get our current pixel y positon on the 160x144 camera (Row that the scanline draws across)\n    var pixelYPositionInMap = scanlineRegister - windowY;\n    // xOffset is simply a neagative window x\n    // NOTE: This can become negative zero?\n    // https://github.com/torch2424/wasmboy/issues/216\n    var xOffset = i32Portable(-windowX);\n    // Draw the Background scanline\n    drawBackgroundWindowScanline(scanlineRegister, tileDataMemoryLocation, tileMapMemoryLocation, pixelYPositionInMap, windowX, xOffset);\n}\n// Function frankenstein'd together to allow background and window to share the same draw scanline function\nfunction drawBackgroundWindowScanline(scanlineRegister, tileDataMemoryLocation, tileMapMemoryLocation, pixelYPositionInMap, iStart, xOffset) {\n    // Get our tile Y position in the map\n    var tileYPositionInMap = pixelYPositionInMap >> 3;\n    // Loop through x to draw the line like a CRT\n    for (var i = iStart; i < 160; ++i) {\n        // Get our Current X position of our pixel on the on the 160x144 camera\n        // this is done by getting the current scroll X position,\n        // and adding it do what X Value the scanline is drawing on the camera.\n        var pixelXPositionInMap = i + xOffset;\n        // This is to compensate wrapping, same as pixelY\n        if (pixelXPositionInMap >= 0x100) {\n            pixelXPositionInMap -= 0x100;\n        }\n        // Divide our pixel position by 8 to get our tile.\n        // Since, there are 256x256 pixels, and 32x32 tiles.\n        // 256 / 8 = 32.\n        // Also, bitshifting by 3, do do a division by 8\n        // Need to use u16s, as they will be used to compute an address, which will cause weird errors and overflows\n        var tileXPositionInMap = pixelXPositionInMap >> 3;\n        // Get our tile address on the tileMap\n        // NOTE: (tileMap represents where each tile is displayed on the screen)\n        // NOTE: (tile map represents the entire map, now just what is within the \"camera\")\n        // For instance, if we have y pixel 144. 144 / 8 = 18. 18 * 32 = line address in map memory.\n        // And we have x pixel 160. 160 / 8 = 20.\n        // * 32, because remember, this is NOT only for the camera, the actual map is 32x32. Therefore, the next tile line of the map, is 32 byte offset.\n        // Think like indexing a 2d array, as a 1d array and it make sense :)\n        var tileMapAddress = tileMapMemoryLocation + (tileYPositionInMap << 5) + tileXPositionInMap;\n        // Get the tile Id on the Tile Map\n        var tileIdFromTileMap = loadFromVramBank(tileMapAddress, 0);\n        // Now that we have our Tile Id, let's check our Tile Cache\n        var usedTileCache = false;\n        if (Config.tileCaching) {\n            var pixelsDrawn = drawLineOfTileFromTileCache(i, scanlineRegister, pixelXPositionInMap, pixelYPositionInMap, tileMapAddress, tileDataMemoryLocation, tileIdFromTileMap);\n            // Increment i by 7, not 8 because i will be incremented at end of for loop\n            if (pixelsDrawn > 0) {\n                i += pixelsDrawn - 1;\n                usedTileCache = true;\n            }\n        }\n        if (Config.tileRendering && !usedTileCache) {\n            var pixelsDrawn = drawLineOfTileFromTileId(i, scanlineRegister, pixelXPositionInMap, pixelYPositionInMap, tileMapAddress, tileDataMemoryLocation, tileIdFromTileMap);\n            // A line of a tile is 8 pixels wide, therefore increase i by (pixelsDrawn - 1), and then the for loop will increment by 1\n            // For a net increment for 8\n            if (pixelsDrawn > 0) {\n                i += pixelsDrawn - 1;\n            }\n        }\n        else if (!usedTileCache) {\n            if (Cpu.GBCEnabled) {\n                // Draw the individual pixel\n                drawColorPixelFromTileId(i, scanlineRegister, pixelXPositionInMap, pixelYPositionInMap, tileMapAddress, tileDataMemoryLocation, tileIdFromTileMap);\n            }\n            else {\n                // Draw the individual pixel\n                drawMonochromePixelFromTileId(i, scanlineRegister, pixelXPositionInMap, pixelYPositionInMap, tileDataMemoryLocation, tileIdFromTileMap);\n            }\n        }\n    }\n}\n// Function to draw a pixel for the standard GB\n// Inlined because closure compiler inlines\nfunction drawMonochromePixelFromTileId(xPixel, yPixel, pixelXPositionInMap, pixelYPositionInMap, tileDataMemoryLocation, tileIdFromTileMap) {\n    // Now we can process the the individual bytes that represent the pixel on a tile\n    // Now get our tileDataAddress for the corresponding tileID we found in the map\n    // Read the comments in _getTileDataAddress() to see what's going on.\n    // tl;dr if we had the tile map of \"a b c d\", and wanted tileId 2.\n    // This funcitons returns the start of memory locaiton for the tile 'c'.\n    var tileDataAddress = getTileDataAddress(tileDataMemoryLocation, tileIdFromTileMap);\n    // Get the y pixel of the 8 by 8 tile.\n    // Simply modulo the scanline.\n    // For instance, let's say we are printing the first line of pixels on our camera,\n    // And the first line of pixels on our tile.\n    // yPixel = 1. 1 % 8 = 1.\n    // And for the last line\n    // yPixel = 144. 144 % 8 = 0.\n    // 0 Represents last line of pixels in a tile, 1 represents first. 1 2 3 4 5 6 7 0.\n    // Because remember, we are counting lines on the display NOT including zero\n    var pixelYInTile = i32Portable(pixelYPositionInMap & 7);\n    // Remember to represent a single line of 8 pixels on a tile, we need two bytes.\n    // Therefore, we need to times our modulo by 2, to get the correct line of pixels on the tile.\n    // Again, think like you had to map a 2d array as a 1d.\n    var byteOneForLineOfTilePixels = loadFromVramBank(tileDataAddress + pixelYInTile * 2, 0);\n    var byteTwoForLineOfTilePixels = loadFromVramBank(tileDataAddress + pixelYInTile * 2 + 1, 0);\n    // Same logic as pixelYInTile.\n    // However, We need to reverse our byte,\n    // As pixel 0 is on byte 7, and pixel 1 is on byte 6, etc...\n    // Therefore, is pixelX was 2, then really is need to be 5\n    // So 2 - 7 = -5, * 1 = 5\n    // Or to simplify, 7 - 2 = 5 haha!\n    var pixelXInTile = i32Portable(pixelXPositionInMap & 7);\n    pixelXInTile = 7 - pixelXInTile;\n    // Now we can get the color for that pixel\n    // Colors are represented by getting X position of ByteTwo, and X positon of Byte One\n    // To Get the color Id.\n    // For example, the result of the color id is 0000 00[xPixelByteTwo][xPixelByteOne]\n    // See: How to draw a tile/sprite from memory: http://www.codeslinger.co.uk/pages/projects/gameboy/graphics.html\n    var paletteColorId = 0;\n    if (checkBitOnByte(pixelXInTile, byteTwoForLineOfTilePixels)) {\n        // Byte one represents the second bit in our color id, so bit shift\n        paletteColorId += 1;\n        paletteColorId = paletteColorId << 1;\n    }\n    if (checkBitOnByte(pixelXInTile, byteOneForLineOfTilePixels)) {\n        paletteColorId += 1;\n    }\n    // Not checking u8 Portability overflow here, since it can't be greater than i32 over :p\n    // Now get the colorId from the pallete, to get our final color\n    // Developers could change colorIds to represents different colors\n    // in their palette, thus we need to grab the color from there\n    //let pixelColorInTileFromPalette: u8 = getColorFromPalette(paletteColorId, Graphics.memoryLocationBackgroundPalette);\n    // Moved below for perofrmance\n    // FINALLY, RENDER THAT PIXEL!\n    // Only rendering camera for now, so coordinates are for the camera.\n    // Get the rgb value for the color Id, will be repeated into R, G, B. if not colorized\n    var hexColor = getColorizedGbHexColorFromPalette(paletteColorId, Graphics.memoryLocationBackgroundPalette);\n    setPixelOnFrame(xPixel, yPixel, 0, getRedFromHexColor(hexColor));\n    setPixelOnFrame(xPixel, yPixel, 1, getGreenFromHexColor(hexColor));\n    setPixelOnFrame(xPixel, yPixel, 2, getBlueFromHexColor(hexColor));\n    // Lastly, add the pixel to our background priority map\n    // https://github.com/torch2424/wasmBoy/issues/51\n    // Bits 0 & 1 will represent the color Id drawn by the BG/Window\n    // Bit 2 will represent if the Bg/Window has GBC priority.\n    addPriorityforPixel(xPixel, yPixel, paletteColorId);\n}\n// Function to draw a pixel from a tile in C O L O R\n// See above for more context on some variables\n// Inlined because closure compiler inlines\nfunction drawColorPixelFromTileId(xPixel, yPixel, pixelXPositionInMap, pixelYPositionInMap, tileMapAddress, tileDataMemoryLocation, tileIdFromTileMap) {\n    // Now get our tileDataAddress for the corresponding tileID we found in the map\n    // Read the comments in _getTileDataAddress() to see what's going on.\n    // tl;dr if we had the tile map of \"a b c d\", and wanted tileId 2.\n    // This funcitons returns the start of memory locaiton for the tile 'c'.\n    var tileDataAddress = getTileDataAddress(tileDataMemoryLocation, tileIdFromTileMap);\n    // Get the GB Map Attributes\n    // Bit 0-2  Background Palette number  (BGP0-7)\n    // Bit 3    Tile VRAM Bank number      (0=Bank 0, 1=Bank 1)\n    // Bit 4    Not used\n    // Bit 5    Horizontal Flip            (0=Normal, 1=Mirror horizontally)\n    // Bit 6    Vertical Flip              (0=Normal, 1=Mirror vertically)\n    // Bit 7    BG-to-OAM Priority         (0=Use OAM priority bit, 1=BG Priority)\n    var bgMapAttributes = loadFromVramBank(tileMapAddress, 1);\n    // See above for explanation\n    var pixelYInTile = i32Portable(pixelYPositionInMap & 7);\n    if (checkBitOnByte(6, bgMapAttributes)) {\n        // We are mirroring the tile, therefore, we need to opposite byte\n        // So if our pixel was 0 our of 8, it wild become 7 :)\n        pixelYInTile = 7 - pixelYInTile;\n    }\n    // Remember to represent a single line of 8 pixels on a tile, we need two bytes.\n    // Therefore, we need to times our modulo by 2, to get the correct line of pixels on the tile.\n    // But we need to load the time from a specific Vram bank\n    var vramBankId = i32Portable(checkBitOnByte(3, bgMapAttributes));\n    var byteOneForLineOfTilePixels = loadFromVramBank(tileDataAddress + pixelYInTile * 2, vramBankId);\n    var byteTwoForLineOfTilePixels = loadFromVramBank(tileDataAddress + pixelYInTile * 2 + 1, vramBankId);\n    // Get our X pixel. Need to NOT reverse it if it was flipped.\n    // See above, you have to reverse this normally\n    var pixelXInTile = i32Portable(pixelXPositionInMap & 7);\n    if (!checkBitOnByte(5, bgMapAttributes)) {\n        pixelXInTile = 7 - pixelXInTile;\n    }\n    // Now we can get the color for that pixel\n    // Colors are represented by getting X position of ByteTwo, and X positon of Byte One\n    // To Get the color Id.\n    // For example, the result of the color id is 0000 00[xPixelByteTwo][xPixelByteOne]\n    // See: How to draw a tile/sprite from memory: http://www.codeslinger.co.uk/pages/projects/gameboy/graphics.html\n    var paletteColorId = 0;\n    if (checkBitOnByte(pixelXInTile, byteTwoForLineOfTilePixels)) {\n        // Byte one represents the second bit in our color id, so bit shift\n        paletteColorId += 1;\n        paletteColorId = paletteColorId << 1;\n    }\n    if (checkBitOnByte(pixelXInTile, byteOneForLineOfTilePixels)) {\n        paletteColorId += 1;\n    }\n    // Finally lets add some, C O L O R\n    // Want the botom 3 bits\n    var bgPalette = bgMapAttributes & 0x07;\n    // Call the helper function to grab the correct color from the palette\n    var rgbColorPalette = getRgbColorFromPalette(bgPalette, paletteColorId, false);\n    // Split off into red green and blue\n    var red = getColorComponentFromRgb(0, rgbColorPalette);\n    var green = getColorComponentFromRgb(1, rgbColorPalette);\n    var blue = getColorComponentFromRgb(2, rgbColorPalette);\n    // Finally Place our colors on the things\n    setPixelOnFrame(xPixel, yPixel, 0, red);\n    setPixelOnFrame(xPixel, yPixel, 1, green);\n    setPixelOnFrame(xPixel, yPixel, 2, blue);\n    // Lastly, add the pixel to our background priority map\n    // https://github.com/torch2424/wasmBoy/issues/51\n    // Bits 0 & 1 will represent the color Id drawn by the BG/Window\n    // Bit 2 will represent if the Bg/Window has GBC priority.\n    addPriorityforPixel(xPixel, yPixel, paletteColorId, checkBitOnByte(7, bgMapAttributes));\n}\n// Function to attempt to draw the tile from the tile cache\n// Inlined because closure compiler inlines\nfunction drawLineOfTileFromTileCache(xPixel, yPixel, pixelXPositionInMap, pixelYPositionInMap, tileMapAddress, tileDataMemoryLocation, tileIdFromTileMap) {\n    // First, initialize how many pixels we have drawn\n    var pixelsDrawn = 0;\n    // Check if the current tile matches our tileId\n    // TODO: Allow the first line to use the tile cache, for some odd reason it doesn't work when scanline is 0\n    var nextXIndexToPerformCacheCheck = TileCache.nextXIndexToPerformCacheCheck;\n    if (yPixel > 0 && xPixel > 8 && tileIdFromTileMap === TileCache.tileId && xPixel === nextXIndexToPerformCacheCheck) {\n        // Was last tile flipped\n        var wasLastTileHorizontallyFlipped = checkBitOnByte(5, eightBitLoadFromGBMemory(tileMapAddress - 1));\n        var isCurrentTileHorizontallyFlipped = checkBitOnByte(5, eightBitLoadFromGBMemory(tileMapAddress));\n        // Simply copy the last 8 pixels from memory to copy the line from the tile\n        for (var tileCacheIndex = 0; tileCacheIndex < 8; ++tileCacheIndex) {\n            // Check if we need to render backwards for flipping\n            if (wasLastTileHorizontallyFlipped !== isCurrentTileHorizontallyFlipped) {\n                tileCacheIndex = 7 - tileCacheIndex;\n            }\n            var xPos = xPixel + tileCacheIndex;\n            // First check for overflow\n            if (xPos <= 160) {\n                // Get the pixel location in memory of the tile\n                var previousXPixel = xPixel - (8 - tileCacheIndex);\n                var previousTilePixelLocation = FRAME_LOCATION + getRgbPixelStart(xPos, yPixel);\n                // Cycle through the RGB\n                // for (let tileCacheRgb = 0; tileCacheRgb < 3; ++tileCacheRgb) {\n                //  setPixelOnFrame(xPixel + tileCacheIndex, yPixel, tileCacheRgb, load<u8>(previousTilePixelLocation + tileCacheRgb));\n                // }\n                // unroll\n                setPixelOnFrame(xPos, yPixel, 0, load(previousTilePixelLocation, 0));\n                setPixelOnFrame(xPos, yPixel, 1, load(previousTilePixelLocation, 1));\n                setPixelOnFrame(xPos, yPixel, 2, load(previousTilePixelLocation, 2));\n                // Copy the priority for the pixel\n                var pixelPriority = getPriorityforPixel(previousXPixel, yPixel);\n                addPriorityforPixel(xPos, yPixel, resetBitOnByte(2, pixelPriority), checkBitOnByte(2, pixelPriority));\n                pixelsDrawn++;\n            }\n        }\n    }\n    else {\n        // Save our current tile Id, and the next x value we should check the x index\n        TileCache.tileId = tileIdFromTileMap;\n    }\n    // Calculate when we should do the tileCache calculation again\n    if (xPixel >= nextXIndexToPerformCacheCheck) {\n        nextXIndexToPerformCacheCheck = xPixel + 8;\n        var xOffsetTileWidthRemainder = i32Portable(pixelXPositionInMap & 7);\n        if (xPixel < xOffsetTileWidthRemainder) {\n            nextXIndexToPerformCacheCheck += xOffsetTileWidthRemainder;\n        }\n    }\n    TileCache.nextXIndexToPerformCacheCheck = nextXIndexToPerformCacheCheck;\n    return pixelsDrawn;\n}\n// Function to draw a line of a tile in Color\n// This is for tile rendering shortcuts\n// Inlined because closure compiler inlines\nfunction drawLineOfTileFromTileId(xPixel, yPixel, pixelXPositionInMap, pixelYPositionInMap, tileMapAddress, tileDataMemoryLocation, tileIdFromTileMap) {\n    // Get the which line of the tile we are rendering\n    var tileLineY = i32Portable(pixelYPositionInMap & 7);\n    // Now lets find our tileX start and end\n    // This is for the case where i = 0, but scroll X was 3.\n    // Or i is 157, and our camera is only 160 pixels wide\n    var tileXStart = 0;\n    if (xPixel == 0) {\n        tileXStart = pixelXPositionInMap - ((pixelXPositionInMap >> 3) << 3);\n    }\n    var tileXEnd = 7;\n    if (xPixel + 8 > 160) {\n        tileXEnd = 160 - xPixel;\n    }\n    // initialize some variables for GBC\n    var bgMapAttributes = -1;\n    var vramBankId = 0;\n    if (Cpu.GBCEnabled) {\n        // Get Our GBC properties\n        bgMapAttributes = loadFromVramBank(tileMapAddress, 1);\n        vramBankId = i32Portable(checkBitOnByte(3, bgMapAttributes));\n        if (checkBitOnByte(6, bgMapAttributes)) {\n            // We are mirroring the tile, therefore, we need to opposite byte\n            // So if our pixel was 0 our of 8, it wild become 7 :)\n            tileLineY = 7 - tileLineY;\n        }\n    }\n    // Return the number of pixels drawn\n    return drawPixelsFromLineOfTile(tileIdFromTileMap, tileDataMemoryLocation, vramBankId, tileXStart, tileXEnd, tileLineY, xPixel, yPixel, 160, FRAME_LOCATION, false, 0, bgMapAttributes, -1);\n}\n\n// Functions for rendering the sprites\n// Inlined because closure compiler inlines\nfunction renderSprites(scanlineRegister, useLargerSprites) {\n    // Need to loop through all 40 sprites to check their status\n    // Going backwards since lower sprites draw over higher ones\n    // Will fix dragon warrior 3 intro\n    for (var i = 39; i >= 0; --i) {\n        // Sprites occupy 4 bytes in the sprite attribute table\n        var spriteTableIndex = i * 4;\n        // Y positon is offset by 16, X position is offset by 8\n        var index = Graphics.memoryLocationSpriteAttributesTable + spriteTableIndex;\n        var spriteYPosition = eightBitLoadFromGBMemory(index + 0);\n        var spriteXPosition = eightBitLoadFromGBMemory(index + 1);\n        var spriteTileId = eightBitLoadFromGBMemory(index + 2);\n        // Pan docs of sprite attirbute table\n        // Bit7   OBJ-to-BG Priority (0=OBJ Above BG, 1=OBJ Behind BG color 1-3)\n        //      (Used for both BG and Window. BG color 0 is always behind OBJ)\n        // Bit6   Y flip          (0=Normal, 1=Vertically mirrored)\n        // Bit5   X flip          (0=Normal, 1=Horizontally mirrored)\n        // Bit4   Palette number  **Non CGB Mode Only** (0=OBP0, 1=OBP1)\n        // Bit3   Tile VRAM-Bank  **CGB Mode Only**     (0=Bank 0, 1=Bank 1)\n        // Bit2-0 Palette number  **CGB Mode Only**     (OBP0-7)\n        // Apply sprite X and Y offset\n        // TODO: Sprites are overflowing on x if less than 8\n        spriteYPosition -= 16;\n        spriteXPosition -= 8;\n        // Find our sprite height\n        var spriteHeight = 8;\n        if (useLargerSprites) {\n            spriteHeight = 16;\n            // @binji says in 8x16 mode, even tileId always drawn first\n            // This will fix shantae sprites which always uses odd numbered indexes\n            // TODO: Do the actual Pandocs thing:\n            // \"In 8x16 mode, the lower bit of the tile number is ignored. Ie. the upper 8x8 tile is \"NN AND FEh\", and the lower 8x8 tile is \"NN OR 01h\".\"\n            // So just knock off the last bit? :)\n            spriteTileId -= spriteTileId & 1;\n        }\n        // Find if our sprite is on the current scanline\n        if (scanlineRegister >= spriteYPosition && scanlineRegister < spriteYPosition + spriteHeight) {\n            // Then we need to draw the current sprite\n            // Get our sprite attributes since we know we shall be drawing the tile\n            var spriteAttributes = eightBitLoadFromGBMemory(Graphics.memoryLocationSpriteAttributesTable + spriteTableIndex + 3);\n            // Check sprite Priority\n            var isSpritePriorityBehindWindowAndBackground = checkBitOnByte(7, spriteAttributes);\n            // Check if we should flip the sprite on the x or y axis\n            var flipSpriteY = checkBitOnByte(6, spriteAttributes);\n            var flipSpriteX = checkBitOnByte(5, spriteAttributes);\n            // TODO: Torch2424 continue here.\n            // Find which line on the sprite we are on\n            var currentSpriteLine = scanlineRegister - spriteYPosition;\n            // If we fliiped the Y axis on our sprite, need to read from memory backwards to acheive the same effect\n            if (flipSpriteY) {\n                currentSpriteLine = spriteHeight - currentSpriteLine;\n                // Bug fix for the flipped flies in link's awakening\n                currentSpriteLine -= 1;\n            }\n            // Each line of a tile takes two bytes of memory\n            currentSpriteLine <<= 1;\n            // Get our sprite tile address, need to also add the current sprite line to get the correct bytes\n            var spriteTileAddressStart = getTileDataAddress(Graphics.memoryLocationTileDataSelectOneStart, spriteTileId);\n            spriteTileAddressStart += currentSpriteLine;\n            var spriteTileAddress = spriteTileAddressStart;\n            // Find which VRAM Bank to load from\n            var vramBankId = (Cpu.GBCEnabled && checkBitOnByte(3, spriteAttributes));\n            var spriteDataByteOneForLineOfTilePixels = loadFromVramBank(spriteTileAddress + 0, vramBankId);\n            var spriteDataByteTwoForLineOfTilePixels = loadFromVramBank(spriteTileAddress + 1, vramBankId);\n            // Iterate over the width of our sprite to find our individual pixels\n            for (var tilePixel = 7; tilePixel >= 0; --tilePixel) {\n                // Get our spritePixel, and check for flipping\n                var spritePixelXInTile = tilePixel;\n                if (flipSpriteX) {\n                    spritePixelXInTile -= 7;\n                    spritePixelXInTile = -spritePixelXInTile;\n                }\n                // Get the color Id of our sprite, similar to renderBackground()\n                // With the first byte, and second byte lined up method thing\n                // Yes, the second byte comes before the first, see ./background.ts\n                var spriteColorId = 0;\n                if (checkBitOnByte(spritePixelXInTile, spriteDataByteTwoForLineOfTilePixels)) {\n                    // Byte one represents the second bit in our color id, so bit shift\n                    spriteColorId = (spriteColorId + 1) << 1;\n                }\n                if (checkBitOnByte(spritePixelXInTile, spriteDataByteOneForLineOfTilePixels)) {\n                    spriteColorId += 1;\n                }\n                // ColorId zero (last two bits of pallette) are transparent\n                // http://gbdev.gg8.se/wiki/articles/Video_Display\n                if (spriteColorId !== 0) {\n                    // Find our actual X pixel location on the gameboy \"camera\" view\n                    // This cannot be less than zero, i32 will overflow\n                    var spriteXPixelLocationInCameraView = spriteXPosition + (7 - tilePixel);\n                    if (spriteXPixelLocationInCameraView >= 0 && spriteXPixelLocationInCameraView <= 160) {\n                        // There are two cases where wouldnt draw the pixel on top of the Bg/window\n                        // 1. if isSpritePriorityBehindWindowAndBackground, sprite can only draw over color 0\n                        // 2. if bit 2 of our priority is set, then BG-to-OAM Priority from pandoc\n                        //  is active, meaning BG tile will have priority above all OBJs\n                        //  (regardless of the priority bits in OAM memory)\n                        // But if GBC and Bit 0 of LCDC is set, we always draw the object\n                        var shouldShowFromLcdcPriority = Cpu.GBCEnabled && !Lcd.bgDisplayEnabled; // LCDC Priority\n                        var shouldHideFromOamPriority = false;\n                        var shouldHideFromBgPriority = false;\n                        if (!shouldShowFromLcdcPriority) {\n                            // Now that we have our coordinates, check for sprite priority\n                            // Lets get the priority byte we put in memory\n                            var bgPriorityByte = getPriorityforPixel(spriteXPixelLocationInCameraView, scanlineRegister);\n                            var bgColorFromPriorityByte = bgPriorityByte & 0x03;\n                            // Doing an else if, since either will automatically stop drawing the pixel\n                            if (isSpritePriorityBehindWindowAndBackground && bgColorFromPriorityByte > 0) {\n                                // OAM Priority\n                                shouldHideFromOamPriority = true;\n                            }\n                            else if (Cpu.GBCEnabled && checkBitOnByte(2, bgPriorityByte) && bgColorFromPriorityByte > 0) {\n                                // Bg priority\n                                shouldHideFromBgPriority = true;\n                            }\n                        }\n                        if (shouldShowFromLcdcPriority || (!shouldHideFromOamPriority && !shouldHideFromBgPriority)) {\n                            if (!Cpu.GBCEnabled) {\n                                // Get our monochrome color RGB from the current sprite pallete\n                                // Get our sprite pallete\n                                var spritePaletteLocation = Graphics.memoryLocationSpritePaletteOne;\n                                if (checkBitOnByte(4, spriteAttributes)) {\n                                    spritePaletteLocation = Graphics.memoryLocationSpritePaletteTwo;\n                                }\n                                var hexColor = getColorizedGbHexColorFromPalette(spriteColorId, spritePaletteLocation);\n                                // Finally set the pixel!\n                                setPixelOnFrame(spriteXPixelLocationInCameraView, scanlineRegister, 0, getRedFromHexColor(hexColor));\n                                setPixelOnFrame(spriteXPixelLocationInCameraView, scanlineRegister, 1, getGreenFromHexColor(hexColor));\n                                setPixelOnFrame(spriteXPixelLocationInCameraView, scanlineRegister, 2, getBlueFromHexColor(hexColor));\n                            }\n                            else {\n                                // Get our RGB Color\n                                // Finally lets add some, C O L O R\n                                // Want the botom 3 bits\n                                var bgPalette = spriteAttributes & 0x07;\n                                // Call the helper function to grab the correct color from the palette\n                                var rgbColorPalette = getRgbColorFromPalette(bgPalette, spriteColorId, true);\n                                // Split off into red green and blue\n                                var red = getColorComponentFromRgb(0, rgbColorPalette);\n                                var green = getColorComponentFromRgb(1, rgbColorPalette);\n                                var blue = getColorComponentFromRgb(2, rgbColorPalette);\n                                // Finally Place our colors on the things\n                                setPixelOnFrame(spriteXPixelLocationInCameraView, scanlineRegister, 0, red);\n                                setPixelOnFrame(spriteXPixelLocationInCameraView, scanlineRegister, 1, green);\n                                setPixelOnFrame(spriteXPixelLocationInCameraView, scanlineRegister, 2, blue);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n\n// Main Class and funcitons for rendering the gameboy display\nvar Graphics = /** @class */ (function () {\n    function Graphics() {\n    }\n    // Number of cycles to run in each batch process\n    // This number should be in sync so that graphics doesn't run too many cyles at once\n    // and does not exceed the minimum number of cyles for either scanlines, or\n    // How often we change the frame, or a channel's update process\n    Graphics.batchProcessCycles = function () {\n        return Graphics.MAX_CYCLES_PER_SCANLINE();\n    };\n    // TCAGBD says 456 per scanline, but 153 only a handful\n    Graphics.MAX_CYCLES_PER_SCANLINE = function () {\n        if (Graphics.scanlineRegister === 153) {\n            return 4 << Cpu.GBCDoubleSpeed;\n        }\n        else {\n            return 456 << Cpu.GBCDoubleSpeed;\n        }\n    };\n    Graphics.MIN_CYCLES_SPRITES_LCD_MODE = function () {\n        // TODO: Confirm these clock cyles, double similar to scanline, which TCAGBD did\n        return 376 << Cpu.GBCDoubleSpeed;\n    };\n    Graphics.MIN_CYCLES_TRANSFER_DATA_LCD_MODE = function () {\n        // TODO: Confirm these clock cyles, double similar to scanline, which TCAGBD did\n        return 249 << Cpu.GBCDoubleSpeed;\n    };\n    // Function to save the state of the class\n    Graphics.saveState = function () {\n        // Graphics\n        store(getSaveStateMemoryOffset(0x00, Graphics.saveStateSlot), Graphics.scanlineCycleCounter);\n        store(getSaveStateMemoryOffset(0x04, Graphics.saveStateSlot), Graphics.scanlineRegister);\n        store(getSaveStateMemoryOffset(0x05, Graphics.saveStateSlot), Graphics.scrollX);\n        store(getSaveStateMemoryOffset(0x06, Graphics.saveStateSlot), Graphics.scrollY);\n        store(getSaveStateMemoryOffset(0x07, Graphics.saveStateSlot), Graphics.windowX);\n        store(getSaveStateMemoryOffset(0x08, Graphics.saveStateSlot), Graphics.windowY);\n        // LCD\n        store(getSaveStateMemoryOffset(0x09, Graphics.saveStateSlot), Lcd.currentLcdMode);\n        store(getSaveStateMemoryOffset(0x0a, Graphics.saveStateSlot), Lcd.coincidenceCompare);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x0b, Graphics.saveStateSlot), Lcd.enabled);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x0c, Graphics.saveStateSlot), Lcd.windowTileMapDisplaySelect);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x0d, Graphics.saveStateSlot), Lcd.windowDisplayEnabled);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x0e, Graphics.saveStateSlot), Lcd.bgWindowTileDataSelect);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x0f, Graphics.saveStateSlot), Lcd.bgTileMapDisplaySelect);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x10, Graphics.saveStateSlot), Lcd.tallSpriteSize);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x11, Graphics.saveStateSlot), Lcd.spriteDisplayEnable);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x12, Graphics.saveStateSlot), Lcd.bgDisplayEnabled);\n    };\n    // Function to load the save state from memory\n    Graphics.loadState = function () {\n        // Graphics\n        Graphics.scanlineCycleCounter = load(getSaveStateMemoryOffset(0x00, Graphics.saveStateSlot));\n        Graphics.scanlineRegister = load(getSaveStateMemoryOffset(0x04, Graphics.scanlineRegister));\n        Graphics.scrollX = load(getSaveStateMemoryOffset(0x05, Graphics.saveStateSlot));\n        Graphics.scrollY = load(getSaveStateMemoryOffset(0x06, Graphics.saveStateSlot));\n        Graphics.windowX = load(getSaveStateMemoryOffset(0x07, Graphics.saveStateSlot));\n        Graphics.windowY = load(getSaveStateMemoryOffset(0x08, Graphics.saveStateSlot));\n        // LCD\n        Lcd.currentLcdMode = load(getSaveStateMemoryOffset(0x09, Graphics.saveStateSlot));\n        Lcd.coincidenceCompare = load(getSaveStateMemoryOffset(0x0a, Graphics.saveStateSlot));\n        Lcd.enabled = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x0b, Graphics.saveStateSlot));\n        Lcd.windowTileMapDisplaySelect = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x0c, Graphics.saveStateSlot));\n        Lcd.windowDisplayEnabled = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x0d, Graphics.saveStateSlot));\n        Lcd.bgWindowTileDataSelect = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x0e, Graphics.saveStateSlot));\n        Lcd.bgTileMapDisplaySelect = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x0f, Graphics.saveStateSlot));\n        Lcd.tallSpriteSize = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x10, Graphics.saveStateSlot));\n        Lcd.spriteDisplayEnable = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x11, Graphics.saveStateSlot));\n        Lcd.bgDisplayEnabled = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x12, Graphics.saveStateSlot));\n    };\n    // Current cycles\n    // This will be used for batch processing\n    Graphics.currentCycles = 0;\n    // Count the number of cycles to keep synced with cpu cycles\n    // Found GBC cycles by finding clock speed from Gb Cycles\n    // See TCAGBD For cycles\n    Graphics.scanlineCycleCounter = 0x00;\n    // LCD\n    // scanlineRegister also known as LY\n    // See: http://bgb.bircd.org/pandocs.txt , and search \" LY \"\n    Graphics.memoryLocationScanlineRegister = 0xff44;\n    Graphics.scanlineRegister = 0;\n    Graphics.memoryLocationDmaTransfer = 0xff46;\n    // Scroll and Window\n    Graphics.memoryLocationScrollX = 0xff43;\n    Graphics.scrollX = 0;\n    Graphics.memoryLocationScrollY = 0xff42;\n    Graphics.scrollY = 0;\n    Graphics.memoryLocationWindowX = 0xff4b;\n    Graphics.windowX = 0;\n    Graphics.memoryLocationWindowY = 0xff4a;\n    Graphics.windowY = 0;\n    // Tile Maps And Data\n    Graphics.memoryLocationTileMapSelectZeroStart = 0x9800;\n    Graphics.memoryLocationTileMapSelectOneStart = 0x9c00;\n    Graphics.memoryLocationTileDataSelectZeroStart = 0x8800;\n    Graphics.memoryLocationTileDataSelectOneStart = 0x8000;\n    // Sprites\n    Graphics.memoryLocationSpriteAttributesTable = 0xfe00;\n    // Palettes\n    Graphics.memoryLocationBackgroundPalette = 0xff47;\n    Graphics.memoryLocationSpritePaletteOne = 0xff48;\n    Graphics.memoryLocationSpritePaletteTwo = 0xff49;\n    // Screen data needs to be stored in wasm memory\n    // Save States\n    Graphics.saveStateSlot = 1;\n    return Graphics;\n}());\n// Batch Process Graphics\n// http://gameboy.mongenel.com/dmg/asmmemmap.html and http://gbdev.gg8.se/wiki/articles/Video_Display\n// Function to batch process our graphics after we skipped so many cycles\n// This is not currently checked in memory read/write\nfunction batchProcessGraphics() {\n    var batchProcessCycles = Graphics.batchProcessCycles();\n    while (Graphics.currentCycles >= batchProcessCycles) {\n        updateGraphics(batchProcessCycles);\n        Graphics.currentCycles -= batchProcessCycles;\n    }\n}\n// Inlined because closure compiler inlines\nfunction initializeGraphics() {\n    // Reset Stateful Variables\n    Graphics.currentCycles = 0;\n    Graphics.scanlineCycleCounter = 0x00;\n    Graphics.scanlineRegister = 0;\n    Graphics.scrollX = 0;\n    Graphics.scrollY = 0;\n    Graphics.windowX = 0;\n    Graphics.windowY = 0;\n    Graphics.scanlineRegister = 0x90;\n    if (Cpu.GBCEnabled) {\n        eightBitStoreIntoGBMemory(0xff41, 0x81);\n        // 0xFF42 -> 0xFF43 = 0x00\n        eightBitStoreIntoGBMemory(0xff44, 0x90);\n        // 0xFF45 -> 0xFF46 = 0x00\n        eightBitStoreIntoGBMemory(0xff47, 0xfc);\n        // 0xFF48 -> 0xFF4B = 0x00\n    }\n    else {\n        eightBitStoreIntoGBMemory(0xff41, 0x85);\n        // 0xFF42 -> 0xFF45 = 0x00\n        eightBitStoreIntoGBMemory(0xff46, 0xff);\n        eightBitStoreIntoGBMemory(0xff47, 0xfc);\n        eightBitStoreIntoGBMemory(0xff48, 0xff);\n        eightBitStoreIntoGBMemory(0xff49, 0xff);\n        // 0xFF4A -> 0xFF4B = 0x00\n        // GBC VRAM Banks (Handled by Memory, initializeCartridge)\n    }\n    // Scanline\n    // Bgb says LY is 90 on boot\n    Graphics.scanlineRegister = 0x90;\n    // LCDC register\n    eightBitStoreIntoGBMemory(0xff40, 0x91);\n    // GBC VRAM Banks\n    eightBitStoreIntoGBMemory(0xff4f, 0x00);\n    eightBitStoreIntoGBMemory(0xff70, 0x01);\n    // Override/reset some variables if the boot ROM is enabled\n    if (Cpu.BootROMEnabled) {\n        if (Cpu.GBCEnabled) {\n            // GBC\n            Graphics.scanlineRegister = 0x00;\n            eightBitStoreIntoGBMemory(0xff40, 0x00);\n            eightBitStoreIntoGBMemory(0xff41, 0x80);\n            eightBitStoreIntoGBMemory(0xff44, 0x00);\n        }\n        else {\n            // GB\n            Graphics.scanlineRegister = 0x00;\n            eightBitStoreIntoGBMemory(0xff40, 0x00);\n            eightBitStoreIntoGBMemory(0xff41, 0x84);\n        }\n    }\n    initializeColors();\n}\nfunction updateGraphics(numberOfCycles) {\n    if (Lcd.enabled) {\n        Graphics.scanlineCycleCounter += numberOfCycles;\n        var graphicsDisableScanlineRendering = Config.graphicsDisableScanlineRendering;\n        while (Graphics.scanlineCycleCounter >= Graphics.MAX_CYCLES_PER_SCANLINE()) {\n            // Reset the scanlineCycleCounter\n            // Don't set to zero to catch extra cycles\n            Graphics.scanlineCycleCounter -= Graphics.MAX_CYCLES_PER_SCANLINE();\n            // Move to next scanline\n            // let scanlineRegister: i32 = eightBitLoadFromGBMemory(Graphics.memoryLocationScanlineRegister);\n            var scanlineRegister = Graphics.scanlineRegister;\n            // Check if we've reached the last scanline\n            if (scanlineRegister === 144) {\n                // Draw the scanline\n                if (!graphicsDisableScanlineRendering) {\n                    _drawScanline(scanlineRegister);\n                }\n                else {\n                    _renderEntireFrame();\n                }\n                // Clear the priority map\n                clearPriorityMap();\n                // Reset the tile cache\n                resetTileCache();\n            }\n            else if (scanlineRegister < 144) {\n                // Draw the scanline\n                if (!graphicsDisableScanlineRendering) {\n                    _drawScanline(scanlineRegister);\n                }\n            }\n            // Post increment the scanline register after drawing\n            // TODO: Need to fix graphics timing\n            if (scanlineRegister > 153) {\n                // Check if we overflowed scanlines\n                // if so, reset our scanline number\n                scanlineRegister = 0;\n            }\n            else {\n                scanlineRegister += 1;\n            }\n            // Store our new scanline value\n            Graphics.scanlineRegister = scanlineRegister;\n            // eightBitStoreIntoGBMemory(Graphics.memoryLocationScanlineRegister, scanlineRegister);\n        }\n    }\n    // Games like Pokemon crystal want the vblank right as it turns to the value, and not have it increment after\n    // It will break and lead to an infinite loop in crystal\n    // Therefore, we want to be checking/Setting our LCD status after the scanline updates\n    setLcdStatus();\n}\n// TODO: Make this a _drawPixelOnScanline, as values can be updated while drawing a scanline\nfunction _drawScanline(scanlineRegister) {\n    // Get our seleted tile data memory location\n    var tileDataMemoryLocation = Graphics.memoryLocationTileDataSelectZeroStart;\n    if (Lcd.bgWindowTileDataSelect) {\n        tileDataMemoryLocation = Graphics.memoryLocationTileDataSelectOneStart;\n    }\n    // Check if the background is enabled\n    // NOTE: On Gameboy color, Pandocs says this does something completely different\n    // LCDC.0 - 2) CGB in CGB Mode: BG and Window Master Priority\n    // When Bit 0 is cleared, the background and window lose their priority -\n    // the sprites will be always displayed on top of background and window,\n    // independently of the priority flags in OAM and BG Map attributes.\n    // TODO: Enable this different feature for GBC\n    if (Cpu.GBCEnabled || Lcd.bgDisplayEnabled) {\n        // Get our map memory location\n        var tileMapMemoryLocation = Graphics.memoryLocationTileMapSelectZeroStart;\n        if (Lcd.bgTileMapDisplaySelect) {\n            tileMapMemoryLocation = Graphics.memoryLocationTileMapSelectOneStart;\n        }\n        // Finally, pass everything to draw the background\n        renderBackground(scanlineRegister, tileDataMemoryLocation, tileMapMemoryLocation);\n    }\n    // Check if the window is enabled, and we are currently\n    // Drawing lines on the window\n    if (Lcd.windowDisplayEnabled) {\n        // Get our map memory location\n        var tileMapMemoryLocation = Graphics.memoryLocationTileMapSelectZeroStart;\n        if (Lcd.windowTileMapDisplaySelect) {\n            tileMapMemoryLocation = Graphics.memoryLocationTileMapSelectOneStart;\n        }\n        // Finally, pass everything to draw the background\n        renderWindow(scanlineRegister, tileDataMemoryLocation, tileMapMemoryLocation);\n    }\n    if (Lcd.spriteDisplayEnable) {\n        // Sprites are enabled, render them!\n        renderSprites(scanlineRegister, Lcd.tallSpriteSize);\n    }\n}\n// Function to render everything for a frame at once\n// This is to improve performance\n// See above for comments on how things are donw\nfunction _renderEntireFrame() {\n    // Scanline needs to be in sync while we draw, thus, we can't shortcut anymore than here\n    for (var i = 0; i <= 144; ++i) {\n        _drawScanline(i);\n    }\n}\n// Function to get the start of a RGB pixel (R, G, B)\n// Inlined because closure compiler inlines\nfunction getRgbPixelStart(x, y) {\n    // Get the pixel number\n    // let pixelNumber: i32 = (y * 160) + x;\n    // Each pixel takes 3 slots, therefore, multiply by 3!\n    return (y * 160 + x) * 3;\n}\n// Also need to store current frame in memory to be read by JS\nfunction setPixelOnFrame(x, y, colorId, color) {\n    // Currently only supports 160x144\n    // Storing in X, then y\n    // So need an offset\n    store(FRAME_LOCATION + getRgbPixelStart(x, y) + colorId, color);\n}\n// Function to shortcut the memory map, and load directly from the VRAM Bank\nfunction loadFromVramBank(gameboyOffset, vramBankId) {\n    var wasmBoyAddress = gameboyOffset - Memory.videoRamLocation + GAMEBOY_INTERNAL_MEMORY_LOCATION + 0x2000 * (vramBankId & 0x01);\n    return load(wasmBoyAddress);\n}\n\n// Returns -1 if no trap found, otherwise returns a value that should be fed for the address\nfunction checkReadTraps(offset) {\n    // Cache globals used multiple times for performance\n    var videoRamLocation = Memory.videoRamLocation;\n    // Try to break early for most common scenario\n    if (offset < videoRamLocation) {\n        return -1;\n    }\n    // Check the graphics mode to see if we can read VRAM\n    // http://gbdev.gg8.se/wiki/articles/Video_Display#Accessing_VRAM_and_OAM\n    if (offset >= videoRamLocation && offset < Memory.cartridgeRamLocation) {\n        // Can only read/write from VRAM During Modes 0 - 2\n        // See graphics/lcd.ts\n        // TODO: This can do more harm than good in a beta emulator,\n        // requres precise timing, disabling for now\n        // if (Graphics.currentLcdMode > 2) {\n        //   return 0xFF;\n        // }\n        return -1;\n    }\n    // ECHO Ram, E000\tFDFF\tMirror of C000~DDFF (ECHO RAM)\n    // http://gbdev.gg8.se/wiki/articles/Memory_Map\n    if (offset >= Memory.echoRamLocation && offset < Memory.spriteInformationTableLocation) {\n        // Simply return the mirror'd value\n        return eightBitLoadFromGBMemory(offset - 0x2000);\n    }\n    // Check for individal writes\n    // Can only read/write from OAM During Modes 0 - 1\n    // See graphics/lcd.ts\n    if (offset >= Memory.spriteInformationTableLocation && offset <= Memory.spriteInformationTableLocationEnd) {\n        // Can only read/write from OAM During Mode 2\n        // See graphics/lcd.ts\n        // if (Lcd.currentLcdMode < 2) {\n        // return 0xff;\n        // }\n        // Not batch processing here for performance\n        // batchProcessGraphics();\n        // return -1;\n        return Lcd.currentLcdMode < 2 ? 0xff : -1;\n    }\n    // CPU\n    if (offset === Cpu.memoryLocationSpeedSwitch) {\n        // TCAGBD, only Bit 7 and 0 are readable, all others are 1\n        var response = 0xff;\n        var currentSpeedSwitchRegister = eightBitLoadFromGBMemory(Cpu.memoryLocationSpeedSwitch);\n        if (!checkBitOnByte(0, currentSpeedSwitchRegister)) {\n            response = resetBitOnByte(0, response);\n        }\n        if (!Cpu.GBCDoubleSpeed) {\n            response = resetBitOnByte(7, response);\n        }\n        return response;\n    }\n    // Graphics\n    // Not batch processing here for performance\n    // batchProcessGraphics();\n    if (offset === Graphics.memoryLocationScanlineRegister) {\n        eightBitStoreIntoGBMemory(offset, Graphics.scanlineRegister);\n        return Graphics.scanlineRegister;\n    }\n    // Sound\n    // http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware#Registers\n    // TODO: Put these bounds on the Sound Class\n    if (offset >= 0xff10 && offset <= 0xff26) {\n        batchProcessAudio();\n        return SoundRegisterReadTraps(offset);\n    }\n    // FF27 - FF2F not used\n    // http://gbdev.gg8.se/wiki/articles/Gameboy_sound_hardware#Register_Reading\n    // Always read as 0xFF\n    if (offset >= 0xff27 && offset <= 0xff2f) {\n        return 0xff;\n    }\n    // Final Wave Table for Channel 3\n    if (offset >= 0xff30 && offset <= 0xff3f) {\n        batchProcessAudio();\n        if (Channel3.isEnabled) {\n            return Channel3.handleWaveRamRead();\n        }\n        return -1;\n    }\n    // Timers\n    if (offset === Timers.memoryLocationDividerRegister) {\n        // Divider register in memory is just the upper 8 bits\n        // http://gbdev.gg8.se/wiki/articles/Timer_Obscure_Behaviour\n        var upperDividerRegisterBits = splitHighByte(Timers.dividerRegister);\n        eightBitStoreIntoGBMemory(offset, upperDividerRegisterBits);\n        return upperDividerRegisterBits;\n    }\n    if (offset === Timers.memoryLocationTimerCounter) {\n        eightBitStoreIntoGBMemory(offset, Timers.timerCounter);\n        return Timers.timerCounter;\n    }\n    // Interrupts\n    if (offset === Interrupts.memoryLocationInterruptRequest) {\n        // TCAGB and BGB say the top 5 bits are always 1.\n        return 0xe0 | Interrupts.interruptsRequestedValue;\n    }\n    // Joypad\n    if (offset === Joypad.memoryLocationJoypadRegister) {\n        return getJoypadState();\n    }\n    return -1;\n}\n\n// Load/Read functionality for memory\nfunction eightBitLoadFromGBMemory(gameboyOffset) {\n    return load(getWasmBoyOffsetFromGameBoyOffset(gameboyOffset));\n}\nfunction eightBitLoadFromGBMemoryWithTraps(offset) {\n    if (offset === Breakpoints.readGbMemory) {\n        Breakpoints.reachedBreakpoint = true;\n    }\n    var readTrapResult = checkReadTraps(offset);\n    return readTrapResult === -1 ? eightBitLoadFromGBMemory(offset) : readTrapResult;\n}\n// TODO: Rename this to sixteenBitLoadFromGBMemoryWithTraps\n// Inlined because closure compiler inlines\nfunction sixteenBitLoadFromGBMemory(offset) {\n    // Get our low byte\n    var lowByteReadTrapResult = checkReadTraps(offset);\n    var lowByte = lowByteReadTrapResult === -1 ? eightBitLoadFromGBMemory(offset) : lowByteReadTrapResult;\n    // Get the next offset for the second byte\n    var nextOffset = offset + 1;\n    // Get our high byte\n    var highByteReadTrapResult = checkReadTraps(nextOffset);\n    var highByte = highByteReadTrapResult === -1 ? eightBitLoadFromGBMemory(nextOffset) : highByteReadTrapResult;\n    // Concatenate the bytes and return\n    return concatenateBytes(highByte, lowByte);\n}\nfunction loadBooleanDirectlyFromWasmMemory(offset) {\n    return load(offset) > 0;\n}\n\n// WasmBoy memory map:\nvar Memory = /** @class */ (function () {\n    function Memory() {\n    }\n    // Function to save the state of the class\n    Memory.saveState = function () {\n        store(getSaveStateMemoryOffset(0x00, Memory.saveStateSlot), Memory.currentRomBank);\n        store(getSaveStateMemoryOffset(0x02, Memory.saveStateSlot), Memory.currentRamBank);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x04, Memory.saveStateSlot), Memory.isRamBankingEnabled);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x05, Memory.saveStateSlot), Memory.isMBC1RomModeEnabled);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x06, Memory.saveStateSlot), Memory.isRomOnly);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x07, Memory.saveStateSlot), Memory.isMBC1);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x08, Memory.saveStateSlot), Memory.isMBC2);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x09, Memory.saveStateSlot), Memory.isMBC3);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x0a, Memory.saveStateSlot), Memory.isMBC5);\n        store(getSaveStateMemoryOffset(0x0b, Memory.saveStateSlot), Memory.DMACycles);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x0f, Memory.saveStateSlot), Memory.isHblankHdmaActive);\n        store(getSaveStateMemoryOffset(0x10, Memory.saveStateSlot), Memory.hblankHdmaTransferLengthRemaining);\n        store(getSaveStateMemoryOffset(0x14, Memory.saveStateSlot), Memory.hblankHdmaSource);\n        store(getSaveStateMemoryOffset(0x18, Memory.saveStateSlot), Memory.hblankHdmaDestination);\n    };\n    // Function to load the save state from memory\n    Memory.loadState = function () {\n        Memory.currentRomBank = load(getSaveStateMemoryOffset(0x00, Memory.saveStateSlot));\n        Memory.currentRamBank = load(getSaveStateMemoryOffset(0x02, Memory.saveStateSlot));\n        Memory.isRamBankingEnabled = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x04, Memory.saveStateSlot));\n        Memory.isMBC1RomModeEnabled = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x05, Memory.saveStateSlot));\n        Memory.isRomOnly = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x06, Memory.saveStateSlot));\n        Memory.isMBC1 = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x07, Memory.saveStateSlot));\n        Memory.isMBC2 = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x08, Memory.saveStateSlot));\n        Memory.isMBC3 = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x09, Memory.saveStateSlot));\n        Memory.isMBC5 = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x0a, Memory.saveStateSlot));\n        Memory.DMACycles = load(getSaveStateMemoryOffset(0x0b, Memory.saveStateSlot));\n        Memory.isHblankHdmaActive = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x0f, Memory.saveStateSlot));\n        Memory.hblankHdmaTransferLengthRemaining = load(getSaveStateMemoryOffset(0x10, Memory.saveStateSlot));\n        Memory.hblankHdmaSource = load(getSaveStateMemoryOffset(0x14, Memory.saveStateSlot));\n        Memory.hblankHdmaDestination = load(getSaveStateMemoryOffset(0x18, Memory.saveStateSlot));\n    };\n    // ----------------------------------\n    // Gameboy Memory Map\n    // ----------------------------------\n    // https://github.com/AntonioND/giibiiadvance/blob/master/docs/TCAGBD.pdf\n    // http://gameboy.mongenel.com/dmg/asmmemmap.html\n    // using Arrays, first index is start, second is end\n    Memory.cartridgeRomLocation = 0x0000;\n    Memory.switchableCartridgeRomLocation = 0x4000;\n    Memory.videoRamLocation = 0x8000;\n    Memory.cartridgeRamLocation = 0xa000;\n    Memory.internalRamBankZeroLocation = 0xc000;\n    // This ram bank is switchable\n    Memory.internalRamBankOneLocation = 0xd000;\n    Memory.echoRamLocation = 0xe000;\n    Memory.spriteInformationTableLocation = 0xfe00;\n    Memory.spriteInformationTableLocationEnd = 0xfe9f;\n    Memory.unusableMemoryLocation = 0xfea0;\n    Memory.unusableMemoryEndLocation = 0xfeff;\n    // Hardware I/O, 0xFF00 -> 0xFF7F\n    // Zero Page, 0xFF80 -> 0xFFFE\n    // Intterupt Enable Flag, 0xFFFF\n    // ----------------------------------\n    // Rom/Ram Banking\n    // ----------------------------------\n    // http://gbdev.gg8.se/wiki/articles/Memory_Bank_Controllers#MBC3_.28max_2MByte_ROM_and.2For_32KByte_RAM_and_Timer.29\n    // http://www.codeslinger.co.uk/pages/projects/gameboy/banking.html\n    Memory.currentRomBank = 0x00;\n    Memory.currentRamBank = 0x00;\n    Memory.isRamBankingEnabled = false;\n    Memory.isMBC1RomModeEnabled = true;\n    // Cartridge Types\n    // http://gbdev.gg8.se/wiki/articles/The_Cartridge_Header\n    Memory.isRomOnly = true;\n    Memory.isMBC1 = false;\n    Memory.isMBC2 = false;\n    Memory.isMBC3 = false;\n    Memory.isMBC5 = false;\n    // DMA\n    Memory.memoryLocationHdmaSourceHigh = 0xff51;\n    Memory.memoryLocationHdmaSourceLow = 0xff52;\n    Memory.memoryLocationHdmaDestinationHigh = 0xff53;\n    Memory.memoryLocationHdmaDestinationLow = 0xff54;\n    Memory.memoryLocationHdmaTrigger = 0xff55;\n    // Cycles accumulated for DMA\n    Memory.DMACycles = 0;\n    // Boolean we will mirror to indicate if Hdma is active\n    Memory.isHblankHdmaActive = false;\n    Memory.hblankHdmaTransferLengthRemaining = 0x00;\n    // Store the source and destination for performance, and update as needed\n    Memory.hblankHdmaSource = 0x00;\n    Memory.hblankHdmaDestination = 0x00;\n    // GBC Registers\n    Memory.memoryLocationGBCVRAMBank = 0xff4f;\n    Memory.memoryLocationGBCWRAMBank = 0xff70;\n    // Save States\n    Memory.saveStateSlot = 4;\n    return Memory;\n}());\n// Inlined because closure compiler inlines\nfunction initializeCartridge() {\n    // Reset stateful variables\n    Memory.isRamBankingEnabled = false;\n    Memory.isMBC1RomModeEnabled = true;\n    // Get our game MBC type from the cartridge header\n    // http://gbdev.gg8.se/wiki/articles/The_Cartridge_Header\n    var cartridgeType = eightBitLoadFromGBMemory(0x0147);\n    // Reset our Cartridge types\n    Memory.isRomOnly = cartridgeType === 0x00;\n    Memory.isMBC1 = cartridgeType >= 0x01 && cartridgeType <= 0x03;\n    Memory.isMBC2 = cartridgeType >= 0x05 && cartridgeType <= 0x06;\n    Memory.isMBC3 = cartridgeType >= 0x0f && cartridgeType <= 0x13;\n    Memory.isMBC5 = cartridgeType >= 0x19 && cartridgeType <= 0x1e;\n    Memory.currentRomBank = 0x01;\n    Memory.currentRamBank = 0x00;\n    // Set our GBC Banks\n    eightBitStoreIntoGBMemory(Memory.memoryLocationGBCVRAMBank, 0x00);\n    eightBitStoreIntoGBMemory(Memory.memoryLocationGBCWRAMBank, 0x01);\n}\n\n// WasmBoy memory map:\n\n// Everything Static as class instances just aren't quite there yet\n// https://github.com/AssemblyScript/assemblyscript/blob/master/tests/compiler/showcase.ts\nvar Cpu = /** @class */ (function () {\n    function Cpu() {\n    }\n    Cpu.CLOCK_SPEED = function () {\n        // 2^23, thanks binji!\n        // return Cpu.GBCDoubleSpeed ? 8388608 : 4194304;\n        return 4194304 << Cpu.GBCDoubleSpeed;\n    };\n    // Cycles Per Frame = Clock Speed / fps\n    // So: 4194304 / 59.73\n    Cpu.MAX_CYCLES_PER_FRAME = function () {\n        // return Cpu.GBCDoubleSpeed ? 140448 : 70224;\n        return 70224 << Cpu.GBCDoubleSpeed;\n    };\n    // See section 4.10 of TCAGBD\n    // Cpu Halting explained: https://www.reddit.com/r/EmuDev/comments/5ie3k7/infinite_loop_trying_to_pass_blarggs_interrupt/db7xnbe/\n    Cpu.enableHalt = function () {\n        if (Interrupts.masterInterruptSwitch) {\n            Cpu.isHaltNormal = true;\n            return;\n        }\n        var haltTypeValue = Interrupts.interruptsEnabledValue & Interrupts.interruptsRequestedValue & 0x1f;\n        if (haltTypeValue === 0) {\n            Cpu.isHaltNoJump = true;\n            return;\n        }\n        Cpu.isHaltBug = true;\n    };\n    Cpu.exitHaltAndStop = function () {\n        Cpu.isHaltNoJump = false;\n        Cpu.isHaltNormal = false;\n        Cpu.isHaltBug = false;\n        Cpu.isStopped = false;\n    };\n    Cpu.isHalted = function () {\n        return Cpu.isHaltNormal || Cpu.isHaltNoJump;\n    };\n    // Function to save the state of the class\n    Cpu.saveState = function () {\n        // Registers\n        store(getSaveStateMemoryOffset(0x00, Cpu.saveStateSlot), Cpu.registerA);\n        store(getSaveStateMemoryOffset(0x01, Cpu.saveStateSlot), Cpu.registerB);\n        store(getSaveStateMemoryOffset(0x02, Cpu.saveStateSlot), Cpu.registerC);\n        store(getSaveStateMemoryOffset(0x03, Cpu.saveStateSlot), Cpu.registerD);\n        store(getSaveStateMemoryOffset(0x04, Cpu.saveStateSlot), Cpu.registerE);\n        store(getSaveStateMemoryOffset(0x05, Cpu.saveStateSlot), Cpu.registerH);\n        store(getSaveStateMemoryOffset(0x06, Cpu.saveStateSlot), Cpu.registerL);\n        store(getSaveStateMemoryOffset(0x07, Cpu.saveStateSlot), Cpu.registerF);\n        store(getSaveStateMemoryOffset(0x08, Cpu.saveStateSlot), Cpu.stackPointer);\n        store(getSaveStateMemoryOffset(0x0a, Cpu.saveStateSlot), Cpu.programCounter);\n        store(getSaveStateMemoryOffset(0x0c, Cpu.saveStateSlot), Cpu.currentCycles);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x11, Cpu.saveStateSlot), Cpu.isHaltNormal);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x12, Cpu.saveStateSlot), Cpu.isHaltNoJump);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x13, Cpu.saveStateSlot), Cpu.isHaltBug);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x14, Cpu.saveStateSlot), Cpu.isStopped);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x15, Cpu.saveStateSlot), Cpu.BootROMEnabled);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x16, Cpu.saveStateSlot), Cpu.GBCEnabled);\n        storeBooleanDirectlyToWasmMemory(getSaveStateMemoryOffset(0x17, Cpu.saveStateSlot), Cpu.GBCDoubleSpeed);\n    };\n    // Function to load the save state from memory\n    Cpu.loadState = function () {\n        // Registers\n        Cpu.registerA = load(getSaveStateMemoryOffset(0x00, Cpu.saveStateSlot));\n        Cpu.registerB = load(getSaveStateMemoryOffset(0x01, Cpu.saveStateSlot));\n        Cpu.registerC = load(getSaveStateMemoryOffset(0x02, Cpu.saveStateSlot));\n        Cpu.registerD = load(getSaveStateMemoryOffset(0x03, Cpu.saveStateSlot));\n        Cpu.registerE = load(getSaveStateMemoryOffset(0x04, Cpu.saveStateSlot));\n        Cpu.registerH = load(getSaveStateMemoryOffset(0x05, Cpu.saveStateSlot));\n        Cpu.registerL = load(getSaveStateMemoryOffset(0x06, Cpu.saveStateSlot));\n        Cpu.registerF = load(getSaveStateMemoryOffset(0x07, Cpu.saveStateSlot));\n        Cpu.stackPointer = load(getSaveStateMemoryOffset(0x08, Cpu.saveStateSlot));\n        Cpu.programCounter = load(getSaveStateMemoryOffset(0x0a, Cpu.saveStateSlot));\n        Cpu.currentCycles = load(getSaveStateMemoryOffset(0x0c, Cpu.saveStateSlot));\n        Cpu.isHaltNormal = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x11, Cpu.saveStateSlot));\n        Cpu.isHaltNoJump = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x12, Cpu.saveStateSlot));\n        Cpu.isHaltBug = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x13, Cpu.saveStateSlot));\n        Cpu.isStopped = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x14, Cpu.saveStateSlot));\n        Cpu.BootROMEnabled = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x15, Cpu.saveStateSlot));\n        Cpu.GBCEnabled = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x16, Cpu.saveStateSlot));\n        Cpu.GBCDoubleSpeed = loadBooleanDirectlyFromWasmMemory(getSaveStateMemoryOffset(0x17, Cpu.saveStateSlot));\n    };\n    // Status to track if we are currently executing the boot rom\n    Cpu.memoryLocationBootROMSwitch = 0xff50;\n    Cpu.BootROMEnabled = false;\n    // Status to track if we are in Gameboy Color Mode, and GBC State\n    Cpu.GBCEnabled = false;\n    // Memory Location for the GBC Speed switch\n    // And the current status\n    Cpu.memoryLocationSpeedSwitch = 0xff4d;\n    Cpu.GBCDoubleSpeed = false;\n    // 8-bit Cpu.registers\n    Cpu.registerA = 0;\n    Cpu.registerB = 0;\n    Cpu.registerC = 0;\n    Cpu.registerD = 0;\n    Cpu.registerE = 0;\n    Cpu.registerH = 0;\n    Cpu.registerL = 0;\n    Cpu.registerF = 0;\n    // 16-bit Cpu.registers\n    Cpu.stackPointer = 0;\n    // Boot rom from 0x00 to 0x99, all games start at 0x100\n    Cpu.programCounter = 0x00;\n    // Current number of cycles, shouldn't execeed max number of cycles\n    Cpu.currentCycles = 0;\n    // HALT and STOP instructions need to stop running opcodes, but simply check timers\n    // https://github.com/nakardo/node-gameboy/blob/master/lib/cpu/opcodes.js\n    // Matt said is should work to, so it must work!\n    // TCAGBD shows three different HALT states. Therefore, we need to handle each\n    Cpu.isHaltNormal = false;\n    Cpu.isHaltNoJump = false;\n    Cpu.isHaltBug = false;\n    Cpu.isStopped = false;\n    // Save States\n    Cpu.saveStateSlot = 0;\n    return Cpu;\n}());\n// Inlined because closure compiler does so\nfunction initializeCpu() {\n    // Reset all stateful Cpu variables\n    // Cpu.GBCEnabled is done by core/initialize\n    Cpu.GBCDoubleSpeed = false;\n    Cpu.registerA = 0;\n    Cpu.registerB = 0;\n    Cpu.registerC = 0;\n    Cpu.registerD = 0;\n    Cpu.registerE = 0;\n    Cpu.registerH = 0;\n    Cpu.registerL = 0;\n    Cpu.registerF = 0;\n    Cpu.stackPointer = 0;\n    Cpu.programCounter = 0x00;\n    Cpu.currentCycles = 0;\n    Cpu.isHaltNormal = false;\n    Cpu.isHaltNoJump = false;\n    Cpu.isHaltBug = false;\n    Cpu.isStopped = false;\n    // Everything is done by Boot ROM is enabled.\n    if (Cpu.BootROMEnabled) {\n        return;\n    }\n    if (Cpu.GBCEnabled) {\n        // CPU Registers\n        Cpu.registerA = 0x11;\n        Cpu.registerF = 0x80;\n        Cpu.registerB = 0x00;\n        Cpu.registerC = 0x00;\n        Cpu.registerD = 0xff;\n        Cpu.registerE = 0x56;\n        Cpu.registerH = 0x00;\n        Cpu.registerL = 0x0d;\n    }\n    else {\n        // Cpu Registers\n        Cpu.registerA = 0x01;\n        Cpu.registerF = 0xb0;\n        Cpu.registerB = 0x00;\n        Cpu.registerC = 0x13;\n        Cpu.registerD = 0x00;\n        Cpu.registerE = 0xd8;\n        Cpu.registerH = 0x01;\n        Cpu.registerL = 0x4d;\n    }\n    // Cpu Control Flow\n    Cpu.programCounter = 0x100;\n    Cpu.stackPointer = 0xfffe;\n}\n\n// Imports\n// General Logic Instructions\n// Such as the ones found on the CB table and 0x40 - 0xBF\n// NOTE: Only CB table uses these for now, was mostly me realizing that I messed up, trying to be all cute and verbose :p\n// NOTE: TODO: Refactor honestly shouldn't take that long, and may happen once assembly script is improved\nfunction addARegister(register) {\n    var registerA = Cpu.registerA;\n    checkAndSetEightBitHalfCarryFlag(registerA, register);\n    checkAndSetEightBitCarryFlag(registerA, register);\n    registerA = u8Portable(registerA + register);\n    Cpu.registerA = registerA;\n    setZeroFlag$$1((registerA === 0));\n    setSubtractFlag(0);\n}\nfunction addAThroughCarryRegister(register) {\n    // Handling flags manually as they require some special overflow\n    // From: https://github.com/nakardo/node-gameboy/blob/master/lib/cpu/opcodes.js\n    // CTRL+F adc\n    var registerA = Cpu.registerA;\n    var result = u8Portable(registerA + register + getCarryFlag$$1());\n    setHalfCarryFlag(((u8Portable(registerA ^ register ^ result) & 0x10) != 0));\n    var overflowedResult = u16Portable(registerA + register + getCarryFlag$$1());\n    setCarryFlag(((overflowedResult & 0x100) > 0));\n    Cpu.registerA = result;\n    setZeroFlag$$1((result === 0));\n    setSubtractFlag(0);\n}\nfunction subARegister(register) {\n    // Need to convert the register on one line, and flip the sign on another\n    var negativeRegister = register;\n    negativeRegister = negativeRegister * -1;\n    var registerA = Cpu.registerA;\n    checkAndSetEightBitHalfCarryFlag(registerA, negativeRegister);\n    checkAndSetEightBitCarryFlag(registerA, negativeRegister);\n    registerA = u8Portable(registerA - register);\n    Cpu.registerA = registerA;\n    setZeroFlag$$1((registerA === 0));\n    setSubtractFlag(1);\n}\nfunction subAThroughCarryRegister(register) {\n    // Handling flags manually as they require some special overflow\n    // From: https://github.com/nakardo/node-gameboy/blob/master/lib/cpu/opcodes.js\n    // CTRL+F adc\n    var registerA = Cpu.registerA;\n    var result = u8Portable(registerA - register - getCarryFlag$$1());\n    var carryRegisterCheck = u8Portable((registerA ^ register ^ result) & 0x10);\n    setHalfCarryFlag((carryRegisterCheck != 0));\n    var overflowedResult = u16Portable(registerA - register - getCarryFlag$$1());\n    setCarryFlag(((overflowedResult & 0x100) > 0));\n    Cpu.registerA = result;\n    setZeroFlag$$1((result === 0));\n    setSubtractFlag(1);\n}\nfunction andARegister(register) {\n    var registerA = Cpu.registerA & register;\n    Cpu.registerA = registerA;\n    setZeroFlag$$1((registerA === 0));\n    setSubtractFlag(0);\n    setHalfCarryFlag(1);\n    setCarryFlag(0);\n}\nfunction xorARegister(register) {\n    var registerA = u8Portable(Cpu.registerA ^ register);\n    Cpu.registerA = registerA;\n    setZeroFlag$$1((registerA === 0));\n    setSubtractFlag(0);\n    setHalfCarryFlag(0);\n    setCarryFlag(0);\n}\nfunction orARegister(register) {\n    var registerA = Cpu.registerA | register;\n    Cpu.registerA = registerA;\n    setZeroFlag$$1((registerA === 0));\n    setSubtractFlag(0);\n    setHalfCarryFlag(0);\n    setCarryFlag(0);\n}\nfunction cpARegister(register) {\n    // 0xB8 - 0xBF\n    // CP B\n    // 1  4\n    // Z 1 H C\n    var registerA = Cpu.registerA;\n    var negativeRegister = register;\n    negativeRegister = negativeRegister * -1;\n    checkAndSetEightBitHalfCarryFlag(registerA, negativeRegister);\n    checkAndSetEightBitCarryFlag(registerA, negativeRegister);\n    var tempResult = registerA + negativeRegister;\n    setZeroFlag$$1((tempResult === 0));\n    setSubtractFlag(1);\n}\n// Inlined because closure compiler inlines\nfunction rotateRegisterLeft(register) {\n    // RLC register 8-bit\n    // Z 0 0 C\n    setCarryFlag(((register & 0x80) === 0x80));\n    register = rotateByteLeft(register);\n    setZeroFlag$$1((register === 0));\n    // Set all other flags to zero\n    setSubtractFlag(0);\n    setHalfCarryFlag(0);\n    // Return the register\n    return register;\n}\n// Inlined because closure compiler inlines\nfunction rotateRegisterRight(register) {\n    // RLC register 8-bit\n    // Z 0 0 C\n    // Check for the last bit, to see if it will be carried\n    setCarryFlag(((register & 0x01) > 0));\n    register = rotateByteRight(register);\n    setZeroFlag$$1((register === 0));\n    setSubtractFlag(0);\n    setHalfCarryFlag(0);\n    // Return the register\n    return register;\n}\n// Inlined because closure compiler inlines\nfunction rotateRegisterLeftThroughCarry(register) {\n    // RL register 8-bit\n    // Z 0 0 C\n    // setting has first bit since we need to use carry\n    var hasHighbit = (register & 0x80) === 0x80;\n    register = rotateByteLeftThroughCarry(register);\n    setCarryFlag(hasHighbit);\n    setZeroFlag$$1((register === 0));\n    setSubtractFlag(0);\n    setHalfCarryFlag(0);\n    return register;\n}\n// Inlined because closure compiler inlines\nfunction rotateRegisterRightThroughCarry(register) {\n    // RR register 8-bit\n    // Z 0 0 C\n    var hasLowBit = (register & 0x01) === 0x01;\n    register = rotateByteRightThroughCarry(register);\n    setCarryFlag(hasLowBit);\n    setZeroFlag$$1((register === 0));\n    setSubtractFlag(0);\n    setHalfCarryFlag(0);\n    return register;\n}\n// Inlined because closure compiler inlines\nfunction shiftLeftRegister(register) {\n    // SLA register 8-bit\n    // Z 0 0 C\n    var hasHighbit = (register & 0x80) === 0x80;\n    register = u8Portable(register << 1);\n    setCarryFlag(hasHighbit);\n    setZeroFlag$$1((register === 0));\n    setSubtractFlag(0);\n    setHalfCarryFlag(0);\n    return register;\n}\n// Inlined because closure compiler inlines\nfunction shiftRightArithmeticRegister(register) {\n    // SRA register 8-bit\n    // Z 0 0 C\n    // NOTE: This C flag may need to be set to 0;\n    // This preserves the MSB (Most significant bit)\n    var hasHighbit = (register & 0x80) === 0x80;\n    var hasLowbit = (register & 0x01) === 0x01;\n    register = u8Portable(register >> 1);\n    if (hasHighbit) {\n        register = register | 0x80;\n    }\n    setZeroFlag$$1((register === 0));\n    setSubtractFlag(0);\n    setHalfCarryFlag(0);\n    setCarryFlag(hasLowbit);\n    return register;\n}\n// Inlined because closure compiler inlines\nfunction swapNibblesOnRegister(register) {\n    // SWAP register 8-bit\n    // Z 0 0 0\n    var highNibble = register & 0xf0;\n    var lowNibble = register & 0x0f;\n    register = u8Portable((lowNibble << 4) | (highNibble >> 4));\n    setZeroFlag$$1((register === 0));\n    setSubtractFlag(0);\n    setHalfCarryFlag(0);\n    setCarryFlag(0);\n    return register;\n}\n// Inlined because closure compiler inlines\nfunction shiftRightLogicalRegister(register) {\n    // SRA register 8-bit\n    // Z 0 0 C\n    // NOTE: This C flag may need to be set to 0;\n    // This does NOT preserve MSB (most significant bit)\n    var hasLowbit = (register & 0x01) === 0x01;\n    register = u8Portable(register >> 1);\n    setZeroFlag$$1((register === 0));\n    setSubtractFlag(0);\n    setHalfCarryFlag(0);\n    setCarryFlag(hasLowbit);\n    return register;\n}\nfunction testBitOnRegister(bitPosition, register) {\n    // BIT bitPosition ,register 8-bit\n    // Z 0 1 -\n    var testByte = 0x01 << bitPosition;\n    var result = register & testByte;\n    setZeroFlag$$1((result === 0x00));\n    setSubtractFlag(0);\n    setHalfCarryFlag(1);\n    return register;\n}\nfunction setBitOnRegister(bitPosition, bitValue, register) {\n    // RES 0,B or SET 0,B depending on bit value\n    if (bitValue > 0) {\n        var setByte = 0x01 << bitPosition;\n        register = register | setByte;\n    }\n    else {\n        // NOT (byte we want)\n        // 0000 0100 becomes 1111 1011\n        var setByte = ~(0x01 << bitPosition);\n        register = register & setByte;\n    }\n    return register;\n}\n// Private function for our relative jumps\nfunction relativeJump(value) {\n    // Need to convert the value to i8, since in this case, u8 can be negative\n    var relativeJumpOffset = i8Portable(value);\n    var programCounter = Cpu.programCounter;\n    programCounter = u16Portable(programCounter + relativeJumpOffset);\n    // Realtive jump, using bgb debugger\n    // and my debugger shows,\n    // on JR you need to jump to the relative jump offset,\n    // However, if the jump fails (such as conditional), only jump +2 in total\n    programCounter = u16Portable(programCounter + 1);\n    Cpu.programCounter = programCounter;\n}\n\n// Imports\n// Handle CB Opcodes\n// NOTE: Program stpes and cycles are standardized depending on the register type\n// NOTE: Doing some funny stuff to get around not having arrays or objects\n// Inlined because closure compiler inlines.\nfunction handleCbOpcode(cbOpcode) {\n    var numberOfCycles = -1;\n    var handledOpcode = false;\n    // The result of our cb logic instruction\n    var instructionRegisterValue = 0;\n    var instructionRegisterResult = 0;\n    // Get our register number by modulo 0x08 (number of registers)\n    // cbOpcode % 0x08\n    var registerNumber = cbOpcode & 0x07;\n    // NOTE: registerNumber = register on CB table. Cpu.registerB = 0, Cpu.registerC = 1....Cpu.registerA = 7\n    switch (registerNumber) {\n        case 0:\n            instructionRegisterValue = Cpu.registerB;\n            break;\n        case 1:\n            instructionRegisterValue = Cpu.registerC;\n            break;\n        case 2:\n            instructionRegisterValue = Cpu.registerD;\n            break;\n        case 3:\n            instructionRegisterValue = Cpu.registerE;\n            break;\n        case 4:\n            instructionRegisterValue = Cpu.registerH;\n            break;\n        case 5:\n            instructionRegisterValue = Cpu.registerL;\n            break;\n        case 6:\n            // Value at register HL\n            // 4 cycles\n            instructionRegisterValue = eightBitLoadSyncCycles(concatenateBytes(Cpu.registerH, Cpu.registerL));\n            break;\n        case 7:\n            instructionRegisterValue = Cpu.registerA;\n            break;\n    }\n    // Grab the high nibble to perform skips to speed up performance\n    var opcodeHighNibble = cbOpcode & 0xf0;\n    opcodeHighNibble = opcodeHighNibble >> 4;\n    // Send to the correct function\n    switch (opcodeHighNibble) {\n        case 0x00:\n            if (cbOpcode <= 0x07) {\n                // RLC register 8-bit\n                // Z 0 0 C\n                instructionRegisterResult = rotateRegisterLeft(instructionRegisterValue);\n                handledOpcode = true;\n            }\n            else if (cbOpcode <= 0x0f) {\n                // RRC register 8-bit\n                // Z 0 0 C\n                instructionRegisterResult = rotateRegisterRight(instructionRegisterValue);\n                handledOpcode = true;\n            }\n            break;\n        case 0x01:\n            if (cbOpcode <= 0x17) {\n                // RL register 8-bit\n                // Z 0 0 C\n                instructionRegisterResult = rotateRegisterLeftThroughCarry(instructionRegisterValue);\n                handledOpcode = true;\n            }\n            else if (cbOpcode <= 0x1f) {\n                // RR register 8-bit\n                // Z 0 0 C\n                instructionRegisterResult = rotateRegisterRightThroughCarry(instructionRegisterValue);\n                handledOpcode = true;\n            }\n            break;\n        case 0x02:\n            if (cbOpcode <= 0x27) {\n                // SLA register 8-bit\n                // Z 0 0 C\n                instructionRegisterResult = shiftLeftRegister(instructionRegisterValue);\n                handledOpcode = true;\n            }\n            else if (cbOpcode <= 0x2f) {\n                // SRA register 8-bit\n                // Z 0 0 0\n                instructionRegisterResult = shiftRightArithmeticRegister(instructionRegisterValue);\n                handledOpcode = true;\n            }\n            break;\n        case 0x03:\n            if (cbOpcode <= 0x37) {\n                // SWAP register 8-bit\n                // Z 0 0 0\n                instructionRegisterResult = swapNibblesOnRegister(instructionRegisterValue);\n                handledOpcode = true;\n            }\n            else if (cbOpcode <= 0x3f) {\n                // SRL B\n                // Z 0 0 C\n                instructionRegisterResult = shiftRightLogicalRegister(instructionRegisterValue);\n                handledOpcode = true;\n            }\n            break;\n        case 0x04:\n            if (cbOpcode <= 0x47) {\n                // BIT 0,register 8-bit\n                // Z 0 1 -\n                //TODO: Optimize this not to do logic of setting register back\n                instructionRegisterResult = testBitOnRegister(0, instructionRegisterValue);\n                handledOpcode = true;\n            }\n            else if (cbOpcode <= 0x4f) {\n                // BIT 1,register 8-bit\n                // Z 0 1 -\n                instructionRegisterResult = testBitOnRegister(1, instructionRegisterValue);\n                handledOpcode = true;\n            }\n            break;\n        case 0x05:\n            if (cbOpcode <= 0x57) {\n                // BIT 2,register 8-bit\n                // Z 0 1 -\n                instructionRegisterResult = testBitOnRegister(2, instructionRegisterValue);\n                handledOpcode = true;\n            }\n            else if (cbOpcode <= 0x5f) {\n                // BIT 3,register 8-bit\n                // Z 0 1 -\n                instructionRegisterResult = testBitOnRegister(3, instructionRegisterValue);\n                handledOpcode = true;\n            }\n            break;\n        case 0x06:\n            if (cbOpcode <= 0x67) {\n                // BIT 4,register 8-bit\n                // Z 0 1 -\n                instructionRegisterResult = testBitOnRegister(4, instructionRegisterValue);\n                handledOpcode = true;\n            }\n            else if (cbOpcode <= 0x6f) {\n                // BIT 5,register 8-bit\n                // Z 0 1 -\n                instructionRegisterResult = testBitOnRegister(5, instructionRegisterValue);\n                handledOpcode = true;\n            }\n            break;\n        case 0x07:\n            if (cbOpcode <= 0x77) {\n                // BIT 6,register 8-bit\n                // Z 0 1 -\n                instructionRegisterResult = testBitOnRegister(6, instructionRegisterValue);\n                handledOpcode = true;\n            }\n            else if (cbOpcode <= 0x7f) {\n                // BIT 7,register 8-bit\n                // Z 0 1 -\n                instructionRegisterResult = testBitOnRegister(7, instructionRegisterValue);\n                handledOpcode = true;\n            }\n            break;\n        case 0x08:\n            if (cbOpcode <= 0x87) {\n                // Res 0,register 8-bit\n                // - - - -\n                instructionRegisterResult = setBitOnRegister(0, 0, instructionRegisterValue);\n                handledOpcode = true;\n            }\n            else if (cbOpcode <= 0x8f) {\n                // Res 1,register 8-bit\n                // - - - -\n                instructionRegisterResult = setBitOnRegister(1, 0, instructionRegisterValue);\n                handledOpcode = true;\n            }\n            break;\n        case 0x09:\n            if (cbOpcode <= 0x97) {\n                // Res 2,register 8-bit\n                // - - - -\n                instructionRegisterResult = setBitOnRegister(2, 0, instructionRegisterValue);\n                handledOpcode = true;\n            }\n            else if (cbOpcode <= 0x9f) {\n                // Res 3,register 8-bit\n                // - - - -\n                instructionRegisterResult = setBitOnRegister(3, 0, instructionRegisterValue);\n                handledOpcode = true;\n            }\n            break;\n        case 0x0a:\n            if (cbOpcode <= 0xa7) {\n                // Res 4,register 8-bit\n                // - - - -\n                instructionRegisterResult = setBitOnRegister(4, 0, instructionRegisterValue);\n                handledOpcode = true;\n            }\n            else if (cbOpcode <= 0xaf) {\n                // Res 5,register 8-bit\n                // - - - -\n                instructionRegisterResult = setBitOnRegister(5, 0, instructionRegisterValue);\n                handledOpcode = true;\n            }\n            break;\n        case 0x0b:\n            if (cbOpcode <= 0xb7) {\n                // Res 6,register 8-bit\n                // - - - -\n                instructionRegisterResult = setBitOnRegister(6, 0, instructionRegisterValue);\n                handledOpcode = true;\n            }\n            else if (cbOpcode <= 0xbf) {\n                // Res 7,register 8-bit\n                // - - - -\n                instructionRegisterResult = setBitOnRegister(7, 0, instructionRegisterValue);\n                handledOpcode = true;\n            }\n            break;\n        case 0x0c:\n            if (cbOpcode <= 0xc7) {\n                // SET 0,register 8-bit\n                // - - - -\n                instructionRegisterResult = setBitOnRegister(0, 1, instructionRegisterValue);\n                handledOpcode = true;\n            }\n            else if (cbOpcode <= 0xcf) {\n                // SET 1,register 8-bit\n                // - - - -\n                instructionRegisterResult = setBitOnRegister(1, 1, instructionRegisterValue);\n                handledOpcode = true;\n            }\n            break;\n        case 0x0d:\n            if (cbOpcode <= 0xd7) {\n                // SET 2,register 8-bit\n                // - - - -\n                instructionRegisterResult = setBitOnRegister(2, 1, instructionRegisterValue);\n                handledOpcode = true;\n            }\n            else if (cbOpcode <= 0xdf) {\n                // SET 3,register 8-bit\n                // - - - -\n                instructionRegisterResult = setBitOnRegister(3, 1, instructionRegisterValue);\n                handledOpcode = true;\n            }\n            break;\n        case 0x0e:\n            if (cbOpcode <= 0xe7) {\n                // SET 4,register 8-bit\n                // - - - -\n                instructionRegisterResult = setBitOnRegister(4, 1, instructionRegisterValue);\n                handledOpcode = true;\n            }\n            else if (cbOpcode <= 0xef) {\n                // SET 5,register 8-bit\n                // - - - -\n                instructionRegisterResult = setBitOnRegister(5, 1, instructionRegisterValue);\n                handledOpcode = true;\n            }\n            break;\n        case 0x0f:\n            if (cbOpcode <= 0xf7) {\n                // SET 6,register 8-bit\n                // - - - -\n                instructionRegisterResult = setBitOnRegister(6, 1, instructionRegisterValue);\n                handledOpcode = true;\n            }\n            else if (cbOpcode <= 0xff) {\n                // SET 7,register 8-bit\n                // - - - -\n                instructionRegisterResult = setBitOnRegister(7, 1, instructionRegisterValue);\n                handledOpcode = true;\n            }\n            break;\n    }\n    // Finally Pass back into the correct register\n    switch (registerNumber) {\n        case 0:\n            Cpu.registerB = instructionRegisterResult;\n            break;\n        case 1:\n            Cpu.registerC = instructionRegisterResult;\n            break;\n        case 2:\n            Cpu.registerD = instructionRegisterResult;\n            break;\n        case 3:\n            Cpu.registerE = instructionRegisterResult;\n            break;\n        case 4:\n            Cpu.registerH = instructionRegisterResult;\n            break;\n        case 5:\n            Cpu.registerL = instructionRegisterResult;\n            break;\n        case 6:\n            // Value at register HL\n            // Opcodes 0x40 -> 0x7F only do simple\n            // Bit test, and don't need to be stored back in memory\n            // Thus they take 4 less cycles to run\n            if (opcodeHighNibble < 0x04 || opcodeHighNibble > 0x07) {\n                // Store the result back\n                // 4 cycles\n                eightBitStoreSyncCycles(concatenateBytes(Cpu.registerH, Cpu.registerL), instructionRegisterResult);\n            }\n            break;\n        case 7:\n            Cpu.registerA = instructionRegisterResult;\n            break;\n    }\n    // Finally our number of cycles\n    // Set if we handled the opcode\n    if (handledOpcode) {\n        numberOfCycles = 4;\n    }\n    // Return our number of cycles\n    return numberOfCycles;\n}\n\n// Imports\n// Take in any opcode, and decode it, and return the number of cycles\n// Program counter can be gotten from getProgramCounter();\n// Setting return value to i32 instead of u16, as we want to return a negative number on error\n// https://rednex.github.io/rgbds/gbz80.7.html\n// http://pastraiser.com/cpu/gameboy/gameboyopcodes.html\nfunction executeOpcode$$1(opcode) {\n    // Always implement the program counter by one\n    // Any other value can just subtract or add however much offset before reaching this line\n    var programCounter = Cpu.programCounter;\n    programCounter = u16Portable(programCounter + 1);\n    // Check if we are in the halt bug\n    if (Cpu.isHaltBug) {\n        // Need to not increment program counter,\n        // thus, running the next opcode twice\n        // E.g\n        // 0x76 - halt\n        // FA 34 12 - ld a,(1234)\n        // Becomes\n        // FA FA 34 ld a,(34FA)\n        // 12 ld (de),a\n        programCounter = u16Portable(programCounter - 1);\n    }\n    Cpu.programCounter = programCounter;\n    // Split our opcode into a high nibble to speed up performance\n    // Running 255 if statements is slow, even in wasm haha!\n    var opcodeHighNibble = opcode & 0xf0;\n    opcodeHighNibble = opcodeHighNibble >> 4;\n    // NOTE: @binji rule of thumb: it takes 4 cpu cycles to read one byte\n    // Therefore isntructions that use more than just the opcode (databyte one and two) will take at least\n    // 8 cyckles to use getDataByteOne(), and two cycles to use the concatented\n    // Not using a switch statement to avoid cannot redeclare this variable errors\n    // And it would be a ton of work :p\n    switch (opcodeHighNibble) {\n        case 0x00:\n            return handleOpcode0x(opcode);\n        case 0x01:\n            return handleOpcode1x(opcode);\n        case 0x02:\n            return handleOpcode2x(opcode);\n        case 0x03:\n            return handleOpcode3x(opcode);\n        case 0x04:\n            return handleOpcode4x(opcode);\n        case 0x05:\n            return handleOpcode5x(opcode);\n        case 0x06:\n            return handleOpcode6x(opcode);\n        case 0x07:\n            return handleOpcode7x(opcode);\n        case 0x08:\n            return handleOpcode8x(opcode);\n        case 0x09:\n            return handleOpcode9x(opcode);\n        case 0x0a:\n            return handleOpcodeAx(opcode);\n        case 0x0b:\n            return handleOpcodeBx(opcode);\n        case 0x0c:\n            return handleOpcodeCx(opcode);\n        case 0x0d:\n            return handleOpcodeDx(opcode);\n        case 0x0e:\n            return handleOpcodeEx(opcode);\n        default:\n            return handleOpcodeFx(opcode);\n    }\n}\n// Wrapper functions around loading and storing memory, and syncing those cycles\nfunction eightBitLoadSyncCycles(gameboyOffset) {\n    syncCycles(4);\n    return eightBitLoadFromGBMemoryWithTraps(gameboyOffset);\n}\nfunction eightBitStoreSyncCycles(gameboyOffset, value) {\n    syncCycles(4);\n    eightBitStoreIntoGBMemoryWithTraps(gameboyOffset, value);\n}\nfunction sixteenBitLoadSyncCycles(gameboyOffset) {\n    syncCycles(8);\n    // sixteen bit load has traps even though it has no label\n    return sixteenBitLoadFromGBMemory(gameboyOffset);\n}\nfunction sixteenBitStoreSyncCycles(gameboyOffset, value) {\n    syncCycles(8);\n    sixteenBitStoreIntoGBMemoryWithTraps(gameboyOffset, value);\n}\n// Functions to access the next operands of a opcode, reffering to them as \"dataBytes\"\nfunction getDataByteOne() {\n    syncCycles(4);\n    return eightBitLoadFromGBMemory(Cpu.programCounter);\n}\nfunction getDataByteTwo() {\n    syncCycles(4);\n    return eightBitLoadFromGBMemory(u16Portable(Cpu.programCounter + 1));\n}\n// Get our concatenated databyte one and getDataByteTwo()\n// Find and replace with : getConcatenatedDataByte()\nfunction getConcatenatedDataByte() {\n    return concatenateBytes(getDataByteTwo(), getDataByteOne());\n}\nfunction handleOpcode0x(opcode) {\n    switch (opcode) {\n        case 0x00:\n            // NOP\n            // 1  4\n            // No Operation\n            return 4;\n        case 0x01: {\n            // LD BC,d16\n            // 3  12\n            // 8 cycles\n            var concatenatedDataByte = getConcatenatedDataByte();\n            Cpu.registerB = splitHighByte(concatenatedDataByte);\n            Cpu.registerC = splitLowByte(concatenatedDataByte);\n            Cpu.programCounter = u16Portable(Cpu.programCounter + 2);\n            return 4;\n        }\n        case 0x02: {\n            // LD (BC),A\n            // 1  8\n            // () means load into address pointed by BC\n            // 4 cycles\n            eightBitStoreSyncCycles(concatenateBytes(Cpu.registerB, Cpu.registerC), Cpu.registerA);\n            return 4;\n        }\n        case 0x03: {\n            // INC BC\n            // 1  8\n            var registerBC3 = concatenateBytes(Cpu.registerB, Cpu.registerC);\n            registerBC3++;\n            Cpu.registerB = splitHighByte(registerBC3);\n            Cpu.registerC = splitLowByte(registerBC3);\n            return 8;\n        }\n        case 0x04: {\n            // INC B\n            // 1  4\n            // Z 0 H -\n            var registerB = Cpu.registerB;\n            checkAndSetEightBitHalfCarryFlag(registerB, 1);\n            registerB = u8Portable(registerB + 1);\n            Cpu.registerB = registerB;\n            setZeroFlag$$1((registerB === 0));\n            setSubtractFlag(0);\n            return 4;\n        }\n        case 0x05: {\n            // DEC B\n            // 1  4\n            // Z 1 H -\n            var registerB = Cpu.registerB;\n            checkAndSetEightBitHalfCarryFlag(registerB, -1);\n            registerB = u8Portable(registerB - 1);\n            Cpu.registerB = registerB;\n            setZeroFlag$$1((registerB === 0));\n            setSubtractFlag(1);\n            return 4;\n        }\n        case 0x06: {\n            // LD B,d8\n            // 2  8\n            // 4 cycles\n            Cpu.registerB = getDataByteOne();\n            Cpu.programCounter = u16Portable(Cpu.programCounter + 1);\n            return 4;\n        }\n        case 0x07: {\n            // RLCA\n            // 1  4\n            // 0 0 0 C\n            // Check for the carry\n            var registerA = Cpu.registerA;\n            setCarryFlag(((registerA & 0x80) === 0x80));\n            Cpu.registerA = rotateByteLeft(registerA);\n            // Set all other flags to zero\n            setZeroFlag$$1(0);\n            setSubtractFlag(0);\n            setHalfCarryFlag(0);\n            return 4;\n        }\n        case 0x08: {\n            // LD (a16),SP\n            // 3  20\n            // Load the stack pointer into the 16 bit address represented by the two data bytes\n            // 16 cycles, 8 from data byte, 8 from sixteenbit store\n            sixteenBitStoreSyncCycles(getConcatenatedDataByte(), Cpu.stackPointer);\n            Cpu.programCounter = u16Portable(Cpu.programCounter + 2);\n            return 4;\n        }\n        case 0x09: {\n            // ADD HL,BC\n            // 1 8\n            // - 0 H C\n            var registerHL = concatenateBytes(Cpu.registerH, Cpu.registerL);\n            var registerBC9 = concatenateBytes(Cpu.registerB, Cpu.registerC);\n            checkAndSetSixteenBitFlagsAddOverflow(registerHL, registerBC9, false);\n            var result = u16Portable((registerHL + registerBC9));\n            Cpu.registerH = splitHighByte(result);\n            Cpu.registerL = splitLowByte(result);\n            setSubtractFlag(0);\n            return 8;\n        }\n        case 0x0a: {\n            // LD A,(BC)\n            // 1 8\n            // 4 cycles from load\n            Cpu.registerA = eightBitLoadSyncCycles(concatenateBytes(Cpu.registerB, Cpu.registerC));\n            return 4;\n        }\n        case 0x0b: {\n            // DEC BC\n            // 1  8\n            var registerBCB = concatenateBytes(Cpu.registerB, Cpu.registerC);\n            registerBCB = u16Portable(registerBCB - 1);\n            Cpu.registerB = splitHighByte(registerBCB);\n            Cpu.registerC = splitLowByte(registerBCB);\n            return 8;\n        }\n        case 0x0c: {\n            // INC C\n            // 1  4\n            // Z 0 H -\n            var registerC = Cpu.registerC;\n            checkAndSetEightBitHalfCarryFlag(registerC, 1);\n            registerC = u8Portable(registerC + 1);\n            Cpu.registerC = registerC;\n            setZeroFlag$$1((registerC === 0));\n            setSubtractFlag(0);\n            return 4;\n        }\n        case 0x0d: {\n            // DEC C\n            // 1  4\n            // Z 1 H -\n            var registerC = Cpu.registerC;\n            checkAndSetEightBitHalfCarryFlag(registerC, -1);\n            registerC = u8Portable(registerC - 1);\n            Cpu.registerC = registerC;\n            setZeroFlag$$1((registerC === 0));\n            setSubtractFlag(1);\n            return 4;\n        }\n        case 0x0e: {\n            // LD C,d8\n            // 2 8\n            // 4 cycles\n            Cpu.registerC = getDataByteOne();\n            Cpu.programCounter = u16Portable(Cpu.programCounter + 1);\n            return 4;\n        }\n        case 0x0f: {\n            // RRCA\n            // 1 4\n            // 0 0 0 C\n            // Check for the last bit, to see if it will be carried\n            var registerA = Cpu.registerA;\n            setCarryFlag(((registerA & 0x01) > 0));\n            Cpu.registerA = rotateByteRight(registerA);\n            // Set all other flags to zero\n            setZeroFlag$$1(0);\n            setSubtractFlag(0);\n            setHalfCarryFlag(0);\n            return 4;\n        }\n    }\n    return -1;\n}\nfunction handleOpcode1x(opcode) {\n    switch (opcode) {\n        case 0x10: {\n            // STOP 0\n            // 2 4\n            // Enter CPU very low power mode. Also used to switch between double and normal speed CPU modes in GBC.\n            // Meaning Don't Decode anymore opcodes , or updated the LCD until joypad interrupt (or when button is pressed if I am wrong)\n            // See HALT\n            // If we are in gameboy color mode, set the new speed\n            if (Cpu.GBCEnabled) {\n                // 4 cycles\n                var speedSwitch = eightBitLoadSyncCycles(Cpu.memoryLocationSpeedSwitch);\n                if (checkBitOnByte(0, speedSwitch)) {\n                    // Reset the prepare bit\n                    speedSwitch = resetBitOnByte(0, speedSwitch);\n                    // Switch to the new mode, and set the speed switch to the OTHER speed, to represent our new speed\n                    if (!checkBitOnByte(7, speedSwitch)) {\n                        Cpu.GBCDoubleSpeed = true;\n                        speedSwitch = setBitOnByte(7, speedSwitch);\n                    }\n                    else {\n                        Cpu.GBCDoubleSpeed = false;\n                        speedSwitch = resetBitOnByte(7, speedSwitch);\n                    }\n                    // Store the final speed switch\n                    // 4 cycles\n                    eightBitStoreSyncCycles(Cpu.memoryLocationSpeedSwitch, speedSwitch);\n                    // Cycle accurate gameboy docs says this takes 76 clocks\n                    // 76 - 8 cycles (from load/store) = 68\n                    return 68;\n                }\n            }\n            // NOTE: This breaks Blarggs CPU tests if CGB Stop is not implemented\n            Cpu.isStopped = true;\n            Cpu.programCounter = u16Portable(Cpu.programCounter + 1);\n            return 4;\n        }\n        case 0x11: {\n            // LD DE,d16\n            // 3  12\n            // 8 cycles\n            var concatenatedDataByte = getConcatenatedDataByte();\n            Cpu.registerD = splitHighByte(concatenatedDataByte);\n            Cpu.registerE = splitLowByte(concatenatedDataByte);\n            Cpu.programCounter = u16Portable(Cpu.programCounter + 2);\n            return 4;\n        }\n        case 0x12: {\n            // LD (DE),A\n            // 1 8\n            // 4 cycles\n            eightBitStoreSyncCycles(concatenateBytes(Cpu.registerD, Cpu.registerE), Cpu.registerA);\n            return 4;\n        }\n        case 0x13: {\n            // INC DE\n            // 1 8\n            var registerDE3 = concatenateBytes(Cpu.registerD, Cpu.registerE);\n            registerDE3 = u16Portable(registerDE3 + 1);\n            Cpu.registerD = splitHighByte(registerDE3);\n            Cpu.registerE = splitLowByte(registerDE3);\n            return 8;\n        }\n        case 0x14: {\n            // INC D\n            // 1  4\n            // Z 0 H -\n            var registerD = Cpu.registerD;\n            checkAndSetEightBitHalfCarryFlag(registerD, 1);\n            registerD = u8Portable(registerD + 1);\n            Cpu.registerD = registerD;\n            setZeroFlag$$1((Cpu.registerD === 0));\n            setSubtractFlag(0);\n            return 4;\n        }\n        case 0x15: {\n            // DEC D\n            // 1  4\n            // Z 1 H -\n            var registerD = Cpu.registerD;\n            checkAndSetEightBitHalfCarryFlag(registerD, -1);\n            registerD = u8Portable(registerD - 1);\n            Cpu.registerD = registerD;\n            setZeroFlag$$1((Cpu.registerD === 0));\n            setSubtractFlag(1);\n            return 4;\n        }\n        case 0x16: {\n            // LD D,d8\n            // 2 8\n            // 4 cycles\n            Cpu.registerD = getDataByteOne();\n            Cpu.programCounter = u16Portable(Cpu.programCounter + 1);\n            return 4;\n        }\n        case 0x17: {\n            // RLA\n            // 1 4\n            // 0 0 0 C\n            // Check for the carry\n            // setting has first bit since we need to use carry\n            var hasHighbit = (Cpu.registerA & 0x80) === 0x80;\n            Cpu.registerA = rotateByteLeftThroughCarry(Cpu.registerA);\n            // OR the carry flag to the end\n            setCarryFlag(hasHighbit);\n            // Set all other flags to zero\n            setZeroFlag$$1(0);\n            setSubtractFlag(0);\n            setHalfCarryFlag(0);\n            return 4;\n        }\n        case 0x18: {\n            // JR r8\n            // 2  12\n            // NOTE: Discoved dataByte is signed\n            // However the relative Jump Function handles this\n            // 4 cycles\n            relativeJump(getDataByteOne());\n            return 8;\n        }\n        // Relative Jump Function Handles program counter\n        case 0x19: {\n            // ADD HL,DE\n            // 1  8\n            // - 0 H C\n            var registerHL = concatenateBytes(Cpu.registerH, Cpu.registerL);\n            var registerDE9 = concatenateBytes(Cpu.registerD, Cpu.registerE);\n            checkAndSetSixteenBitFlagsAddOverflow(registerHL, registerDE9, false);\n            var result = u16Portable((registerHL + registerDE9));\n            Cpu.registerH = splitHighByte(result);\n            Cpu.registerL = splitLowByte(result);\n            setSubtractFlag(0);\n            return 8;\n        }\n        case 0x1a: {\n            // LD A,(DE)\n            // 1 8\n            var registerDEA = concatenateBytes(Cpu.registerD, Cpu.registerE);\n            // 4 cycles\n            Cpu.registerA = eightBitLoadSyncCycles(registerDEA);\n            return 4;\n        }\n        case 0x1b: {\n            // DEC DE\n            // 1 8\n            var registerDEB = concatenateBytes(Cpu.registerD, Cpu.registerE);\n            registerDEB = u16Portable(registerDEB - 1);\n            Cpu.registerD = splitHighByte(registerDEB);\n            Cpu.registerE = splitLowByte(registerDEB);\n            return 8;\n        }\n        case 0x1c: {\n            // INC E\n            // 1  4\n            // Z 0 H -\n            var registerE = Cpu.registerE;\n            checkAndSetEightBitHalfCarryFlag(registerE, 1);\n            registerE = u8Portable(registerE + 1);\n            Cpu.registerE = registerE;\n            setZeroFlag$$1((registerE === 0));\n            setSubtractFlag(0);\n            return 4;\n        }\n        case 0x1d: {\n            // DEC E\n            // 1  4\n            // Z 1 H -\n            var registerE = Cpu.registerE;\n            checkAndSetEightBitHalfCarryFlag(registerE, -1);\n            registerE = u8Portable(registerE - 1);\n            Cpu.registerE = registerE;\n            setZeroFlag$$1((registerE === 0));\n            setSubtractFlag(1);\n            return 4;\n        }\n        case 0x1e: {\n            // LD E,d8\n            // 2 8\n            // 4 cycles\n            Cpu.registerE = getDataByteOne();\n            Cpu.programCounter = u16Portable(Cpu.programCounter + 1);\n            return 4;\n        }\n        case 0x1f: {\n            // RRA\n            // 1 4\n            // 0 0 0 C\n            // Check for the carry\n            // setting has low bit since we need to use carry\n            var hasLowBit = (Cpu.registerA & 0x01) === 0x01;\n            Cpu.registerA = rotateByteRightThroughCarry(Cpu.registerA);\n            setCarryFlag(hasLowBit);\n            // Set all other flags to zero\n            setZeroFlag$$1(0);\n            setSubtractFlag(0);\n            setHalfCarryFlag(0);\n            return 4;\n        }\n    }\n    return -1;\n}\nfunction handleOpcode2x(opcode) {\n    switch (opcode) {\n        case 0x20: {\n            // JR NZ,r8\n            // 2  12/8\n            // NOTE: NZ stands for not [flag], so in this case, not zero flag\n            // Also, / means, if condition. so if met, 12 cycles, otherwise 8 cycles\n            if (getZeroFlag$$1() === 0) {\n                // 4 cycles\n                relativeJump(getDataByteOne());\n                // Relative Jump Funciton handles program counter\n            }\n            else {\n                Cpu.programCounter = u16Portable(Cpu.programCounter + 1);\n            }\n            return 8;\n        }\n        case 0x21: {\n            // LD HL,d16\n            // 3  12\n            // 8 cycles\n            var sixteenBitDataByte = getConcatenatedDataByte();\n            Cpu.registerH = splitHighByte(sixteenBitDataByte);\n            Cpu.registerL = splitLowByte(sixteenBitDataByte);\n            Cpu.programCounter = u16Portable(Cpu.programCounter + 2);\n            return 4;\n        }\n        case 0x22: {\n            // LD (HL+),A\n            // 1 8\n            var registerHL2 = concatenateBytes(Cpu.registerH, Cpu.registerL);\n            // 4 cycles\n            eightBitStoreSyncCycles(registerHL2, Cpu.registerA);\n            registerHL2 = u16Portable(registerHL2 + 1);\n            Cpu.registerH = splitHighByte(registerHL2);\n            Cpu.registerL = splitLowByte(registerHL2);\n            return 4;\n        }\n        case 0x23: {\n            // INC HL\n            // 1  8\n            var registerHL3 = concatenateBytes(Cpu.registerH, Cpu.registerL);\n            registerHL3 = u16Portable(registerHL3 + 1);\n            Cpu.registerH = splitHighByte(registerHL3);\n            Cpu.registerL = splitLowByte(registerHL3);\n            return 8;\n        }\n        case 0x24: {\n            // INC H\n            // 1  4\n            // Z 0 H -\n            var registerH = Cpu.registerH;\n            checkAndSetEightBitHalfCarryFlag(registerH, 1);\n            registerH = u8Portable(registerH + 1);\n            Cpu.registerH = registerH;\n            setZeroFlag$$1((registerH === 0));\n            setSubtractFlag(0);\n            return 4;\n        }\n        case 0x25: {\n            // DEC H\n            // 1  4\n            // Z 1 H -\n            var registerH = Cpu.registerH;\n            checkAndSetEightBitHalfCarryFlag(registerH, -1);\n            registerH = u8Portable(registerH - 1);\n            Cpu.registerH = registerH;\n            setZeroFlag$$1((registerH === 0));\n            setSubtractFlag(1);\n            return 4;\n        }\n        case 0x26: {\n            // LD H,d8\n            // 2 8\n            // 4 cycles\n            Cpu.registerH = getDataByteOne();\n            Cpu.programCounter = u16Portable(Cpu.programCounter + 1);\n            return 4;\n        }\n        case 0x27: {\n            // DAA\n            // 1 4\n            // Z - 0 C\n            var adjustedRegister = 0;\n            var adjustment = 0;\n            if (getHalfCarryFlag() > 0) {\n                adjustment = adjustment | 0x06;\n            }\n            if (getCarryFlag$$1() > 0) {\n                adjustment = adjustment | 0x60;\n            }\n            var registerA = Cpu.registerA;\n            if (getSubtractFlag() > 0) {\n                adjustedRegister = u8Portable(registerA - adjustment);\n            }\n            else {\n                if ((registerA & 0x0f) > 0x09) {\n                    adjustment = adjustment | 0x06;\n                }\n                if (registerA > 0x99) {\n                    adjustment = adjustment | 0x60;\n                }\n                adjustedRegister = u8Portable(registerA + adjustment);\n            }\n            // Now set our flags to the correct values\n            setZeroFlag$$1((adjustedRegister === 0));\n            setCarryFlag(((adjustment & 0x60) !== 0));\n            setHalfCarryFlag(0);\n            Cpu.registerA = adjustedRegister;\n            return 4;\n        }\n        case 0x28: {\n            // JR Z,r8\n            // 2  12/8\n            if (getZeroFlag$$1() > 0) {\n                // 4 cycles\n                relativeJump(getDataByteOne());\n                // Relative Jump funciton handles pogram counter\n            }\n            else {\n                Cpu.programCounter = u16Portable(Cpu.programCounter + 1);\n            }\n            return 8;\n        }\n        case 0x29: {\n            // ADD HL,HL\n            // 1  8\n            // - 0 H C\n            var registerHL9 = concatenateBytes(Cpu.registerH, Cpu.registerL);\n            checkAndSetSixteenBitFlagsAddOverflow(registerHL9, registerHL9, false);\n            registerHL9 = u16Portable(registerHL9 * 2);\n            Cpu.registerH = splitHighByte(registerHL9);\n            Cpu.registerL = splitLowByte(registerHL9);\n            setSubtractFlag(0);\n            return 8;\n        }\n        case 0x2a: {\n            // LD A,(HL+)\n            // 1  8\n            var registerHLA = concatenateBytes(Cpu.registerH, Cpu.registerL);\n            // 4 cycles\n            Cpu.registerA = eightBitLoadSyncCycles(registerHLA);\n            registerHLA = u16Portable(registerHLA + 1);\n            Cpu.registerH = splitHighByte(registerHLA);\n            Cpu.registerL = splitLowByte(registerHLA);\n            return 4;\n        }\n        case 0x2b: {\n            // DEC HL\n            // 1 8\n            var registerHLB = concatenateBytes(Cpu.registerH, Cpu.registerL);\n            registerHLB = u16Portable(registerHLB - 1);\n            Cpu.registerH = splitHighByte(registerHLB);\n            Cpu.registerL = splitLowByte(registerHLB);\n            return 8;\n        }\n        case 0x2c: {\n            // INC L\n            // 1  4\n            // Z 0 H -\n            var registerL = Cpu.registerL;\n            checkAndSetEightBitHalfCarryFlag(registerL, 1);\n            registerL = u8Portable(registerL + 1);\n            Cpu.registerL = registerL;\n            setZeroFlag$$1((registerL === 0));\n            setSubtractFlag(0);\n            return 4;\n        }\n        case 0x2d: {\n            // DEC L\n            // 1  4\n            // Z 1 H -\n            var registerL = Cpu.registerL;\n            checkAndSetEightBitHalfCarryFlag(registerL, -1);\n            registerL = u8Portable(registerL - 1);\n            Cpu.registerL = registerL;\n            setZeroFlag$$1((registerL === 0));\n            setSubtractFlag(1);\n            return 4;\n        }\n        case 0x2e: {\n            // LD L,d8\n            // 2  8\n            // 4 cycles\n            Cpu.registerL = getDataByteOne();\n            Cpu.programCounter = u16Portable(Cpu.programCounter + 1);\n            return 4;\n        }\n        case 0x2f: {\n            // CPL\n            // 1 4\n            // - 1 1 -\n            Cpu.registerA = ~Cpu.registerA;\n            setSubtractFlag(1);\n            setHalfCarryFlag(1);\n            return 4;\n        }\n    }\n    return -1;\n}\nfunction handleOpcode3x(opcode) {\n    switch (opcode) {\n        case 0x30: {\n            // JR NC,r8\n            // 2 12 / 8\n            if (getCarryFlag$$1() === 0) {\n                // 4 cycles\n                relativeJump(getDataByteOne());\n                // Relative Jump function handles program counter\n            }\n            else {\n                Cpu.programCounter = u16Portable(Cpu.programCounter + 1);\n            }\n            return 8;\n        }\n        case 0x31: {\n            // LD SP,d16\n            // 3 12\n            // 8 cycles\n            Cpu.stackPointer = getConcatenatedDataByte();\n            Cpu.programCounter = u16Portable(Cpu.programCounter + 2);\n            return 4;\n        }\n        case 0x32: {\n            // LD (HL-),A\n            // 1 8\n            var registerHL2 = concatenateBytes(Cpu.registerH, Cpu.registerL);\n            // 4 cycles\n            eightBitStoreSyncCycles(registerHL2, Cpu.registerA);\n            registerHL2 = u16Portable(registerHL2 - 1);\n            Cpu.registerH = splitHighByte(registerHL2);\n            Cpu.registerL = splitLowByte(registerHL2);\n            return 4;\n        }\n        case 0x33: {\n            // INC SP\n            // 1 8\n            Cpu.stackPointer = u16Portable(Cpu.stackPointer + 1);\n            return 8;\n        }\n        case 0x34: {\n            // INC (HL)\n            // 1  12\n            // Z 0 H -\n            var registerHL4 = concatenateBytes(Cpu.registerH, Cpu.registerL);\n            // 4 cycles\n            var valueAtHL4 = eightBitLoadSyncCycles(registerHL4);\n            // Creating a varible for this to fix assemblyscript overflow bug\n            // Requires explicit casting\n            // https://github.com/AssemblyScript/assemblyscript/issues/26\n            var incrementer = 1;\n            checkAndSetEightBitHalfCarryFlag(valueAtHL4, incrementer);\n            valueAtHL4 = u8Portable(valueAtHL4 + incrementer);\n            setZeroFlag$$1((valueAtHL4 === 0));\n            setSubtractFlag(0);\n            // 4 cycles\n            eightBitStoreSyncCycles(registerHL4, valueAtHL4);\n            return 4;\n        }\n        case 0x35: {\n            // DEC (HL)\n            // 1  12\n            // Z 1 H -\n            var registerHL5 = concatenateBytes(Cpu.registerH, Cpu.registerL);\n            // 4 cycles\n            var valueAtHL5 = eightBitLoadSyncCycles(registerHL5);\n            // NOTE: This opcode may not overflow correctly,\n            // Please see previous opcode\n            checkAndSetEightBitHalfCarryFlag(valueAtHL5, -1);\n            valueAtHL5 = u8Portable(valueAtHL5 - 1);\n            setZeroFlag$$1((valueAtHL5 === 0));\n            setSubtractFlag(1);\n            // 4 cycles\n            eightBitStoreSyncCycles(registerHL5, valueAtHL5);\n            return 4;\n        }\n        case 0x36: {\n            // LD (HL),d8\n            // 2  12\n            // 8 cycles, 4 from store, 4 from data byte\n            eightBitStoreSyncCycles(concatenateBytes(Cpu.registerH, Cpu.registerL), getDataByteOne());\n            Cpu.programCounter = u16Portable(Cpu.programCounter + 1);\n            return 4;\n        }\n        case 0x37: {\n            // SCF\n            // 1  4\n            // - 0 0 1\n            // Simply set the carry flag\n            setSubtractFlag(0);\n            setHalfCarryFlag(0);\n            setCarryFlag(1);\n            return 4;\n        }\n        case 0x38: {\n            // JR C,r8\n            // 2 12/8\n            if (getCarryFlag$$1() === 1) {\n                // 4 cycles\n                relativeJump(getDataByteOne());\n                // Relative Jump Funciton handles program counter\n            }\n            else {\n                Cpu.programCounter = u16Portable(Cpu.programCounter + 1);\n            }\n            return 8;\n        }\n        case 0x39: {\n            // ADD HL,SP\n            // 1 8\n            // - 0 H C\n            var registerHL9 = concatenateBytes(Cpu.registerH, Cpu.registerL);\n            checkAndSetSixteenBitFlagsAddOverflow(registerHL9, Cpu.stackPointer, false);\n            var result = u16Portable((registerHL9 + Cpu.stackPointer));\n            Cpu.registerH = splitHighByte(result);\n            Cpu.registerL = splitLowByte(result);\n            setSubtractFlag(0);\n            return 8;\n        }\n        case 0x3a: {\n            // LD A,(HL-)\n            // 1 8\n            var registerHLA = concatenateBytes(Cpu.registerH, Cpu.registerL);\n            // 4 cycles\n            Cpu.registerA = eightBitLoadSyncCycles(registerHLA);\n            registerHLA = u16Portable(registerHLA - 1);\n            Cpu.registerH = splitHighByte(registerHLA);\n            Cpu.registerL = splitLowByte(registerHLA);\n            return 4;\n        }\n        case 0x3b: {\n            // DEC SP\n            // 1 8\n            Cpu.stackPointer = u16Portable(Cpu.stackPointer - 1);\n            return 8;\n        }\n        case 0x3c: {\n            // INC A\n            // 1  4\n            // Z 0 H -\n            var registerA = Cpu.registerA;\n            checkAndSetEightBitHalfCarryFlag(registerA, 1);\n            registerA = u8Portable(registerA + 1);\n            Cpu.registerA = registerA;\n            setZeroFlag$$1((registerA === 0));\n            setSubtractFlag(0);\n            return 4;\n        }\n        case 0x3d: {\n            // DEC A\n            // 1  4\n            // Z 1 H -\n            var registerA = Cpu.registerA;\n            checkAndSetEightBitHalfCarryFlag(registerA, -1);\n            registerA = u8Portable(registerA - 1);\n            Cpu.registerA = registerA;\n            setZeroFlag$$1((registerA === 0));\n            setSubtractFlag(1);\n            return 4;\n        }\n        case 0x3e: {\n            // LD A,d8\n            // 2 8\n            // 4 cycles\n            Cpu.registerA = getDataByteOne();\n            Cpu.programCounter = u16Portable(Cpu.programCounter + 1);\n            return 4;\n        }\n        case 0x3f: {\n            // CCF\n            // 1 4\n            // - 0 0 C\n            setSubtractFlag(0);\n            setHalfCarryFlag(0);\n            setCarryFlag((getCarryFlag$$1() <= 0));\n            return 4;\n        }\n    }\n    return -1;\n}\nfunction handleOpcode4x(opcode) {\n    switch (opcode) {\n        case 0x40:\n            // LD B,B\n            // 1 4\n            // Load B into B, Do nothing\n            return 4;\n        case 0x41:\n            // LD B,C\n            // 1 4\n            Cpu.registerB = Cpu.registerC;\n            return 4;\n        case 0x42:\n            // LD B,D\n            // 1 4\n            Cpu.registerB = Cpu.registerD;\n            return 4;\n        case 0x43:\n            // LD B,E\n            // 1 4\n            Cpu.registerB = Cpu.registerE;\n            return 4;\n        case 0x44:\n            // LD B,H\n            // 1 4\n            Cpu.registerB = Cpu.registerH;\n            return 4;\n        case 0x45:\n            // LD B,L\n            // 1 4\n            Cpu.registerB = Cpu.registerL;\n            return 4;\n        case 0x46:\n            // LD B,(HL)\n            // 1 8\n            // 4 cycles\n            Cpu.registerB = eightBitLoadSyncCycles(concatenateBytes(Cpu.registerH, Cpu.registerL));\n            return 4;\n        case 0x47:\n            // LD B,A\n            // 1 4\n            Cpu.registerB = Cpu.registerA;\n            return 4;\n        case 0x48:\n            // LD C,B\n            // 1 4\n            Cpu.registerC = Cpu.registerB;\n            return 4;\n        case 0x49:\n            // LD C,C\n            // 1 4\n            // Do nothing\n            return 4;\n        case 0x4a:\n            // LD C,D\n            // 1 4\n            Cpu.registerC = Cpu.registerD;\n            return 4;\n        case 0x4b:\n            // LD C,E\n            // 1 4\n            Cpu.registerC = Cpu.registerE;\n            return 4;\n        case 0x4c:\n            // LD C,H\n            // 1 4\n            Cpu.registerC = Cpu.registerH;\n            return 4;\n        case 0x4d:\n            // LD C,L\n            // 1 4\n            Cpu.registerC = Cpu.registerL;\n            return 4;\n        case 0x4e:\n            // LD C,(HL)\n            // 1 8\n            // 4 cycles\n            Cpu.registerC = eightBitLoadSyncCycles(concatenateBytes(Cpu.registerH, Cpu.registerL));\n            return 4;\n        case 0x4f:\n            // LD C,A\n            // 1 4\n            Cpu.registerC = Cpu.registerA;\n            return 4;\n    }\n    return -1;\n}\nfunction handleOpcode5x(opcode) {\n    switch (opcode) {\n        case 0x50:\n            // LD D,B\n            // 1 4\n            Cpu.registerD = Cpu.registerB;\n            return 4;\n        case 0x51:\n            // LD D,C\n            // 1 4\n            Cpu.registerD = Cpu.registerC;\n            return 4;\n        case 0x52:\n            // LD D,D\n            // 1 4\n            // Do Nothing\n            return 4;\n        case 0x53:\n            // LD D,E\n            // 1 4\n            Cpu.registerD = Cpu.registerE;\n            return 4;\n        case 0x54:\n            // LD D,H\n            // 1 4\n            Cpu.registerD = Cpu.registerH;\n            return 4;\n        case 0x55:\n            // LD D,L\n            // 1 4\n            Cpu.registerD = Cpu.registerL;\n            return 4;\n        case 0x56:\n            // LD D,(HL)\n            // 1 8\n            // 4 cycles\n            Cpu.registerD = eightBitLoadSyncCycles(concatenateBytes(Cpu.registerH, Cpu.registerL));\n            return 4;\n        case 0x57:\n            // LD D,A\n            // 1 4\n            Cpu.registerD = Cpu.registerA;\n            return 4;\n        case 0x58:\n            // LD E,B\n            // 1 4\n            Cpu.registerE = Cpu.registerB;\n            return 4;\n        case 0x59:\n            // LD E,C\n            // 1 4\n            Cpu.registerE = Cpu.registerC;\n            return 4;\n        case 0x5a:\n            // LD E,D\n            // 1 4\n            Cpu.registerE = Cpu.registerD;\n            return 4;\n        case 0x5b:\n            // LD E,E\n            // 1 4\n            // Do Nothing\n            return 4;\n        case 0x5c:\n            // LD E,H\n            // 1 4\n            Cpu.registerE = Cpu.registerH;\n            return 4;\n        case 0x5d:\n            // LD E,L\n            // 1 4\n            Cpu.registerE = Cpu.registerL;\n            return 4;\n        case 0x5e:\n            // LD E,(HL)\n            // 1 8\n            // 4 cycles\n            Cpu.registerE = eightBitLoadSyncCycles(concatenateBytes(Cpu.registerH, Cpu.registerL));\n            return 4;\n        case 0x5f:\n            // LD E,A\n            // 1 4\n            Cpu.registerE = Cpu.registerA;\n            return 4;\n    }\n    return -1;\n}\nfunction handleOpcode6x(opcode) {\n    switch (opcode) {\n        case 0x60:\n            // LD H,B\n            // 1 4\n            Cpu.registerH = Cpu.registerB;\n            return 4;\n        case 0x61:\n            // LD H,C\n            // 1 4\n            Cpu.registerH = Cpu.registerC;\n            return 4;\n        case 0x62:\n            // LD H,D\n            // 1 4\n            Cpu.registerH = Cpu.registerD;\n            return 4;\n        case 0x63:\n            // LD H,E\n            // 1 4\n            Cpu.registerH = Cpu.registerE;\n            return 4;\n        case 0x64:\n            // LD H,H\n            // 1 4\n            Cpu.registerH = Cpu.registerH;\n            return 4;\n        case 0x65:\n            // LD H,L\n            // 1 4\n            Cpu.registerH = Cpu.registerL;\n            return 4;\n        case 0x66:\n            // LD H,(HL)\n            // 1 8\n            // 4 cycles\n            Cpu.registerH = eightBitLoadSyncCycles(concatenateBytes(Cpu.registerH, Cpu.registerL));\n            return 4;\n        case 0x67:\n            // LD H,A\n            // 1 4\n            Cpu.registerH = Cpu.registerA;\n            return 4;\n        case 0x68:\n            // LD L,B\n            // 1 4\n            Cpu.registerL = Cpu.registerB;\n            return 4;\n        case 0x69:\n            // LD L,C\n            // 1 4\n            Cpu.registerL = Cpu.registerC;\n            return 4;\n        case 0x6a:\n            // LD L,D\n            // 1 4\n            Cpu.registerL = Cpu.registerD;\n            return 4;\n        case 0x6b:\n            // LD L,E\n            // 1 4\n            Cpu.registerL = Cpu.registerE;\n            return 4;\n        case 0x6c:\n            // LD L,H\n            // 1 4\n            Cpu.registerL = Cpu.registerH;\n            return 4;\n        case 0x6d:\n            // LD L,L\n            // 1 4\n            Cpu.registerL = Cpu.registerL;\n            return 4;\n        case 0x6e:\n            // LD L,(HL)\n            // 1 8\n            // 4 cycles\n            Cpu.registerL = eightBitLoadSyncCycles(concatenateBytes(Cpu.registerH, Cpu.registerL));\n            return 4;\n        case 0x6f:\n            // LD L,A\n            // 1 4\n            Cpu.registerL = Cpu.registerA;\n            return 4;\n    }\n    return -1;\n}\nfunction handleOpcode7x(opcode) {\n    switch (opcode) {\n        case 0x70:\n            // LD (HL),B\n            // 1 8\n            // 4 cycles\n            eightBitStoreSyncCycles(concatenateBytes(Cpu.registerH, Cpu.registerL), Cpu.registerB);\n            return 4;\n        case 0x71:\n            // LD (HL),C\n            // 1 8\n            // 4 cycles\n            eightBitStoreSyncCycles(concatenateBytes(Cpu.registerH, Cpu.registerL), Cpu.registerC);\n            return 4;\n        case 0x72:\n            // LD (HL),D\n            // 1 8\n            // 4 cycles\n            eightBitStoreSyncCycles(concatenateBytes(Cpu.registerH, Cpu.registerL), Cpu.registerD);\n            return 4;\n        case 0x73:\n            // LD (HL),E\n            // 1 8\n            // 4 cycles\n            eightBitStoreSyncCycles(concatenateBytes(Cpu.registerH, Cpu.registerL), Cpu.registerE);\n            return 4;\n        case 0x74:\n            // LD (HL),H\n            // 1 8\n            // 4 cycles\n            eightBitStoreSyncCycles(concatenateBytes(Cpu.registerH, Cpu.registerL), Cpu.registerH);\n            return 4;\n        case 0x75:\n            // LD (HL),L\n            // 1 8\n            // 4 cycles\n            eightBitStoreSyncCycles(concatenateBytes(Cpu.registerH, Cpu.registerL), Cpu.registerL);\n            return 4;\n        case 0x76:\n            // HALT\n            // 1 4\n            // Enter CPU very low power mode\n            // Meaning Don't Decode anymore opcodes until an interrupt occurs\n            // Still need to do timers and things\n            // Can't Halt during an HDMA\n            // https://gist.github.com/drhelius/3394856\n            if (!Memory.isHblankHdmaActive) {\n                Cpu.enableHalt();\n            }\n            return 4;\n        case 0x77:\n            // LD (HL),A\n            // 1 8\n            // 4 cycles\n            eightBitStoreSyncCycles(concatenateBytes(Cpu.registerH, Cpu.registerL), Cpu.registerA);\n            return 4;\n        case 0x78:\n            // LD A,B\n            // 1 4\n            Cpu.registerA = Cpu.registerB;\n            return 4;\n        case 0x79:\n            // LD A,C\n            // 1 4\n            Cpu.registerA = Cpu.registerC;\n            return 4;\n        case 0x7a:\n            // LD A,D\n            // 1 4\n            Cpu.registerA = Cpu.registerD;\n            return 4;\n        case 0x7b:\n            // LD A,E\n            // 1 4\n            Cpu.registerA = Cpu.registerE;\n            return 4;\n        case 0x7c:\n            // LD A,H\n            // 1 4\n            Cpu.registerA = Cpu.registerH;\n            return 4;\n        case 0x7d:\n            // LD A,L\n            // 1 4\n            Cpu.registerA = Cpu.registerL;\n            return 4;\n        case 0x7e:\n            // LD A,(HL)\n            // 1 8\n            // NOTE: Thanks to @binji for catching that this should be 8 cycles, not 4\n            // 4 cycles\n            Cpu.registerA = eightBitLoadSyncCycles(concatenateBytes(Cpu.registerH, Cpu.registerL));\n            return 4;\n        case 0x7f:\n            // LD A,A\n            // 1 4\n            // Do Nothing\n            return 4;\n    }\n    return -1;\n}\nfunction handleOpcode8x(opcode) {\n    switch (opcode) {\n        case 0x80:\n            // ADD A,B\n            // 1 4\n            // Z 0 H C\n            addARegister(Cpu.registerB);\n            return 4;\n        case 0x81:\n            // ADD A,C\n            // 1 4\n            // Z 0 H C\n            addARegister(Cpu.registerC);\n            return 4;\n        case 0x82:\n            // ADD A,D\n            // 1 4\n            // Z 0 H C\n            addARegister(Cpu.registerD);\n            return 4;\n        case 0x83:\n            // ADD A,E\n            // 1 4\n            // Z 0 H C\n            addARegister(Cpu.registerE);\n            return 4;\n        case 0x84:\n            // ADD A,H\n            // 1 4\n            // Z 0 H C\n            addARegister(Cpu.registerH);\n            return 4;\n        case 0x85:\n            // ADD A,L\n            // 1 4\n            // Z 0 H C\n            addARegister(Cpu.registerL);\n            return 4;\n        case 0x86:\n            // ADD A,(HL)\n            // 1 8\n            // Z 0 H C\n            // 4 cycles\n            var valueAtHL6 = eightBitLoadSyncCycles(concatenateBytes(Cpu.registerH, Cpu.registerL));\n            addARegister(valueAtHL6);\n            return 4;\n        case 0x87:\n            // ADD A,A\n            // 1 4\n            // Z 0 H C\n            addARegister(Cpu.registerA);\n            return 4;\n        case 0x88:\n            // ADC A,B\n            // 1 4\n            // Z 0 H C\n            addAThroughCarryRegister(Cpu.registerB);\n            return 4;\n        case 0x89:\n            // ADC A,C\n            // 1 4\n            // Z 0 H C\n            addAThroughCarryRegister(Cpu.registerC);\n            return 4;\n        case 0x8a:\n            // ADC A,D\n            // 1 4\n            // Z 0 H C\n            addAThroughCarryRegister(Cpu.registerD);\n            return 4;\n        case 0x8b:\n            // ADC A,E\n            // 1 4\n            // Z 0 H C\n            addAThroughCarryRegister(Cpu.registerE);\n            return 4;\n        case 0x8c:\n            // ADC A,H\n            // 1 4\n            // Z 0 H C\n            addAThroughCarryRegister(Cpu.registerH);\n            return 4;\n        case 0x8d:\n            // ADC A,L\n            // 1 4\n            // Z 0 H C\n            addAThroughCarryRegister(Cpu.registerL);\n            return 4;\n        case 0x8e:\n            // ADC A,(HL)\n            // 1 8\n            // Z 0 H C\n            // 4 cycles\n            var valueAtHLE = eightBitLoadSyncCycles(concatenateBytes(Cpu.registerH, Cpu.registerL));\n            addAThroughCarryRegister(valueAtHLE);\n            return 4;\n        case 0x8f:\n            // ADC A,A\n            // 1 4\n            // Z 0 H C\n            addAThroughCarryRegister(Cpu.registerA);\n            return 4;\n    }\n    return -1;\n}\nfunction handleOpcode9x(opcode) {\n    switch (opcode) {\n        case 0x90:\n            // SUB B\n            // 1  4\n            // Z 1 H C\n            subARegister(Cpu.registerB);\n            return 4;\n        case 0x91:\n            // SUB C\n            // 1  4\n            // Z 1 H C\n            subARegister(Cpu.registerC);\n            return 4;\n        case 0x92:\n            // SUB D\n            // 1  4\n            // Z 1 H C\n            subARegister(Cpu.registerD);\n            return 4;\n        case 0x93:\n            // SUB E\n            // 1  4\n            // Z 1 H C\n            subARegister(Cpu.registerE);\n            return 4;\n        case 0x94:\n            // SUB H\n            // 1  4\n            // Z 1 H C\n            subARegister(Cpu.registerH);\n            return 4;\n        case 0x95:\n            // SUB L\n            // 1  4\n            // Z 1 H C\n            subARegister(Cpu.registerL);\n            return 4;\n        case 0x96:\n            // SUB (HL)\n            // 1  8\n            // Z 1 H C\n            // 4 cycles\n            var valueAtHL6 = eightBitLoadSyncCycles(concatenateBytes(Cpu.registerH, Cpu.registerL));\n            subARegister(valueAtHL6);\n            return 4;\n        case 0x97:\n            // SUB A\n            // 1  4\n            // Z 1 H C\n            subARegister(Cpu.registerA);\n            return 4;\n        case 0x98:\n            // SBC A,B\n            // 1  4\n            // Z 1 H C\n            subAThroughCarryRegister(Cpu.registerB);\n            return 4;\n        case 0x99:\n            // SBC A,C\n            // 1  4\n            // Z 1 H C\n            subAThroughCarryRegister(Cpu.registerC);\n            return 4;\n        case 0x9a:\n            // SBC A,D\n            // 1  4\n            // Z 1 H C\n            subAThroughCarryRegister(Cpu.registerD);\n            return 4;\n        case 0x9b:\n            // SBC A,E\n            // 1  4\n            // Z 1 H C\n            subAThroughCarryRegister(Cpu.registerE);\n            return 4;\n        case 0x9c:\n            // SBC A,H\n            // 1  4\n            // Z 1 H C\n            subAThroughCarryRegister(Cpu.registerH);\n            return 4;\n        case 0x9d:\n            // SBC A,L\n            // 1  4\n            // Z 1 H C\n            subAThroughCarryRegister(Cpu.registerL);\n            return 4;\n        case 0x9e:\n            // SBC A,(HL)\n            // 1  8\n            // Z 1 H C\n            // 4 cycles\n            var valueAtHLE = eightBitLoadSyncCycles(concatenateBytes(Cpu.registerH, Cpu.registerL));\n            subAThroughCarryRegister(valueAtHLE);\n            return 4;\n        case 0x9f:\n            // SBC A,A\n            // 1  4\n            // Z 1 H C\n            subAThroughCarryRegister(Cpu.registerA);\n            return 4;\n    }\n    return -1;\n}\nfunction handleOpcodeAx(opcode) {\n    switch (opcode) {\n        case 0xa0:\n            // AND B\n            // 1  4\n            // Z 0 1 0\n            andARegister(Cpu.registerB);\n            return 4;\n        case 0xa1:\n            // AND C\n            // 1  4\n            // Z 0 1 0\n            andARegister(Cpu.registerC);\n            return 4;\n        case 0xa2:\n            // AND D\n            // 1  4\n            // Z 0 1 0\n            andARegister(Cpu.registerD);\n            return 4;\n        case 0xa3:\n            // AND E\n            // 1  4\n            // Z 0 1 0\n            andARegister(Cpu.registerE);\n            return 4;\n        case 0xa4:\n            // AND H\n            // 1  4\n            // Z 0 1 0\n            andARegister(Cpu.registerH);\n            return 4;\n        case 0xa5:\n            // AND L\n            // 1  4\n            // Z 0 1 0\n            andARegister(Cpu.registerL);\n            return 4;\n        case 0xa6:\n            // AND (HL)\n            // 1  8\n            // Z 0 1 0\n            // 4 cycles\n            var valueAtHL6 = eightBitLoadSyncCycles(concatenateBytes(Cpu.registerH, Cpu.registerL));\n            andARegister(valueAtHL6);\n            return 4;\n        case 0xa7:\n            // AND A\n            // 1  4\n            // Z 0 1 0\n            // NOTE: & Yourself, does nothing\n            andARegister(Cpu.registerA);\n            return 4;\n        case 0xa8:\n            // XOR B\n            // 1  4\n            // Z 0 0 0\n            xorARegister(Cpu.registerB);\n            return 4;\n        case 0xa9:\n            // XOR C\n            // 1  4\n            // Z 0 0 0\n            xorARegister(Cpu.registerC);\n            return 4;\n        case 0xaa:\n            // XOR D\n            // 1  4\n            // Z 0 0 0\n            xorARegister(Cpu.registerD);\n            return 4;\n        case 0xab:\n            // XOR E\n            // 1  4\n            // Z 0 0 0\n            xorARegister(Cpu.registerE);\n            return 4;\n        case 0xac:\n            // XOR H\n            // 1  4\n            // Z 0 0 0\n            xorARegister(Cpu.registerH);\n            return 4;\n        case 0xad:\n            // XOR L\n            // 1  4\n            // Z 0 0 0\n            xorARegister(Cpu.registerL);\n            return 4;\n        case 0xae:\n            // XOR (HL)\n            // 1  8\n            // Z 0 0 0\n            // 4 cycles\n            var valueAtHLE = eightBitLoadSyncCycles(concatenateBytes(Cpu.registerH, Cpu.registerL));\n            xorARegister(valueAtHLE);\n            return 4;\n        case 0xaf:\n            // XOR A\n            // 1  4\n            // Z 0 0 0\n            xorARegister(Cpu.registerA);\n            return 4;\n    }\n    return -1;\n}\nfunction handleOpcodeBx(opcode) {\n    switch (opcode) {\n        case 0xb0:\n            // OR B\n            // 1  4\n            // Z 0 0 0\n            orARegister(Cpu.registerB);\n            return 4;\n        case 0xb1:\n            // OR C\n            // 1  4\n            // Z 0 0 0\n            orARegister(Cpu.registerC);\n            return 4;\n        case 0xb2:\n            // OR D\n            // 1  4\n            // Z 0 0 0\n            orARegister(Cpu.registerD);\n            return 4;\n        case 0xb3:\n            // OR E\n            // 1  4\n            // Z 0 0 0\n            orARegister(Cpu.registerE);\n            return 4;\n        case 0xb4:\n            // OR H\n            // 1  4\n            // Z 0 0 0\n            orARegister(Cpu.registerH);\n            return 4;\n        case 0xb5:\n            // OR L\n            // 1  4\n            // Z 0 0 0\n            orARegister(Cpu.registerL);\n            return 4;\n        case 0xb6:\n            // OR (HL)\n            // 1  8\n            // Z 0 0 0\n            // 4 cycles\n            var valueAtHL6 = eightBitLoadSyncCycles(concatenateBytes(Cpu.registerH, Cpu.registerL));\n            orARegister(valueAtHL6);\n            return 4;\n        case 0xb7:\n            // OR A\n            // 1  4\n            // Z 0 0 0\n            orARegister(Cpu.registerA);\n            return 4;\n        case 0xb8:\n            // CP B\n            // 1  4\n            // Z 1 H C\n            cpARegister(Cpu.registerB);\n            return 4;\n        case 0xb9:\n            // CP C\n            // 1  4\n            // Z 1 H C\n            cpARegister(Cpu.registerC);\n            return 4;\n        case 0xba:\n            // CP D\n            // 1  4\n            // Z 1 H C\n            cpARegister(Cpu.registerD);\n            return 4;\n        case 0xbb:\n            // CP E\n            // 1  4\n            // Z 1 H C\n            cpARegister(Cpu.registerE);\n            return 4;\n        case 0xbc:\n            // CP H\n            // 1  4\n            // Z 1 H C\n            cpARegister(Cpu.registerH);\n            return 4;\n        case 0xbd:\n            // CP L\n            // 1  4\n            // Z 1 H C\n            cpARegister(Cpu.registerL);\n            return 4;\n        case 0xbe:\n            // CP (HL)\n            // 1  8\n            // Z 1 H C\n            // 4 cycles\n            var valueAtHLE = eightBitLoadSyncCycles(concatenateBytes(Cpu.registerH, Cpu.registerL));\n            cpARegister(valueAtHLE);\n            return 4;\n        case 0xbf:\n            // CP A\n            // 1  4\n            // Z 1 H C\n            cpARegister(Cpu.registerA);\n            return 4;\n    }\n    return -1;\n}\nfunction handleOpcodeCx(opcode) {\n    switch (opcode) {\n        case 0xc0: {\n            // RET NZ\n            // 1  20/8\n            if (getZeroFlag$$1() === 0) {\n                // 8 cycles\n                var stackPointer = Cpu.stackPointer;\n                Cpu.programCounter = sixteenBitLoadSyncCycles(stackPointer);\n                Cpu.stackPointer = u16Portable(stackPointer + 2);\n                return 12;\n            }\n            else {\n                return 8;\n            }\n        }\n        case 0xc1: {\n            // POP BC\n            // 1  12\n            // 8 cycles\n            var registerBC1 = sixteenBitLoadSyncCycles(Cpu.stackPointer);\n            Cpu.stackPointer = u16Portable(Cpu.stackPointer + 2);\n            Cpu.registerB = splitHighByte(registerBC1);\n            Cpu.registerC = splitLowByte(registerBC1);\n            return 4;\n        }\n        case 0xc2: {\n            // JP NZ,a16\n            // 3  16/12\n            if (getZeroFlag$$1() === 0) {\n                // 8 cycles\n                Cpu.programCounter = getConcatenatedDataByte();\n                return 8;\n            }\n            else {\n                Cpu.programCounter = u16Portable(Cpu.programCounter + 2);\n                return 12;\n            }\n        }\n        case 0xc3: {\n            // JP a16\n            // 3  16\n            // 8 cycles\n            Cpu.programCounter = getConcatenatedDataByte();\n            return 8;\n        }\n        case 0xc4: {\n            // CALL NZ,a16\n            // 3  24/12\n            if (getZeroFlag$$1() === 0) {\n                var stackPointer = u16Portable(Cpu.stackPointer - 2);\n                Cpu.stackPointer = stackPointer;\n                // 8 cycles\n                sixteenBitStoreSyncCycles(stackPointer, u16Portable(Cpu.programCounter + 2));\n                // 8 cycles\n                Cpu.programCounter = getConcatenatedDataByte();\n                return 8;\n            }\n            else {\n                Cpu.programCounter = u16Portable(Cpu.programCounter + 2);\n                return 12;\n            }\n        }\n        case 0xc5: {\n            // PUSH BC\n            // 1  16\n            var stackPointer = u16Portable(Cpu.stackPointer - 2);\n            Cpu.stackPointer = stackPointer;\n            // 8 cycles\n            sixteenBitStoreSyncCycles(stackPointer, concatenateBytes(Cpu.registerB, Cpu.registerC));\n            return 8;\n        }\n        case 0xc6: {\n            // ADD A,d8\n            // 2 8\n            // Z 0 H C\n            // 4 cycles\n            addARegister(getDataByteOne());\n            Cpu.programCounter = u16Portable(Cpu.programCounter + 1);\n            return 4;\n        }\n        case 0xc7: {\n            // RST 00H\n            // 1 16\n            var stackPointer = u16Portable(Cpu.stackPointer - 2);\n            Cpu.stackPointer = stackPointer;\n            // 8 cycles\n            sixteenBitStoreSyncCycles(stackPointer, Cpu.programCounter);\n            Cpu.programCounter = 0x00;\n            return 8;\n        }\n        case 0xc8: {\n            // RET Z\n            // 1  20/8\n            if (getZeroFlag$$1() === 1) {\n                // 8 cycles\n                var stackPointer = Cpu.stackPointer;\n                Cpu.programCounter = sixteenBitLoadSyncCycles(stackPointer);\n                Cpu.stackPointer = u16Portable(stackPointer + 2);\n                return 12;\n            }\n            else {\n                return 8;\n            }\n        }\n        case 0xc9: {\n            // RET\n            // 1 16\n            // 8 cycles\n            var stackPointer = Cpu.stackPointer;\n            Cpu.programCounter = sixteenBitLoadSyncCycles(stackPointer);\n            Cpu.stackPointer = u16Portable(stackPointer + 2);\n            return 8;\n        }\n        case 0xca: {\n            // JP Z,a16\n            // 3 16/12\n            if (getZeroFlag$$1() === 1) {\n                // 8 cycles\n                Cpu.programCounter = getConcatenatedDataByte();\n                return 8;\n            }\n            else {\n                Cpu.programCounter = u16Portable(Cpu.programCounter + 2);\n                return 12;\n            }\n        }\n        case 0xcb: {\n            // PREFIX CB\n            // 1  4\n            // 4 cycles\n            var cbCycles = handleCbOpcode(getDataByteOne());\n            Cpu.programCounter = u16Portable(Cpu.programCounter + 1);\n            return cbCycles;\n        }\n        case 0xcc: {\n            // CALL Z,a16\n            // 3  24/12\n            if (getZeroFlag$$1() === 1) {\n                var stackPointer = u16Portable(Cpu.stackPointer - 2);\n                Cpu.stackPointer = stackPointer;\n                // 8 cycles\n                sixteenBitStoreSyncCycles(stackPointer, Cpu.programCounter + 2);\n                // 8 cycles\n                Cpu.programCounter = getConcatenatedDataByte();\n                return 8;\n            }\n            else {\n                Cpu.programCounter = u16Portable(Cpu.programCounter + 2);\n                return 12;\n            }\n        }\n        case 0xcd: {\n            // CALL a16\n            // 3  24\n            var stackPointer = u16Portable(Cpu.stackPointer - 2);\n            Cpu.stackPointer = stackPointer;\n            // 8 cycles\n            sixteenBitStoreSyncCycles(stackPointer, u16Portable(Cpu.programCounter + 2));\n            // 8 cycles\n            Cpu.programCounter = getConcatenatedDataByte();\n            return 8;\n        }\n        case 0xce: {\n            // ADC A,d8\n            // 2  8\n            // Z 0 H C\n            // 4 cycles\n            addAThroughCarryRegister(getDataByteOne());\n            Cpu.programCounter = u16Portable(Cpu.programCounter + 1);\n            return 4;\n        }\n        case 0xcf: {\n            // RST 08H\n            // 1 16\n            var stackPointer = u16Portable(Cpu.stackPointer - 2);\n            Cpu.stackPointer = stackPointer;\n            // 8 cycles\n            sixteenBitStoreSyncCycles(stackPointer, Cpu.programCounter);\n            Cpu.programCounter = 0x08;\n            return 8;\n        }\n    }\n    return -1;\n}\nfunction handleOpcodeDx(opcode) {\n    switch (opcode) {\n        case 0xd0: {\n            // RET NC\n            // 1  20/8\n            if (getCarryFlag$$1() === 0) {\n                // 8 cycles\n                var stackPointer = Cpu.stackPointer;\n                Cpu.programCounter = sixteenBitLoadSyncCycles(stackPointer);\n                Cpu.stackPointer = u16Portable(stackPointer + 2);\n                return 12;\n            }\n            else {\n                return 8;\n            }\n        }\n        case 0xd1: {\n            // POP DE\n            // 1  12\n            // 8 cycles\n            var stackPointer = Cpu.stackPointer;\n            var registerDE1 = sixteenBitLoadSyncCycles(stackPointer);\n            Cpu.stackPointer = u16Portable(stackPointer + 2);\n            Cpu.registerD = splitHighByte(registerDE1);\n            Cpu.registerE = splitLowByte(registerDE1);\n            return 4;\n        }\n        case 0xd2: {\n            // JP NC,a16\n            // 3  16/12\n            if (getCarryFlag$$1() === 0) {\n                // 8 cycles\n                Cpu.programCounter = getConcatenatedDataByte();\n                return 8;\n            }\n            else {\n                Cpu.programCounter = u16Portable(Cpu.programCounter + 2);\n                return 12;\n            }\n        }\n        /* No Opcode for: 0xD3 */\n        case 0xd4: {\n            // CALL NC,a16\n            // 3  24/12\n            if (getCarryFlag$$1() === 0) {\n                var stackPointer = u16Portable(Cpu.stackPointer - 2);\n                Cpu.stackPointer = stackPointer;\n                // 8 cycles\n                sixteenBitStoreSyncCycles(stackPointer, Cpu.programCounter + 2);\n                // 8 cycles\n                Cpu.programCounter = getConcatenatedDataByte();\n                return 8;\n            }\n            else {\n                Cpu.programCounter = u16Portable(Cpu.programCounter + 2);\n                return 12;\n            }\n        }\n        case 0xd5: {\n            // PUSH DE\n            // 1 16\n            var stackPointer = u16Portable(Cpu.stackPointer - 2);\n            Cpu.stackPointer = stackPointer;\n            // 8 cycles\n            sixteenBitStoreSyncCycles(stackPointer, concatenateBytes(Cpu.registerD, Cpu.registerE));\n            return 8;\n        }\n        case 0xd6: {\n            // SUB d8\n            // 2  8\n            // Z 1 H C\n            // 4 cycles\n            subARegister(getDataByteOne());\n            Cpu.programCounter = u16Portable(Cpu.programCounter + 1);\n            return 4;\n        }\n        case 0xd7: {\n            // RST 10H\n            // 1 16\n            var stackPointer = u16Portable(Cpu.stackPointer - 2);\n            Cpu.stackPointer = stackPointer;\n            // 8 cycles\n            sixteenBitStoreSyncCycles(stackPointer, Cpu.programCounter);\n            Cpu.programCounter = 0x10;\n            return 8;\n        }\n        case 0xd8: {\n            // RET C\n            // 1  20/8\n            if (getCarryFlag$$1() === 1) {\n                var stackPointer = Cpu.stackPointer;\n                // 8 cycles\n                Cpu.programCounter = sixteenBitLoadSyncCycles(stackPointer);\n                Cpu.stackPointer = u16Portable(stackPointer + 2);\n                return 12;\n            }\n            else {\n                return 8;\n            }\n        }\n        case 0xd9: {\n            // RETI\n            // 1  16\n            var stackPointer = Cpu.stackPointer;\n            // 8 cycles\n            Cpu.programCounter = sixteenBitLoadSyncCycles(stackPointer);\n            // Enable interrupts\n            setInterrupts(true);\n            Cpu.stackPointer = u16Portable(stackPointer + 2);\n            return 8;\n        }\n        case 0xda: {\n            // JP C,a16\n            // 3 16/12\n            if (getCarryFlag$$1() === 1) {\n                // 8 cycles\n                Cpu.programCounter = getConcatenatedDataByte();\n                return 8;\n            }\n            else {\n                Cpu.programCounter = u16Portable(Cpu.programCounter + 2);\n                return 12;\n            }\n        }\n        /* No Opcode for: 0xDB */\n        case 0xdc: {\n            // CALL C,a16\n            // 3  24/12\n            if (getCarryFlag$$1() === 1) {\n                var stackPointer = u16Portable(Cpu.stackPointer - 2);\n                Cpu.stackPointer = stackPointer;\n                // 8 cycles\n                sixteenBitStoreSyncCycles(stackPointer, u16Portable(Cpu.programCounter + 2));\n                // 8 cycles\n                Cpu.programCounter = getConcatenatedDataByte();\n                return 8;\n            }\n            else {\n                Cpu.programCounter = u16Portable(Cpu.programCounter + 2);\n                return 12;\n            }\n        }\n        /* No Opcode for: 0xDD */\n        case 0xde: {\n            // SBC A,d8\n            // 2 8\n            // Z 1 H C\n            // 4 cycles\n            subAThroughCarryRegister(getDataByteOne());\n            Cpu.programCounter = u16Portable(Cpu.programCounter + 1);\n            return 4;\n        }\n        case 0xdf: {\n            // RST 18H\n            // 1 16\n            var stackPointer = u16Portable(Cpu.stackPointer - 2);\n            Cpu.stackPointer = stackPointer;\n            // 8 cycles\n            sixteenBitStoreSyncCycles(stackPointer, Cpu.programCounter);\n            Cpu.programCounter = 0x18;\n            return 8;\n        }\n    }\n    return -1;\n}\nfunction handleOpcodeEx(opcode) {\n    switch (opcode) {\n        case 0xe0: {\n            // LDH (a8),A\n            // 2  12\n            // Store value in high RAM ($FF00 + a8)\n            // 4 cycles\n            var largeDataByteOne = getDataByteOne();\n            // 4 cycles\n            eightBitStoreSyncCycles(0xff00 + largeDataByteOne, Cpu.registerA);\n            Cpu.programCounter = u16Portable(Cpu.programCounter + 1);\n            return 4;\n        }\n        case 0xe1: {\n            // POP HL\n            // 1  12\n            // 8 cycles\n            var stackPointer = Cpu.stackPointer;\n            var registerHL1 = sixteenBitLoadSyncCycles(stackPointer);\n            Cpu.stackPointer = u16Portable(stackPointer + 2);\n            Cpu.registerH = splitHighByte(registerHL1);\n            Cpu.registerL = splitLowByte(registerHL1);\n            return 4;\n        }\n        case 0xe2: {\n            // LD (C),A\n            // 1  8\n            // NOTE: Table says 2 Program counter,\n            // But stepping through the boot rom, should be one\n            // Also should change 0xF2\n            // Store value in high RAM ($FF00 + register c)\n            // 4 cycles\n            eightBitStoreSyncCycles(0xff00 + Cpu.registerC, Cpu.registerA);\n            return 4;\n        }\n        /* No Opcode for: 0xE3, 0xE4 */\n        case 0xe5: {\n            // PUSH HL\n            // 1 16\n            var stackPointer = u16Portable(Cpu.stackPointer - 2);\n            Cpu.stackPointer = stackPointer;\n            // 8 cycles\n            sixteenBitStoreSyncCycles(stackPointer, concatenateBytes(Cpu.registerH, Cpu.registerL));\n            return 8;\n        }\n        case 0xe6: {\n            // AND d8\n            // 2  8\n            // Z 0 1 0\n            // 4 cycles\n            andARegister(getDataByteOne());\n            Cpu.programCounter = u16Portable(Cpu.programCounter + 1);\n            return 4;\n        }\n        case 0xe7: {\n            // RST 20H\n            // 1 16\n            var stackPointer = u16Portable(Cpu.stackPointer - 2);\n            Cpu.stackPointer = stackPointer;\n            // 8 cycles\n            sixteenBitStoreSyncCycles(stackPointer, Cpu.programCounter);\n            Cpu.programCounter = 0x20;\n            return 8;\n        }\n        case 0xe8: {\n            // ADD SP, r8\n            // 2 16\n            // 0 0 H C\n            // NOTE: Discoved dataByte is signed\n            // 4 cycles\n            var signedDataByteOne = i8Portable(getDataByteOne());\n            checkAndSetSixteenBitFlagsAddOverflow(Cpu.stackPointer, signedDataByteOne, true);\n            Cpu.stackPointer = u16Portable(Cpu.stackPointer + signedDataByteOne);\n            setZeroFlag$$1(0);\n            setSubtractFlag(0);\n            Cpu.programCounter = u16Portable(Cpu.programCounter + 1);\n            return 12;\n        }\n        case 0xe9: {\n            // JP HL\n            // 1 4\n            Cpu.programCounter = concatenateBytes(Cpu.registerH, Cpu.registerL);\n            return 4;\n        }\n        case 0xea: {\n            // LD (a16),A\n            // 3 16\n            // 12 cycles, 4 from store, 8 from concatenated data byte\n            eightBitStoreSyncCycles(getConcatenatedDataByte(), Cpu.registerA);\n            Cpu.programCounter = u16Portable(Cpu.programCounter + 2);\n            return 4;\n        }\n        /* No Opcode for: 0xEB, 0xEC, 0xED */\n        case 0xee: {\n            // XOR d8\n            // 2 8\n            // Z 0 0 0\n            // 4 cycles\n            xorARegister(getDataByteOne());\n            Cpu.programCounter = u16Portable(Cpu.programCounter + 1);\n            return 4;\n        }\n        case 0xef: {\n            // RST 28H\n            // 1 16\n            var stackPointer = u16Portable(Cpu.stackPointer - 2);\n            Cpu.stackPointer = stackPointer;\n            // 8 cycles\n            sixteenBitStoreSyncCycles(stackPointer, Cpu.programCounter);\n            Cpu.programCounter = 0x28;\n            return 8;\n        }\n    }\n    return -1;\n}\nfunction handleOpcodeFx(opcode) {\n    switch (opcode) {\n        case 0xf0: {\n            // LDH A,(a8)\n            // 2 12\n            // 4 cycles\n            var largeDataByteOne = getDataByteOne();\n            // 4 cycles\n            Cpu.registerA = u8Portable(eightBitLoadSyncCycles(0xff00 + largeDataByteOne));\n            Cpu.programCounter = u16Portable(Cpu.programCounter + 1);\n            return 4;\n        }\n        case 0xf1: {\n            // POP AF\n            // 1 12\n            // Z N H C (But No work require, flags are already set)\n            // 8 cycles\n            var stackPointer = Cpu.stackPointer;\n            var registerAF1 = sixteenBitLoadSyncCycles(stackPointer);\n            Cpu.stackPointer = u16Portable(stackPointer + 2);\n            Cpu.registerA = splitHighByte(registerAF1);\n            Cpu.registerF = splitLowByte(registerAF1);\n            return 4;\n        }\n        case 0xf2: {\n            // LD A,(C)\n            // 1 8\n            // 4 cycles\n            Cpu.registerA = u8Portable(eightBitLoadSyncCycles(0xff00 + Cpu.registerC));\n            return 4;\n        }\n        case 0xf3: {\n            // DI\n            // 1 4\n            setInterrupts(false);\n            return 4;\n        }\n        /* No Opcode for: 0xF4 */\n        case 0xf5: {\n            // PUSH AF\n            // 1 16\n            var stackPointer = u16Portable(Cpu.stackPointer - 2);\n            Cpu.stackPointer = stackPointer;\n            // 8 cycles\n            sixteenBitStoreSyncCycles(stackPointer, concatenateBytes(Cpu.registerA, Cpu.registerF));\n            return 8;\n        }\n        case 0xf6: {\n            // OR d8\n            // 2 8\n            // Z 0 0 0\n            // 4 cycles\n            orARegister(getDataByteOne());\n            Cpu.programCounter = u16Portable(Cpu.programCounter + 1);\n            return 4;\n        }\n        case 0xf7: {\n            // RST 30H\n            // 1 16\n            var stackPointer = u16Portable(Cpu.stackPointer - 2);\n            Cpu.stackPointer = stackPointer;\n            // 8 cycles\n            sixteenBitStoreSyncCycles(stackPointer, Cpu.programCounter);\n            Cpu.programCounter = 0x30;\n            return 8;\n        }\n        case 0xf8: {\n            // LD HL,SP+r8\n            // 2 12\n            // 0 0 H C\n            // NOTE: Discoved dataByte is signed\n            // 4 cycles\n            var signedDataByteOne = i8Portable(getDataByteOne());\n            var stackPointer = Cpu.stackPointer;\n            // First, let's handle flags\n            setZeroFlag$$1(0);\n            setSubtractFlag(0);\n            checkAndSetSixteenBitFlagsAddOverflow(stackPointer, signedDataByteOne, true);\n            var registerHL = u16Portable(stackPointer + signedDataByteOne);\n            Cpu.registerH = splitHighByte(registerHL);\n            Cpu.registerL = splitLowByte(registerHL);\n            Cpu.programCounter = u16Portable(Cpu.programCounter + 1);\n            return 8;\n        }\n        case 0xf9: {\n            // LD SP,HL\n            // 1 8\n            Cpu.stackPointer = concatenateBytes(Cpu.registerH, Cpu.registerL);\n            return 8;\n        }\n        case 0xfa: {\n            // LD A,(a16)\n            // 3 16\n            // 12 cycles, 4 from load, 8 from concatenated data byte\n            Cpu.registerA = eightBitLoadSyncCycles(getConcatenatedDataByte());\n            Cpu.programCounter = u16Portable(Cpu.programCounter + 2);\n            return 4;\n        }\n        case 0xfb: {\n            // EI\n            // 1 4\n            setInterrupts(true);\n            return 4;\n        }\n        /* No Opcode for: 0xFC, 0xFD */\n        case 0xfe: {\n            // CP d8\n            // 2 8\n            // Z 1 H C\n            // 4 cycles\n            cpARegister(getDataByteOne());\n            Cpu.programCounter = u16Portable(Cpu.programCounter + 1);\n            return 4;\n        }\n        case 0xff: {\n            // RST 38H\n            // 1 16\n            var stackPointer = u16Portable(Cpu.stackPointer - 2);\n            Cpu.stackPointer = stackPointer;\n            // 8 cycles\n            sixteenBitStoreSyncCycles(stackPointer, Cpu.programCounter);\n            Cpu.programCounter = 0x38;\n            return 8;\n        }\n    }\n    return -1;\n}\n\n// NOTE: Code is very verbose, and will have some copy pasta'd lines.\n\n// Syncing and Tracking executed cycles\nvar Cycles = /** @class */ (function () {\n    function Cycles() {\n    }\n    // An even number below the max 32 bit integer\n    Cycles.cyclesPerCycleSet = 2000000000;\n    Cycles.cycleSets = 0;\n    Cycles.cycles = 0;\n    return Cycles;\n}());\nfunction getCyclesPerCycleSet() {\n    return Cycles.cyclesPerCycleSet;\n}\nfunction getCycleSets() {\n    return Cycles.cycleSets;\n}\nfunction getCycles() {\n    return Cycles.cycles;\n}\n// Inlined because closure compiler inlines\nfunction trackCyclesRan(numberOfCycles) {\n    var cycles = Cycles.cycles;\n    cycles += numberOfCycles;\n    if (cycles >= Cycles.cyclesPerCycleSet) {\n        Cycles.cycleSets += 1;\n        cycles -= Cycles.cyclesPerCycleSet;\n    }\n    Cycles.cycles = cycles;\n}\n// Inlined because closure compiler inlines\nfunction resetCycles() {\n    Cycles.cyclesPerCycleSet = 2000000000;\n    Cycles.cycleSets = 0;\n    Cycles.cycles = 0;\n}\n// Sync other GB Components with the number of cycles\nfunction syncCycles(numberOfCycles) {\n    // Check if we did a DMA TRansfer, if we did add the cycles\n    if (Memory.DMACycles > 0) {\n        numberOfCycles += Memory.DMACycles;\n        Memory.DMACycles = 0;\n    }\n    // Finally, Add our number of cycles to the CPU Cycles\n    Cpu.currentCycles += numberOfCycles;\n    // Check other Gameboy components\n    if (!Cpu.isStopped) {\n        if (Config.graphicsBatchProcessing) {\n            // Need to do this, since a lot of things depend on the scanline\n            // Batch processing will simply return if the number of cycles is too low\n            Graphics.currentCycles += numberOfCycles;\n            batchProcessGraphics();\n        }\n        else {\n            updateGraphics(numberOfCycles);\n        }\n        if (Config.audioBatchProcessing) {\n            Sound.currentCycles += numberOfCycles;\n            batchProcessAudio();\n        }\n        else {\n            updateSound(numberOfCycles);\n        }\n        updateSerial(numberOfCycles);\n    }\n    if (Config.timersBatchProcessing) {\n        // Batch processing will simply return if the number of cycles is too low\n        Timers.currentCycles += numberOfCycles;\n        batchProcessTimers();\n    }\n    else {\n        updateTimers(numberOfCycles);\n    }\n    trackCyclesRan(numberOfCycles);\n}\n\n// Functions involving executing/running the emulator after initializtion\nvar Execute = /** @class */ (function () {\n    function Execute() {\n    }\n    // An even number bewlow the max 32 bit integer\n    Execute.stepsPerStepSet = 2000000000;\n    Execute.stepSets = 0;\n    Execute.steps = 0;\n    // Response Codes from Execute Conditions\n    Execute.RESPONSE_CONDITION_ERROR = -1;\n    Execute.RESPONSE_CONDITION_FRAME = 0;\n    Execute.RESPONSE_CONDITION_AUDIO = 1;\n    Execute.RESPONSE_CONDITION_BREAKPOINT = 2;\n    return Execute;\n}());\nfunction getStepsPerStepSet() {\n    return Execute.stepsPerStepSet;\n}\nfunction getStepSets() {\n    return Execute.stepSets;\n}\nfunction getSteps() {\n    return Execute.steps;\n}\n// Inlined because closure compiler inlines\nfunction trackStepsRan(steps) {\n    var esteps = Execute.steps;\n    esteps += steps;\n    if (esteps >= Execute.stepsPerStepSet) {\n        Execute.stepSets += 1;\n        esteps -= Execute.stepsPerStepSet;\n    }\n    Execute.steps = esteps;\n}\n// Inlined because closure compiler inlines\nfunction resetSteps() {\n    Execute.stepsPerStepSet = 2000000000;\n    Execute.stepSets = 0;\n    Execute.steps = 0;\n}\n// // Public funciton to run frames until,\n// the specified number of frames have run or error.\n// Return values:\n// -1 = error\n// 0 = render a frame\nfunction executeMultipleFrames(numberOfFrames) {\n    var frameResponse = 0;\n    var framesRun = 0;\n    while (framesRun < numberOfFrames && frameResponse >= 0) {\n        frameResponse = executeFrame();\n        framesRun += 1;\n    }\n    if (frameResponse < 0) {\n        return frameResponse;\n    }\n    return 0;\n}\n// Public funciton to run opcodes until,\n// a frame is ready, or error.\n// Return values:\n// -1 = error\n// 0 = render a frame\nfunction executeFrame() {\n    return executeUntilCondition(true, -1);\n}\n// Public Function to run opcodes until,\n// a frame is ready, audio bufer is filled, or error\nfunction executeFrameAndCheckAudio(maxAudioBuffer) {\n    if (maxAudioBuffer === void 0) { maxAudioBuffer = 0; }\n    return executeUntilCondition(true, maxAudioBuffer);\n}\n// Base function that executes steps, and checks conditions\n// Return values:\nfunction executeUntilCondition(checkMaxCyclesPerFrame, maxAudioBuffer) {\n    if (checkMaxCyclesPerFrame === void 0) { checkMaxCyclesPerFrame = true; }\n    if (maxAudioBuffer === void 0) { maxAudioBuffer = -1; }\n    // Common tracking variables\n    var numberOfCycles = -1;\n    var audioBufferSize = 1024;\n    if (maxAudioBuffer > 0) {\n        audioBufferSize = maxAudioBuffer;\n    }\n    else if (maxAudioBuffer < 0) {\n        audioBufferSize = -1;\n    }\n    var errorCondition = false;\n    var frameCondition = false;\n    var audioBufferCondition = false;\n    while (!errorCondition && !frameCondition && !audioBufferCondition && !Breakpoints.reachedBreakpoint) {\n        numberOfCycles = executeStep();\n        // Error Condition\n        if (numberOfCycles < 0) {\n            errorCondition = true;\n        }\n        else if (Cpu.currentCycles >= Cpu.MAX_CYCLES_PER_FRAME()) {\n            frameCondition = true;\n        }\n        else if (audioBufferSize > -1 && getNumberOfSamplesInAudioBuffer() >= audioBufferSize) {\n            audioBufferCondition = true;\n        }\n    }\n    // Find our exit reason\n    if (frameCondition) {\n        // Render a frame\n        // Reset our currentCycles\n        Cpu.currentCycles -= Cpu.MAX_CYCLES_PER_FRAME();\n        return Execute.RESPONSE_CONDITION_FRAME;\n    }\n    if (audioBufferCondition) {\n        return Execute.RESPONSE_CONDITION_AUDIO;\n    }\n    if (Breakpoints.reachedBreakpoint) {\n        Breakpoints.reachedBreakpoint = false;\n        return Execute.RESPONSE_CONDITION_BREAKPOINT;\n    }\n    // TODO: Boot ROM handling\n    // There was an error, return -1, and push the program counter back to grab the error opcode\n    Cpu.programCounter = u16Portable(Cpu.programCounter - 1);\n    return -1;\n}\n// Function to execute an opcode, and update other gameboy hardware.\n// http://www.codeslinger.co.uk/pages/projects/gameboy/beginning.html\nfunction executeStep() {\n    // Set has started to 1 since we ran a emulation step\n    setHasCoreStarted(true);\n    // Check if we are in the halt bug\n    if (Cpu.isHaltBug) {\n        // Need to not increment program counter,\n        // thus, running the next opcode twice\n        // E.g\n        // 0x76 - halt\n        // FA 34 12 - ld a,(1234)\n        // Becomes\n        // FA FA 34 ld a,(34FA)\n        // 12 ld (de),a\n        var haltBugOpcode = eightBitLoadFromGBMemory(Cpu.programCounter);\n        // Execute opcode will handle the actual PC behavior\n        var haltBugCycles = executeOpcode$$1(haltBugOpcode);\n        syncCycles(haltBugCycles);\n        Cpu.exitHaltAndStop();\n    }\n    // Interrupts should be handled before reading an opcode\n    // https://github.com/Gekkio/mooneye-gb/blob/master/docs/accuracy.markdown#what-is-the-exact-timing-of-cpu-servicing-an-interrupt\n    var interruptCycles = checkInterrupts();\n    if (interruptCycles > 0) {\n        syncCycles(interruptCycles);\n    }\n    // Get the opcode, and additional bytes to be handled\n    // Number of cycles defaults to 4, because while we're halted, we run 4 cycles (according to matt :))\n    var numberOfCycles = 4;\n    var opcode = 0;\n    // If we are not halted or stopped, run instructions\n    // If we are halted, this will be skipped and just sync the 4 cycles\n    if (!Cpu.isHalted() && !Cpu.isStopped) {\n        opcode = eightBitLoadFromGBMemory(Cpu.programCounter);\n        numberOfCycles = executeOpcode$$1(opcode);\n    }\n    // blarggFixes, don't allow register F to have the bottom nibble\n    Cpu.registerF = Cpu.registerF & 0xf0;\n    // Check if there was an error decoding the opcode\n    if (numberOfCycles <= 0) {\n        return numberOfCycles;\n    }\n    // Sync other GB Components with the number of cycles\n    syncCycles(numberOfCycles);\n    // Update our steps\n    trackStepsRan(1);\n    // Check if we reached the CPU breakpoint\n    if (Cpu.programCounter === Breakpoints.programCounter) {\n        Breakpoints.reachedBreakpoint = true;\n    }\n    return numberOfCycles;\n}\n\n// Imports\n// Grow our memory to the specified size\nif (memory.size() < WASMBOY_WASM_PAGES) {\n    memory.grow(WASMBOY_WASM_PAGES - memory.size());\n}\n// Function to track if the core has started\nvar hasStarted = false;\nfunction setHasCoreStarted(value) {\n    hasStarted = value;\n}\nfunction hasCoreStarted() {\n    return hasStarted;\n}\n// Function to configure & initialize wasmboy\nfunction config(enableBootRom, useGbcWhenAvailable, audioBatchProcessing, graphicsBatchProcessing, timersBatchProcessing, graphicsDisableScanlineRendering, audioAccumulateSamples, tileRendering, tileCaching, enableAudioDebugging) {\n    // TODO: depending on the boot rom, initialization may be different\n    // From: http://www.codeslinger.co.uk/pages/projects/gameboy/hardware.html\n    // All values default to zero in memory, so not setting them yet\n    // log('initializing (includeBootRom=$0)', 1, enableBootRom);\n    Config.enableBootRom = enableBootRom > 0;\n    Config.useGbcWhenAvailable = useGbcWhenAvailable > 0;\n    Config.audioBatchProcessing = audioBatchProcessing > 0;\n    Config.graphicsBatchProcessing = graphicsBatchProcessing > 0;\n    Config.timersBatchProcessing = timersBatchProcessing > 0;\n    Config.graphicsDisableScanlineRendering = graphicsDisableScanlineRendering > 0;\n    Config.audioAccumulateSamples = audioAccumulateSamples > 0;\n    Config.tileRendering = tileRendering > 0;\n    Config.tileCaching = tileCaching > 0;\n    Config.enableAudioDebugging = enableAudioDebugging > 0;\n    initialize();\n}\n// Function to initiialize the core\nfunction initialize() {\n    // Initialization variables from BGB\n    // First, try to switch to Gameboy Color Mode\n    // Get our GBC support from the cartridge header\n    // http://gbdev.gg8.se/wiki/articles/The_Cartridge_Header\n    var gbcType = eightBitLoadFromGBMemory(0x0143);\n    // Detecting GBC http://bgb.bircd.org/pandocs.htm#cgbregisters\n    if (gbcType === 0xc0 || (Config.useGbcWhenAvailable && gbcType === 0x80)) {\n        Cpu.GBCEnabled = true;\n    }\n    else {\n        Cpu.GBCEnabled = false;\n    }\n    // Reset hasStarted, since we are now reset\n    setHasCoreStarted(false);\n    // Reset our cycles ran\n    resetCycles();\n    resetSteps();\n    if (Config.enableBootRom) {\n        Cpu.BootROMEnabled = true;\n    }\n    else {\n        Cpu.BootROMEnabled = false;\n    }\n    // Call our respective classes intialization\n    // NOTE: Boot ROM Only handles some initialization, thus we need to check in each one\n    // respecitvely :p\n    initializeCpu();\n    initializeCartridge();\n    initializeDma();\n    initializeGraphics();\n    initializePalette();\n    initializeSound();\n    initializeInterrupts();\n    initializeTimers();\n    initializeSerial();\n    initializeVarious();\n}\nfunction initializeVarious() {\n    // Various Other Registers\n    if (Cpu.GBCEnabled) {\n        // Various other registers\n        eightBitStoreIntoGBMemory(0xff70, 0xf8);\n        eightBitStoreIntoGBMemory(0xff4f, 0xfe);\n        eightBitStoreIntoGBMemory(0xff4d, 0x7e);\n        eightBitStoreIntoGBMemory(0xff00, 0xcf);\n        eightBitStoreIntoGBMemory(0xff0f, 0xe1);\n        // 0xFFFF = 0x00\n        // Undocumented from Pandocs\n        eightBitStoreIntoGBMemory(0xff6c, 0xfe);\n        eightBitStoreIntoGBMemory(0xff75, 0x8f);\n    }\n    else {\n        eightBitStoreIntoGBMemory(0xff70, 0xff);\n        eightBitStoreIntoGBMemory(0xff4f, 0xff);\n        eightBitStoreIntoGBMemory(0xff4d, 0xff);\n        eightBitStoreIntoGBMemory(0xff00, 0xcf);\n        eightBitStoreIntoGBMemory(0xff0f, 0xe1);\n        // 0xFFFF = 0x00\n    }\n}\n// Function to return if we are currently playing a GBC ROM\nfunction isGBC() {\n    return Cpu.GBCEnabled;\n}\n// Function to return an address to store into save state memory\n// this is to regulate our 20 slots\n// https://docs.google.com/spreadsheets/d/17xrEzJk5-sCB9J2mMJcVnzhbE-XH_NvczVSQH9OHvRk/edit?usp=sharing\n// Inlined because closure compiler inlines\nfunction getSaveStateMemoryOffset(offset, saveStateSlot) {\n    // 50 bytes per save state memory partiton sli32\n    return WASMBOY_STATE_LOCATION + offset + 50 * saveStateSlot;\n}\n// Function to save state to memory for all of our classes\nfunction saveState() {\n    Cpu.saveState();\n    Graphics.saveState();\n    Interrupts.saveState();\n    Joypad.saveState();\n    Memory.saveState();\n    Timers.saveState();\n    Sound.saveState();\n    Channel1.saveState();\n    Channel2.saveState();\n    Channel3.saveState();\n    Channel4.saveState();\n    // Reset hasStarted, since we are now reset\n    setHasCoreStarted(false);\n    // Don't want to reset cycles here, as this does not reset the emulator\n}\n// Function to load state from memory for all of our classes\nfunction loadState() {\n    Cpu.loadState();\n    Graphics.loadState();\n    Interrupts.loadState();\n    Joypad.loadState();\n    Memory.loadState();\n    Timers.loadState();\n    Sound.loadState();\n    Channel1.loadState();\n    Channel2.loadState();\n    Channel3.loadState();\n    Channel4.loadState();\n    // Reset hasStarted, since we are now reset\n    setHasCoreStarted(false);\n    // Reset our cycles ran\n    resetCycles();\n    resetSteps();\n}\n\n// Functions to get information about the emulator for debugging purposes\nfunction getRegisterA() {\n    return Cpu.registerA;\n}\nfunction getRegisterB() {\n    return Cpu.registerB;\n}\nfunction getRegisterC() {\n    return Cpu.registerC;\n}\nfunction getRegisterD() {\n    return Cpu.registerD;\n}\nfunction getRegisterE() {\n    return Cpu.registerE;\n}\nfunction getRegisterH() {\n    return Cpu.registerH;\n}\nfunction getRegisterL() {\n    return Cpu.registerL;\n}\nfunction getRegisterF() {\n    return Cpu.registerF;\n}\nfunction getProgramCounter() {\n    return Cpu.programCounter;\n}\nfunction getStackPointer() {\n    return Cpu.stackPointer;\n}\nfunction getOpcodeAtProgramCounter() {\n    return eightBitLoadFromGBMemory(Cpu.programCounter);\n}\n\n// Functions to debug graphical output\n// Some Simple internal getters\nfunction getLY() {\n    return Graphics.scanlineRegister;\n}\nfunction getScrollX() {\n    return Graphics.scrollX;\n}\nfunction getScrollY() {\n    return Graphics.scrollY;\n}\nfunction getWindowX() {\n    return Graphics.windowX;\n}\nfunction getWindowY() {\n    return Graphics.windowY;\n}\n// TODO: Render by tile, rather than by pixel\nfunction drawBackgroundMapToWasmMemory(showColor) {\n    // http://www.codeslinger.co.uk/pages/projects/gameboy/graphics.html\n    // Bit 7 - LCD Display Enable (0=Off, 1=On)\n    // Bit 6 - Window Tile Map Display Select (0=9800-9BFF, 1=9C00-9FFF)\n    // Bit 5 - Window Display Enable (0=Off, 1=On)\n    // Bit 4 - BG & Window Tile Data Select (0=8800-97FF, 1=8000-8FFF)\n    // Bit 3 - BG Tile Map Display Select (0=9800-9BFF, 1=9C00-9FFF)\n    // Bit 2 - OBJ (Sprite) Size (0=8x8, 1=8x16)\n    // Bit 1 - OBJ (Sprite) Display Enable (0=Off, 1=On)\n    // Bit 0 - BG Display (for CGB see below) (0=Off, 1=On)\n    // Get our seleted tile data memory location\n    var tileDataMemoryLocation = Graphics.memoryLocationTileDataSelectZeroStart;\n    if (Lcd.bgWindowTileDataSelect) {\n        tileDataMemoryLocation = Graphics.memoryLocationTileDataSelectOneStart;\n    }\n    var tileMapMemoryLocation = Graphics.memoryLocationTileMapSelectZeroStart;\n    if (Lcd.bgTileMapDisplaySelect) {\n        tileMapMemoryLocation = Graphics.memoryLocationTileMapSelectOneStart;\n    }\n    for (var y = 0; y < 256; y++) {\n        for (var x = 0; x < 256; x++) {\n            // Get our current Y\n            var pixelYPositionInMap = y;\n            // Get our Current X position of our pixel on the on the 160x144 camera\n            // this is done by getting the current scroll X position,\n            // and adding it do what X Value the scanline is drawing on the camera.\n            var pixelXPositionInMap = x;\n            // Divide our pixel position by 8 to get our tile.\n            // Since, there are 256x256 pixels, and 32x32 tiles.\n            // 256 / 8 = 32.\n            // Also, bitshifting by 3, do do a division by 8\n            // Need to use u16s, as they will be used to compute an address, which will cause weird errors and overflows\n            var tileXPositionInMap = pixelXPositionInMap >> 3;\n            var tileYPositionInMap = pixelYPositionInMap >> 3;\n            // Get our tile address on the tileMap\n            // NOTE: (tileMap represents where each tile is displayed on the screen)\n            // NOTE: (tile map represents the entire map, now just what is within the \"camera\")\n            // For instance, if we have y pixel 144. 144 / 8 = 18. 18 * 32 = line address in map memory.\n            // And we have x pixel 160. 160 / 8 = 20.\n            // * 32, because remember, this is NOT only for the camera, the actual map is 32x32. Therefore, the next tile line of the map, is 32 byte offset.\n            // Think like indexing a 2d array, as a 1d array and it make sense :)\n            var tileMapAddress = tileMapMemoryLocation + tileYPositionInMap * 32 + tileXPositionInMap;\n            // Get the tile Id on the Tile Map\n            var tileIdFromTileMap = loadFromVramBank(tileMapAddress, 0);\n            // Now get our tileDataAddress for the corresponding tileID we found in the map\n            // Read the comments in _getTileDataAddress() to see what's going on.\n            // tl;dr if we had the tile map of \"a b c d\", and wanted tileId 2.\n            // This funcitons returns the start of memory locaiton for the tile 'c'.\n            var tileDataAddress = getTileDataAddress(tileDataMemoryLocation, tileIdFromTileMap);\n            // Now we can process the the individual bytes that represent the pixel on a tile\n            // Get the y pixel of the 8 by 8 tile.\n            // Simply modulo the scanline.\n            // For instance, let's say we are printing the first line of pixels on our camera,\n            // And the first line of pixels on our tile.\n            // yPixel = 1. 1 % 8 = 1.\n            // And for the last line\n            // yPixel = 144. 144 % 8 = 0.\n            // 0 Represents last line of pixels in a tile, 1 represents first. 1 2 3 4 5 6 7 0.\n            // Because remember, we are counting lines on the display NOT including zero\n            var pixelYInTile = pixelYPositionInMap % 8;\n            // Same logic as pixelYInTile.\n            // However, We need to reverse our byte,\n            // As pixel 0 is on byte 7, and pixel 1 is on byte 6, etc...\n            // Therefore, is pixelX was 2, then really is need to be 5\n            // So 2 - 7 = -5, * 1 = 5\n            // Or to simplify, 7 - 2 = 5 haha!\n            var pixelXInTile = pixelXPositionInMap % 8;\n            pixelXInTile = 7 - pixelXInTile;\n            // Get the GB Map Attributes\n            // Bit 0-2  Background Palette number  (BGP0-7)\n            // Bit 3    Tile VRAM Bank number      (0=Bank 0, 1=Bank 1)\n            // Bit 4    Not used\n            // Bit 5    Horizontal Flip            (0=Normal, 1=Mirror horizontally)\n            // Bit 6    Vertical Flip              (0=Normal, 1=Mirror vertically)\n            // Bit 7    BG-to-OAM Priority         (0=Use OAM priority bit, 1=BG Priority)\n            var bgMapAttributes = 0;\n            if (Cpu.GBCEnabled && showColor > 0) {\n                bgMapAttributes = loadFromVramBank(tileMapAddress, 1);\n            }\n            if (checkBitOnByte(6, bgMapAttributes)) {\n                // We are mirroring the tile, therefore, we need to opposite byte\n                // So if our pizel was 0 our of 8, it wild become 7 :)\n                // TODO: This may be wrong :p\n                pixelYInTile = 7 - pixelYInTile;\n            }\n            // Remember to represent a single line of 8 pixels on a tile, we need two bytes.\n            // Therefore, we need to times our modulo by 2, to get the correct line of pixels on the tile.\n            // But we need to load the time from a specific Vram bank\n            var vramBankId = 0;\n            if (checkBitOnByte(3, bgMapAttributes)) {\n                vramBankId = 1;\n            }\n            // Remember to represent a single line of 8 pixels on a tile, we need two bytes.\n            // Therefore, we need to times our modulo by 2, to get the correct line of pixels on the tile.\n            // Again, think like you had to map a 2d array as a 1d.\n            var byteOneForLineOfTilePixels = loadFromVramBank(tileDataAddress + pixelYInTile * 2, vramBankId);\n            var byteTwoForLineOfTilePixels = loadFromVramBank(tileDataAddress + pixelYInTile * 2 + 1, vramBankId);\n            // Now we can get the color for that pixel\n            // Colors are represented by getting X position of ByteTwo, and X positon of Byte One\n            // To Get the color Id.\n            // For example, the result of the color id is 0000 00[xPixelByteTwo][xPixelByteOne]\n            // See: How to draw a tile/sprite from memory: http://www.codeslinger.co.uk/pages/projects/gameboy/graphics.html\n            var paletteColorId = 0;\n            if (checkBitOnByte(pixelXInTile, byteTwoForLineOfTilePixels)) {\n                // Byte one represents the second bit in our color id, so bit shift\n                paletteColorId += 1;\n                paletteColorId = paletteColorId << 1;\n            }\n            if (checkBitOnByte(pixelXInTile, byteOneForLineOfTilePixels)) {\n                paletteColorId += 1;\n            }\n            // FINALLY, RENDER THAT PIXEL!\n            var pixelStart = (y * 256 + x) * 3;\n            if (Cpu.GBCEnabled && showColor > 0) {\n                // Finally lets add some, C O L O R\n                // Want the botom 3 bits\n                var bgPalette = bgMapAttributes & 0x07;\n                // Call the helper function to grab the correct color from the palette\n                var rgbColorPalette = getRgbColorFromPalette(bgPalette, paletteColorId, false);\n                // Split off into red green and blue\n                var red = getColorComponentFromRgb(0, rgbColorPalette);\n                var green = getColorComponentFromRgb(1, rgbColorPalette);\n                var blue = getColorComponentFromRgb(2, rgbColorPalette);\n                var offset = BACKGROUND_MAP_LOCATION + pixelStart;\n                store(offset, red);\n                store(offset + 1, green);\n                store(offset + 2, blue);\n            }\n            else {\n                // Only rendering camera for now, so coordinates are for the camera.\n                // Get the rgb value for the color Id, will be repeated into R, G, B (if not colorized)\n                var hexColor = getColorizedGbHexColorFromPalette(paletteColorId, Graphics.memoryLocationBackgroundPalette);\n                var offset = BACKGROUND_MAP_LOCATION + pixelStart;\n                // Red\n                store(offset + 0, getRedFromHexColor(hexColor));\n                // Green\n                store(offset + 1, getGreenFromHexColor(hexColor));\n                // Blue\n                store(offset + 2, getBlueFromHexColor(hexColor));\n            }\n        }\n    }\n}\nfunction drawTileDataToWasmMemory() {\n    for (var tileDataMapGridY = 0; tileDataMapGridY < 0x17; tileDataMapGridY++) {\n        for (var tileDataMapGridX = 0; tileDataMapGridX < 0x1f; tileDataMapGridX++) {\n            // Get Our VramBankID\n            var vramBankId = 0;\n            if (tileDataMapGridX > 0x0f) {\n                vramBankId = 1;\n            }\n            // Get our tile ID\n            var tileId = tileDataMapGridY;\n            if (tileDataMapGridY > 0x0f) {\n                tileId -= 0x0f;\n            }\n            tileId = tileId << 4;\n            if (tileDataMapGridX > 0x0f) {\n                tileId = tileId + (tileDataMapGridX - 0x0f);\n            }\n            else {\n                tileId = tileId + tileDataMapGridX;\n            }\n            // Finally get our tile Data location\n            var tileDataMemoryLocation = Graphics.memoryLocationTileDataSelectOneStart;\n            if (tileDataMapGridY > 0x0f) {\n                tileDataMemoryLocation = Graphics.memoryLocationTileDataSelectZeroStart;\n            }\n            // Let's see if we have C O L O R\n            // Set the map and sprite attributes to -1\n            // Meaning, we will draw monochrome\n            var paletteLocation = Graphics.memoryLocationBackgroundPalette;\n            var bgMapAttributes = -1;\n            var spriteAttributes = -1;\n            // Let's see if the tile is being used by a sprite\n            for (var spriteRow = 0; spriteRow < 8; spriteRow++) {\n                for (var spriteColumn = 0; spriteColumn < 5; spriteColumn++) {\n                    var spriteIndex = spriteColumn * 8 + spriteRow;\n                    // Sprites occupy 4 bytes in the sprite attribute table\n                    var spriteTableIndex = spriteIndex * 4;\n                    var spriteTileId = eightBitLoadFromGBMemory(Graphics.memoryLocationSpriteAttributesTable + spriteTableIndex + 2);\n                    if (tileId === spriteTileId) {\n                        var currentSpriteAttributes = eightBitLoadFromGBMemory(Graphics.memoryLocationSpriteAttributesTable + spriteTableIndex + 3);\n                        var spriteVramBankId = 0;\n                        if (Cpu.GBCEnabled && checkBitOnByte(3, currentSpriteAttributes)) {\n                            spriteVramBankId = 1;\n                        }\n                        if (spriteVramBankId === vramBankId) {\n                            spriteAttributes = currentSpriteAttributes;\n                            spriteRow = 8;\n                            spriteColumn = 5;\n                            // Set our paletteLocation\n                            paletteLocation = Graphics.memoryLocationSpritePaletteOne;\n                            if (checkBitOnByte(4, spriteAttributes)) {\n                                paletteLocation = Graphics.memoryLocationSpritePaletteTwo;\n                            }\n                        }\n                    }\n                }\n            }\n            // If we didn't find a sprite,\n            // Let's see if the tile is on the bg tile map\n            // If so, use that bg map for attributes\n            if (Cpu.GBCEnabled && spriteAttributes < 0) {\n                var tileMapMemoryLocation = Graphics.memoryLocationTileMapSelectZeroStart;\n                if (Lcd.bgTileMapDisplaySelect) {\n                    tileMapMemoryLocation = Graphics.memoryLocationTileMapSelectOneStart;\n                }\n                // Loop through the tileMap, and find if we have our current ID\n                var foundTileMapAddress = -1;\n                for (var x = 0; x < 32; x++) {\n                    for (var y = 0; y < 32; y++) {\n                        var tileMapAddress = tileMapMemoryLocation + y * 32 + x;\n                        var tileIdFromTileMap = loadFromVramBank(tileMapAddress, 0);\n                        // Check if we found our tileId\n                        if (tileId === tileIdFromTileMap) {\n                            foundTileMapAddress = tileMapAddress;\n                            x = 32;\n                            y = 32;\n                        }\n                    }\n                }\n                if (foundTileMapAddress >= 0) {\n                    bgMapAttributes = loadFromVramBank(foundTileMapAddress, 1);\n                }\n            }\n            // Draw each Y line of the tile\n            for (var tileLineY = 0; tileLineY < 8; tileLineY++) {\n                drawPixelsFromLineOfTile(tileId, // tileId\n                tileDataMemoryLocation, // Graphics.memoryLocationTileDataSelect\n                vramBankId, // Vram Bank\n                0, // Tile Line X Start\n                7, // Tile Line X End\n                tileLineY, // Tile Line Y\n                tileDataMapGridX * 8, // Output line X\n                tileDataMapGridY * 8 + tileLineY, // Output line Y\n                0x1f * 8, // Output Width\n                TILE_DATA_LOCATION, // Wasm Memory Start\n                false, // shouldRepresentMonochromeColorByColorId\n                paletteLocation, // paletteLocation\n                bgMapAttributes, // bgMapAttributes\n                spriteAttributes // spriteAttributes\n                );\n            }\n        }\n    }\n}\nfunction drawOamToWasmMemory() {\n    // Draw all 40 sprites\n    // Going to be like BGB and do 8 x 5 sprites\n    for (var spriteRow = 0; spriteRow < 8; spriteRow++) {\n        for (var spriteColumn = 0; spriteColumn < 5; spriteColumn++) {\n            var spriteIndex = spriteColumn * 8 + spriteRow;\n            // Sprites occupy 4 bytes in the sprite attribute table\n            var spriteTableIndex = spriteIndex * 4;\n            // Y positon is offset by 16, X position is offset by 8\n            var spriteYPosition = eightBitLoadFromGBMemory(Graphics.memoryLocationSpriteAttributesTable + spriteTableIndex);\n            var spriteXPosition = eightBitLoadFromGBMemory(Graphics.memoryLocationSpriteAttributesTable + spriteTableIndex + 1);\n            var spriteTileId = eightBitLoadFromGBMemory(Graphics.memoryLocationSpriteAttributesTable + spriteTableIndex + 2);\n            var tilesToDraw = 1;\n            if (Lcd.tallSpriteSize) {\n                // @binji says in 8x16 mode, even tileId always drawn first\n                // This will fix shantae sprites which always uses odd numbered indexes\n                // TODO: Do the actual Pandocs thing:\n                // \"In 8x16 mode, the lower bit of the tile number is ignored. Ie. the upper 8x8 tile is \"NN AND FEh\", and the lower 8x8 tile is \"NN OR 01h\".\"\n                // So just knock off the last bit? :)\n                if (spriteTileId % 2 === 1) {\n                    spriteTileId -= 1;\n                }\n                tilesToDraw += 1;\n            }\n            // Get our sprite attributes since we know we shall be drawing the tile\n            var spriteAttributes = eightBitLoadFromGBMemory(Graphics.memoryLocationSpriteAttributesTable + spriteTableIndex + 3);\n            // Find which VRAM Bank to load from\n            var vramBankId = 0;\n            if (Cpu.GBCEnabled && checkBitOnByte(3, spriteAttributes)) {\n                vramBankId = 1;\n            }\n            // Find which monochrome palette we should use\n            var paletteLocation = Graphics.memoryLocationSpritePaletteOne;\n            if (checkBitOnByte(4, spriteAttributes)) {\n                paletteLocation = Graphics.memoryLocationSpritePaletteTwo;\n            }\n            // Start Drawing our tiles\n            for (var i = 0; i < tilesToDraw; i++) {\n                // Draw each Y line of the tile\n                for (var tileLineY = 0; tileLineY < 8; tileLineY++) {\n                    drawPixelsFromLineOfTile(spriteTileId + i, // tileId\n                    Graphics.memoryLocationTileDataSelectOneStart, // Graphics.memoryLocationTileDataSelect\n                    vramBankId, // VRAM Bank\n                    0, // Tile Line X Start\n                    7, // Tile Line X End\n                    tileLineY, // Tile Line Y\n                    spriteRow * 8, // Output line X\n                    spriteColumn * 16 + tileLineY + i * 8, // Output line Y\n                    8 * 8, // Output Width\n                    OAM_TILES_LOCATION, // Wasm Memory Start\n                    false, // shouldRepresentMonochromeColorByColorId\n                    paletteLocation, // paletteLocation\n                    -1, // bgMapAttributes\n                    spriteAttributes // spriteAttributes\n                    );\n                }\n            }\n        }\n    }\n}\n\nfunction getDIV() {\n    return Timers.dividerRegister;\n}\nfunction getTIMA() {\n    return Timers.timerCounter;\n}\nfunction getTMA() {\n    return Timers.timerModulo;\n}\nfunction getTAC() {\n    var response = Timers.timerInputClock;\n    if (Timers.timerEnabled) {\n        response = setBitOnByte(2, response);\n    }\n    return response;\n}\n\n// Functions to debug internal gameboy memory\nfunction updateDebugGBMemory() {\n    for (var i = 0; i < DEBUG_GAMEBOY_MEMORY_SIZE; i++) {\n        store(DEBUG_GAMEBOY_MEMORY_LOCATION + i, eightBitLoadFromGBMemoryWithTraps(i));\n    }\n    // Since we are debugging, we don't want to be responsible for tripping the breakpoints\n    Breakpoints.reachedBreakpoint = false;\n}\n\n// Public Exports\n\nexport { config, hasCoreStarted, saveState, loadState, isGBC, getStepsPerStepSet, getStepSets, getSteps, executeMultipleFrames, executeFrame, executeFrameAndCheckAudio, executeUntilCondition, executeStep, getCyclesPerCycleSet, getCycleSets, getCycles, setJoypadState, getNumberOfSamplesInAudioBuffer, clearAudioBuffer, setManualColorizationPalette, WASMBOY_MEMORY_LOCATION, WASMBOY_MEMORY_SIZE, WASMBOY_WASM_PAGES, ASSEMBLYSCRIPT_MEMORY_LOCATION, ASSEMBLYSCRIPT_MEMORY_SIZE, WASMBOY_STATE_LOCATION, WASMBOY_STATE_SIZE, GAMEBOY_INTERNAL_MEMORY_LOCATION, GAMEBOY_INTERNAL_MEMORY_SIZE, VIDEO_RAM_LOCATION, VIDEO_RAM_SIZE, WORK_RAM_LOCATION, WORK_RAM_SIZE, OTHER_GAMEBOY_INTERNAL_MEMORY_LOCATION, OTHER_GAMEBOY_INTERNAL_MEMORY_SIZE, GRAPHICS_OUTPUT_LOCATION, GRAPHICS_OUTPUT_SIZE, GBC_PALETTE_LOCATION, GBC_PALETTE_SIZE, BG_PRIORITY_MAP_LOCATION, BG_PRIORITY_MAP_SIZE, FRAME_LOCATION, FRAME_SIZE, BACKGROUND_MAP_LOCATION, BACKGROUND_MAP_SIZE, TILE_DATA_LOCATION, TILE_DATA_SIZE, OAM_TILES_LOCATION, OAM_TILES_SIZE, AUDIO_BUFFER_LOCATION, AUDIO_BUFFER_SIZE, CHANNEL_1_BUFFER_LOCATION, CHANNEL_1_BUFFER_SIZE, CHANNEL_2_BUFFER_LOCATION, CHANNEL_2_BUFFER_SIZE, CHANNEL_3_BUFFER_LOCATION, CHANNEL_3_BUFFER_SIZE, CHANNEL_4_BUFFER_LOCATION, CHANNEL_4_BUFFER_SIZE, CARTRIDGE_RAM_LOCATION, CARTRIDGE_RAM_SIZE, BOOT_ROM_LOCATION, BOOT_ROM_SIZE, CARTRIDGE_ROM_LOCATION, CARTRIDGE_ROM_SIZE, DEBUG_GAMEBOY_MEMORY_LOCATION, DEBUG_GAMEBOY_MEMORY_SIZE, getWasmBoyOffsetFromGameBoyOffset, setProgramCounterBreakpoint, resetProgramCounterBreakpoint, setReadGbMemoryBreakpoint, resetReadGbMemoryBreakpoint, setWriteGbMemoryBreakpoint, resetWriteGbMemoryBreakpoint, getRegisterA, getRegisterB, getRegisterC, getRegisterD, getRegisterE, getRegisterH, getRegisterL, getRegisterF, getProgramCounter, getStackPointer, getOpcodeAtProgramCounter, getLY, getScrollX, getScrollY, getWindowX, getWindowY, drawBackgroundMapToWasmMemory, drawTileDataToWasmMemory, drawOamToWasmMemory, getDIV, getTIMA, getTMA, getTAC, updateDebugGBMemory };\n","import * as WasmBoyCore from '../../dist/core/core.esm';\n\nconst getWasmBoyTsCore = async () => {\n  const response = {\n    instance: {\n      exports: WasmBoyCore\n    },\n    byteMemory: WasmBoyCore.memory.wasmByteMemory,\n    type: 'TypeScript'\n  };\n  return response;\n};\n\nexport default getWasmBoyTsCore;\n"],"names":["wasmboyMemorySize","wasmByteMemory","Uint8ClampedArray","memory","size","grow","load","offset","store","value","abs","Math","ceil","ASSEMBLYSCRIPT_MEMORY_LOCATION","ASSEMBLYSCRIPT_MEMORY_SIZE","WASMBOY_STATE_LOCATION","WASMBOY_STATE_SIZE","VIDEO_RAM_LOCATION","VIDEO_RAM_SIZE","WORK_RAM_LOCATION","WORK_RAM_SIZE","OTHER_GAMEBOY_INTERNAL_MEMORY_LOCATION","OTHER_GAMEBOY_INTERNAL_MEMORY_SIZE","GAMEBOY_INTERNAL_MEMORY_LOCATION","GAMEBOY_INTERNAL_MEMORY_SIZE","GBC_PALETTE_LOCATION","GBC_PALETTE_SIZE","BG_PRIORITY_MAP_LOCATION","BG_PRIORITY_MAP_SIZE","FRAME_LOCATION","FRAME_SIZE","BACKGROUND_MAP_LOCATION","BACKGROUND_MAP_SIZE","TILE_DATA_LOCATION","TILE_DATA_SIZE","OAM_TILES_LOCATION","OAM_TILES_SIZE","GRAPHICS_OUTPUT_LOCATION","GRAPHICS_OUTPUT_SIZE","CHANNEL_1_BUFFER_LOCATION","CHANNEL_1_BUFFER_SIZE","CHANNEL_2_BUFFER_LOCATION","CHANNEL_2_BUFFER_SIZE","CHANNEL_3_BUFFER_LOCATION","CHANNEL_3_BUFFER_SIZE","CHANNEL_4_BUFFER_LOCATION","CHANNEL_4_BUFFER_SIZE","AUDIO_BUFFER_LOCATION","AUDIO_BUFFER_SIZE","CARTRIDGE_RAM_LOCATION","CARTRIDGE_RAM_SIZE","BOOT_ROM_LOCATION","BOOT_ROM_SIZE","CARTRIDGE_ROM_LOCATION","CARTRIDGE_ROM_SIZE","DEBUG_GAMEBOY_MEMORY_LOCATION","DEBUG_GAMEBOY_MEMORY_SIZE","WASMBOY_MEMORY_LOCATION","WASMBOY_MEMORY_SIZE","WASMBOY_WASM_PAGES","Config","enableBootRom","useGbcWhenAvailable","audioBatchProcessing","graphicsBatchProcessing","timersBatchProcessing","graphicsDisableScanlineRendering","audioAccumulateSamples","tileRendering","tileCaching","enableAudioDebugging","u8Portable","param","u16Portable","i8Portable","i32Portable","setFlagBit","flagBit","flagValue","bitwiseOperand","Cpu","registerF","setZeroFlag$$1","setSubtractFlag","setHalfCarryFlag","setCarryFlag","getZeroFlag$$1","getSubtractFlag","getHalfCarryFlag","getCarryFlag$$1","checkAndSetEightBitHalfCarryFlag","amountToAdd","result","checkAndSetEightBitCarryFlag","checkAndSetSixteenBitFlagsAddOverflow","valueOne","valueTwo","useStackPointerBits","signedValueOne","flagXor","halfCarryXor","halfCarryAnd","WasmBoyGBColors","bgWhite","bgLightGrey","bgDarkGrey","bgBlack","obj0White","obj0LightGrey","obj0DarkGrey","obj0Black","obj1White","obj1LightGrey","obj1DarkGrey","obj1Black","GreenColors","OrangeColors","BrownColors","InvertedColors","GrayscaleColors","PastelMixColors","DarkBrownColors","DarkGreenColors","DarkBlueColors","RedColors","BlueColors","YellowColors","Table00Entry08Colors","Table01Entry0BColors","Table01Entry10Colors","Table03Entry0AColors","Table05Entry00Colors","Table05Entry01Colors","Table05Entry02Colors","Table05Entry08Colors","Table05Entry09Colors","Table05Entry11Colors","Table05Entry14Colors","Table05Entry15Colors","Colors","initializeColors","setManualColorizationPalette","GBCEnabled","BootROMEnabled","titleChecksum","i","eightBitLoadFromGBMemory","hash","setHashColorizationPalette","getRedFromHexColor","color","getGreenFromHexColor","getBlueFromHexColor","colorizationId","concatenateBytes","highByte","lowByte","splitHighByte","groupedByte","splitLowByte","rotateByteLeft","rotateByteLeftThroughCarry","rotateByteRight","rotateByteRightThroughCarry","setBitOnByte","bitPosition","byte","resetBitOnByte","checkBitOnByte","Palette","memoryLocationBackgroundPaletteIndex","memoryLocationBackgroundPaletteData","memoryLocationSpritePaletteIndex","memoryLocationSpritePaletteData","memoryLocationBackgroundPalette","memoryLocationSpritePaletteOne","memoryLocationSpritePaletteTwo","initializePalette","eightBitStoreIntoGBMemory","getMonochromeColorFromPalette","colorId","paletteMemoryLocation","shouldRepresentColorByColorId","rgbColor","getColorizedGbHexColorFromPalette","hexColor","writeColorPaletteToMemory","paletteIndex","isSprite","storePaletteByteInWasmMemory","incrementPaletteIndexIfSet","getRgbColorFromPalette","paletteId","paletteHighByte","loadPaletteByteFromWasmMemory","paletteLowByte","getColorComponentFromRgb","colorRgb","bitMask","colorValue","paletteIndexByte","addPriorityforPixel","x","y","hasGbcBgPriority","bgPriorityByte","getPixelStart","getPriorityforPixel","clearPriorityMap","TileCache","tileId","horizontalFlip","nextXIndexToPerformCacheCheck","resetTileCache","drawPixelsFromLineOfTile","tileDataMemoryLocation","vramBankId","tileLineXStart","tileLineXEnd","tileLineY","outputLineX","outputLineY","outputWidth","wasmMemoryStart","shouldRepresentMonochromeColorByColorId","paletteLocation","bgMapAttributes","spriteAttributes","pixelsDrawn","tileDataAddress","getTileDataAddress","byteOneForLineOfTilePixels","loadFromVramBank","byteTwoForLineOfTilePixels","iteratedOutputX","pixelXInTile","paletteColorId","red","green","blue","bgPalette","rgbColorPalette","Graphics","monochromeColor","pixelStart","getTilePixelStart","gbcBgPriority","tileIdFromTileMap","memoryLocationTileDataSelectZeroStart","isDutyCycleClockPositiveOrNegativeForWaveform","channelDuty","waveFormPositionOnDuty","Channel1","updateNRx0","oldSweepNegate","NRx0Negate","NRx0SweepPeriod","NRx0SweepShift","sweepNegateShouldDisableChannelOnClear","isEnabled","updateNRx1","NRx1Duty","NRx1LengthLoad","lengthCounter","MAX_LENGTH","updateNRx2","NRx2EnvelopePeriod","isEnvelopeAutomaticUpdating","volume","NRx2EnvelopeAddMode","NRx2StartingVolume","isDacEnabled","updateNRx3","NRx3FrequencyLSB","frequency","NRx4FrequencyMSB","updateNRx4","frequencyMSB","frameSequencer","Sound","doesNextFrameSequencerUpdateLength","isBeingLengthEnabled","NRx4LengthEnabled","trigger","saveState","getSaveStateMemoryOffset","saveStateSlot","cycleCounter","storeBooleanDirectlyToWasmMemory","frequencyTimer","envelopeCounter","dutyCycle","isSweepEnabled","sweepCounter","sweepShadowFrequency","loadState","loadBooleanDirectlyFromWasmMemory","initialize","memoryLocationNRx0","memoryLocationNRx1","memoryLocationNRx2","memoryLocationNRx3","memoryLocationNRx4","getSampleFromCycleCounter","accumulatedCycles","getSample","resetTimer","GBCDoubleSpeed","numberOfCycles","overflowAmount","outputVolume","sample","didCalculatedSweepOverflow","calculateSweep","willChannelUpdate","updateSweep","newFrequency","setFrequency","updateLength","updateEnvelope","passedFrequencyHighBits","passedFrequencyLowBits","register4","newRegister4","channelNumber","oldFrequency","calculatedSweep","Channel2","Channel3","sampleBuffer","NRx2VolumeCode","waveTablePosition","volumeCode","volumeCodeChanged","handleWaveRamRead","readCurrentSampleByteFromWaveRam","handleWaveRamWrite","positionIndexToAdd","memoryLocationWaveSample","memoryLocationWaveTable","getSampleFromSampleBufferForWaveTablePosition","advanceWavePositionAndSampleBuffer","Channel4","divisorCode","NRx3ClockShift","NRx3WidthMode","NRx3DivisorCode","divisor","linearFeedbackShiftRegister","getNoiseChannelFrequencyPeriod","lfsrBitZero","lfsrBitOne","xorLfsrBitZeroOne","response","SoundAccumulator","channel1Sample","channel2Sample","channel3Sample","channel4Sample","channel1DacEnabled","channel2DacEnabled","channel3DacEnabled","channel4DacEnabled","leftChannelSampleUnsignedByte","rightChannelSampleUnsignedByte","mixerVolumeChanged","mixerEnabledChanged","needToRemixSamples","initializeSoundAccumulator","accumulateSound","channel1WillUpdate","didChannelDacChange","channel2WillUpdate","channel3WillUpdate","channel4WillUpdate","downSampleCycleCounter","maxDownSampleCycles","mixChannelSamples","setLeftAndRightOutputForAudioQueue","audioQueueIndex","maxIndex","wasmBoyMemoryMaxBufferSize","channel1EnabledChanged","channel2EnabledChanged","channel3EnabledChanged","channel4EnabledChanged","batchProcessCycles","updateNR50","NR50LeftMixerVolume","NR50RightMixerVolume","updateNR51","NR51IsChannel4EnabledOnLeftOutput","NR51IsChannel3EnabledOnLeftOutput","NR51IsChannel2EnabledOnLeftOutput","NR51IsChannel1EnabledOnLeftOutput","NR51IsChannel4EnabledOnRightOutput","NR51IsChannel3EnabledOnRightOutput","NR51IsChannel2EnabledOnRightOutput","NR51IsChannel1EnabledOnRightOutput","updateNR52","NR52IsSoundEnabled","maxFrameSequenceCycles","CLOCK_SPEED","sampleRate","frameSequenceCycleCounter","clearAudioBuffer","currentCycles","memoryLocationNR50","memoryLocationNR51","memoryLocationNR52","memoryLocationChannel3LoadRegisterStart","initializeSound","batchProcessAudio","updateSound","frameSequencerUpdated","updateFrameSequencer","calculateSound","getNumberOfSamplesInAudioBuffer","mixedSample","leftChannelSample","rightChannelSample","getSampleAsUnsignedByte","mixerVolume","precision","convertedSample","maxDivider","leftVolume","rightVolume","bufferLocation","audioQueueOffset","SoundRegisterWriteTraps","wasNR52Enabled","eightBitStoreIntoGBMemoryWithTraps","SoundRegisterReadTraps","register","registerNR52","Interrupts","updateInterruptEnabled","isVBlankInterruptEnabled","bitPositionVBlankInterrupt","isLcdInterruptEnabled","bitPositionLcdInterrupt","isTimerInterruptEnabled","bitPositionTimerInterrupt","isSerialInterruptEnabled","bitPositionSerialInterrupt","isJoypadInterruptEnabled","bitPositionJoypadInterrupt","interruptsEnabledValue","updateInterruptRequested","isVBlankInterruptRequested","isLcdInterruptRequested","isTimerInterruptRequested","isSerialInterruptRequested","isJoypadInterruptRequested","interruptsRequestedValue","areInterruptsPending","masterInterruptSwitch","masterInterruptSwitchDelay","memoryLocationInterruptEnabled","memoryLocationInterruptRequest","initializeInterrupts","checkInterrupts","isAnInterruptRequestedAndEnabledValue","wasInterruptHandled","isHaltNoJump","_handleInterrupt","interuptHandlerCycles","isHalted","exitHaltAndStop","setInterrupts","interruptRequest","stackPointer","sixteenBitStoreIntoGBMemory","programCounter","_requestInterrupt","requestVBlankInterrupt","requestLcdInterrupt","requestTimerInterrupt","requestJoypadInterrupt","requestSerialInterrupt","Timers","updateDividerRegister","oldDividerRegister","dividerRegister","memoryLocationDividerRegister","timerEnabled","_checkDividerRegisterFallingEdgeDetector","_incrementTimerCounter","updateTimerCounter","timerCounterWasReset","timerCounterOverflowDelay","timerCounter","updateTimerModulo","timerModulo","updateTimerControl","oldTimerEnabled","newTimerInputClock","oldTimerCounterMaskBit","_getTimerCounterMaskBit","timerInputClock","newTimerCounterMaskBit","shouldIncrementTimerCounter","timerCounterMask","memoryLocationTimerCounter","memoryLocationTimerModulo","memoryLocationTimerControl","initializeTimers","batchProcessTimers","updateTimers","cyclesIncreased","curDividerRegister","counter","newDividerRegister","timerCounterMaskBit","Serial","updateTransferControl","isShiftClockInternal","isClockSpeedFast","transferStartFlag","memoryLocationSerialTransferData","memoryLocationSerialTransferControl","numberOfBitsTransferred","initializeSerial","updateSerial","oldCycles","curCycles","_checkFallingEdgeDetector","transferData","transferControl","newCycles","maskBit","_getFallingEdgeMaskBit","Joypad","updateJoypad","joypadRegisterFlipped","isDpadType","isButtonType","up","down","left","right","a","b","select","start","memoryLocationJoypadRegister","getJoypadState","joypadRegister","setJoypadState","_pressJoypadButton","_releaseJoypadButton","buttonId","isStopped","isButtonStateChanging","_getJoypadButtonStateFromButtonId","_setJoypadButtonStateFromButtonId","isDpadTypeButton","shouldRequestInterrupt","isPressed","handleBanking","Memory","isRomOnly","isMBC1","isMBC2","romEnableByte","isRamBankingEnabled","isMBC5","currentRomBank","romBankLowerBits","isMBC3","isMBC1RomModeEnabled","romBankHigherBits","ramBankBits","currentRamBank","getRomBankAddress","gameboyOffset","switchableCartridgeRomLocation","getRamBankAddress","cartridgeRamLocation","initializeDma","startDmaTransfer","sourceAddressOffset","sourceAddress","spriteInformationByte","spriteInformationAddress","spriteInformationTableLocation","DMACycles","startHdmaTransfer","hdmaTriggerByteToBeWritten","isHblankHdmaActive","hdmaTriggerByte","memoryLocationHdmaTrigger","hdmaSource","getHdmaSourceFromMemory","hdmaDestination","getHdmaDestinationFromMemory","transferLength","hblankHdmaTransferLengthRemaining","hblankHdmaSource","hblankHdmaDestination","hdmaTransfer","updateHblankHdma","bytesToTransfer","remainingTransferLength","transferLengthAsByte","sourceByte","eightBitLoadFromGBMemoryWithTraps","hdmaDestinationWithWrapping","hdmaCycles","hdmaSourceHigh","memoryLocationHdmaSourceHigh","hdmaSourceLow","memoryLocationHdmaSourceLow","hdmaDestinationHigh","memoryLocationHdmaDestinationHigh","hdmaDestinationLow","memoryLocationHdmaDestinationLow","videoRamLocation","checkWriteTraps","memoryLocationSpeedSwitch","memoryLocationBootROMSwitch","echoRamLocation","wramOffset","spriteInformationTableLocationEnd","Lcd","currentLcdMode","unusableMemoryLocation","unusableMemoryEndLocation","memoryLocationLcdControl","memoryLocationWindowX","updateLcdControl","memoryLocationLcdStatus","updateLcdStatus","memoryLocationScanlineRegister","scanlineRegister","memoryLocationCoincidenceCompare","coincidenceCompare","memoryLocationDmaTransfer","memoryLocationScrollX","scrollX","memoryLocationScrollY","scrollY","windowX","memoryLocationWindowY","windowY","memoryLocationGBCWRAMBank","memoryLocationGBCVRAMBank","getWasmBoyOffsetFromGameBoyOffset","gameboyOffsetHighByte","internalRamBankZeroLocation","wramBankId","Breakpoints","readGbMemory","writeGbMemory","reachedBreakpoint","setProgramCounterBreakpoint","breakpoint","resetProgramCounterBreakpoint","setReadGbMemoryBreakpoint","resetReadGbMemoryBreakpoint","setWriteGbMemoryBreakpoint","resetWriteGbMemoryBreakpoint","sixteenBitStoreIntoGBMemoryWithTraps","nextOffset","currentLcdStatus","valueNoBottomBits","lcdStatusOnlyBottomBits","wasLcdEnabled","enabled","windowTileMapDisplaySelect","windowDisplayEnabled","bgWindowTileDataSelect","bgTileMapDisplaySelect","tallSpriteSize","spriteDisplayEnable","bgDisplayEnabled","resetLcd","shouldBlankScreen","scanlineCycleCounter","lcdStatus","setLcdStatus","lcdMode","newLcdMode","MIN_CYCLES_SPRITES_LCD_MODE","checkCoincidence","renderBackground","tileMapMemoryLocation","pixelYPositionInMap","drawBackgroundWindowScanline","renderWindow","xOffset","iStart","tileYPositionInMap","pixelXPositionInMap","tileXPositionInMap","tileMapAddress","usedTileCache","drawLineOfTileFromTileCache","drawLineOfTileFromTileId","drawColorPixelFromTileId","drawMonochromePixelFromTileId","xPixel","yPixel","pixelYInTile","setPixelOnFrame","wasLastTileHorizontallyFlipped","isCurrentTileHorizontallyFlipped","tileCacheIndex","xPos","previousXPixel","previousTilePixelLocation","getRgbPixelStart","pixelPriority","xOffsetTileWidthRemainder","tileXStart","tileXEnd","renderSprites","useLargerSprites","spriteTableIndex","index","memoryLocationSpriteAttributesTable","spriteYPosition","spriteXPosition","spriteTileId","spriteHeight","isSpritePriorityBehindWindowAndBackground","flipSpriteY","flipSpriteX","currentSpriteLine","spriteTileAddressStart","memoryLocationTileDataSelectOneStart","spriteTileAddress","spriteDataByteOneForLineOfTilePixels","spriteDataByteTwoForLineOfTilePixels","tilePixel","spritePixelXInTile","spriteColorId","spriteXPixelLocationInCameraView","shouldShowFromLcdcPriority","shouldHideFromOamPriority","shouldHideFromBgPriority","bgColorFromPriorityByte","spritePaletteLocation","MAX_CYCLES_PER_SCANLINE","MIN_CYCLES_TRANSFER_DATA_LCD_MODE","memoryLocationTileMapSelectZeroStart","memoryLocationTileMapSelectOneStart","batchProcessGraphics","updateGraphics","initializeGraphics","_drawScanline","_renderEntireFrame","wasmBoyAddress","checkReadTraps","currentSpeedSwitchRegister","upperDividerRegisterBits","readTrapResult","sixteenBitLoadFromGBMemory","lowByteReadTrapResult","highByteReadTrapResult","cartridgeRomLocation","internalRamBankOneLocation","initializeCartridge","cartridgeType","MAX_CYCLES_PER_FRAME","enableHalt","isHaltNormal","haltTypeValue","isHaltBug","registerA","registerB","registerC","registerD","registerE","registerH","registerL","initializeCpu","addARegister","addAThroughCarryRegister","overflowedResult","subARegister","negativeRegister","subAThroughCarryRegister","carryRegisterCheck","andARegister","xorARegister","orARegister","cpARegister","tempResult","rotateRegisterLeft","rotateRegisterRight","rotateRegisterLeftThroughCarry","hasHighbit","rotateRegisterRightThroughCarry","hasLowBit","shiftLeftRegister","shiftRightArithmeticRegister","hasLowbit","swapNibblesOnRegister","highNibble","lowNibble","shiftRightLogicalRegister","testBitOnRegister","testByte","setBitOnRegister","bitValue","setByte","relativeJump","relativeJumpOffset","handleCbOpcode","cbOpcode","handledOpcode","instructionRegisterValue","instructionRegisterResult","registerNumber","eightBitLoadSyncCycles","opcodeHighNibble","eightBitStoreSyncCycles","executeOpcode$$1","opcode","handleOpcode0x","handleOpcode1x","handleOpcode2x","handleOpcode3x","handleOpcode4x","handleOpcode5x","handleOpcode6x","handleOpcode7x","handleOpcode8x","handleOpcode9x","handleOpcodeAx","handleOpcodeBx","handleOpcodeCx","handleOpcodeDx","handleOpcodeEx","handleOpcodeFx","syncCycles","sixteenBitLoadSyncCycles","sixteenBitStoreSyncCycles","getDataByteOne","getDataByteTwo","getConcatenatedDataByte","concatenatedDataByte","registerBC3","registerHL","registerBC9","registerBCB","speedSwitch","registerDE3","registerDE9","registerDEA","registerDEB","sixteenBitDataByte","registerHL2","registerHL3","adjustedRegister","adjustment","registerHL9","registerHLA","registerHLB","registerHL4","valueAtHL4","incrementer","registerHL5","valueAtHL5","valueAtHL6","valueAtHLE","registerBC1","cbCycles","registerDE1","largeDataByteOne","registerHL1","signedDataByteOne","registerAF1","Cycles","cyclesPerCycleSet","cycleSets","cycles","getCyclesPerCycleSet","getCycleSets","getCycles","trackCyclesRan","resetCycles","Execute","stepsPerStepSet","stepSets","steps","RESPONSE_CONDITION_ERROR","RESPONSE_CONDITION_FRAME","RESPONSE_CONDITION_AUDIO","RESPONSE_CONDITION_BREAKPOINT","getStepsPerStepSet","getStepSets","getSteps","trackStepsRan","esteps","resetSteps","executeMultipleFrames","numberOfFrames","frameResponse","framesRun","executeFrame","executeUntilCondition","executeFrameAndCheckAudio","maxAudioBuffer","checkMaxCyclesPerFrame","audioBufferSize","errorCondition","frameCondition","audioBufferCondition","executeStep","setHasCoreStarted","haltBugOpcode","haltBugCycles","interruptCycles","hasStarted","hasCoreStarted","config","gbcType","initializeVarious","isGBC","getRegisterA","getRegisterB","getRegisterC","getRegisterD","getRegisterE","getRegisterH","getRegisterL","getRegisterF","getProgramCounter","getStackPointer","getOpcodeAtProgramCounter","getLY","getScrollX","getScrollY","getWindowX","getWindowY","drawBackgroundMapToWasmMemory","showColor","drawTileDataToWasmMemory","tileDataMapGridY","tileDataMapGridX","spriteRow","spriteColumn","spriteIndex","currentSpriteAttributes","spriteVramBankId","foundTileMapAddress","drawOamToWasmMemory","tilesToDraw","getDIV","getTIMA","getTMA","getTAC","updateDebugGBMemory","getWasmBoyTsCore","instance","exports","WasmBoyCore","byteMemory","type"],"mappings":"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"}